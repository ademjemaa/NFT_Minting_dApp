{"ast":null,"code":"import { createAction, createSlice, combineReducers, configureStore } from '@reduxjs/toolkit';\nimport { ChainID, Address, ExtensionProvider, HWProvider, WalletConnectProvider, WalletProvider, ProxyProvider, ApiProvider, TransactionVersion, TransactionOptions, Transaction, Balance, TransactionPayload, GasLimit, GasPrice, Token, Nonce as Nonce$1 } from '@elrondnetwork/erdjs';\nimport isEqual from 'lodash/isEqual';\nimport { createSelectorCreator, defaultMemoize, createSelector } from 'reselect';\nimport { REHYDRATE, persistReducer, FLUSH, PAUSE, PERSIST, PURGE, REGISTER, persistStore } from 'redux-persist';\nimport storage$1 from 'redux-persist/lib/storage';\nimport throttle from 'lodash/throttle';\nimport sessionStorage$1 from 'redux-persist/lib/storage/session';\nimport omit from 'lodash/omit';\nimport BigNumber from 'bignumber.js';\nimport { Nonce, TransactionOptions as TransactionOptions$1, createBalanceBuilder, Token as Token$1, TokenType, Address as Address$1 } from '@elrondnetwork/erdjs/out';\nimport { validation, operations } from '@elrondnetwork/dapp-utils';\nimport React__default, { useState, useRef, useEffect, useContext, useCallback, createElement, Fragment, Component, useMemo } from 'react';\nimport { createStoreHook, createDispatchHook, createSelectorHook, Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport axios from 'axios';\nimport { Signature } from '@elrondnetwork/erdjs/out/signature';\nimport qs from 'qs';\nimport debounce from 'lodash/debounce'; // A type of promise-like that resolves synchronously and supports only one observer\n\nconst _Pact = /*#__PURE__*/function () {\n  function _Pact() {}\n\n  _Pact.prototype.then = function (onFulfilled, onRejected) {\n    const result = new _Pact();\n    const state = this.s;\n\n    if (state) {\n      const callback = state & 1 ? onFulfilled : onRejected;\n\n      if (callback) {\n        try {\n          _settle(result, 1, callback(this.v));\n        } catch (e) {\n          _settle(result, 2, e);\n        }\n\n        return result;\n      } else {\n        return this;\n      }\n    }\n\n    this.o = function (_this) {\n      try {\n        const value = _this.v;\n\n        if (_this.s & 1) {\n          _settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n        } else if (onRejected) {\n          _settle(result, 1, onRejected(value));\n        } else {\n          _settle(result, 2, value);\n        }\n      } catch (e) {\n        _settle(result, 2, e);\n      }\n    };\n\n    return result;\n  };\n\n  return _Pact;\n}(); // Settles a pact synchronously\n\n\nfunction _settle(pact, state, value) {\n  if (!pact.s) {\n    if (value instanceof _Pact) {\n      if (value.s) {\n        if (state & 1) {\n          state = value.s;\n        }\n\n        value = value.v;\n      } else {\n        value.o = _settle.bind(null, pact, state);\n        return;\n      }\n    }\n\n    if (value && value.then) {\n      value.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n      return;\n    }\n\n    pact.s = state;\n    pact.v = value;\n    const observer = pact.o;\n\n    if (observer) {\n      observer(pact);\n    }\n  }\n}\n\nfunction _isSettledPact(thenable) {\n  return thenable instanceof _Pact && thenable.s & 1;\n} // Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\n\n\nfunction _forTo(array, body, check) {\n  var i = -1,\n      pact,\n      reject;\n\n  function _cycle(result) {\n    try {\n      while (++i < array.length && (!check || !check())) {\n        result = body(i);\n\n        if (result && result.then) {\n          if (_isSettledPact(result)) {\n            result = result.v;\n          } else {\n            result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n            return;\n          }\n        }\n      }\n\n      if (pact) {\n        _settle(pact, 1, result);\n      } else {\n        pact = result;\n      }\n    } catch (e) {\n      _settle(pact || (pact = new _Pact()), 2, e);\n    }\n  }\n\n  _cycle();\n\n  return pact;\n}\n\nconst _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\"; // Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\n\n\nfunction _forOf(target, body, check) {\n  if (typeof target[_iteratorSymbol] === \"function\") {\n    var iterator = target[_iteratorSymbol](),\n        step,\n        pact,\n        reject;\n\n    function _cycle(result) {\n      try {\n        while (!(step = iterator.next()).done && (!check || !check())) {\n          result = body(step.value);\n\n          if (result && result.then) {\n            if (_isSettledPact(result)) {\n              result = result.v;\n            } else {\n              result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n              return;\n            }\n          }\n        }\n\n        if (pact) {\n          _settle(pact, 1, result);\n        } else {\n          pact = result;\n        }\n      } catch (e) {\n        _settle(pact || (pact = new _Pact()), 2, e);\n      }\n    }\n\n    _cycle();\n\n    if (iterator.return) {\n      var _fixup = function (value) {\n        try {\n          if (!step.done) {\n            iterator.return();\n          }\n        } catch (e) {}\n\n        return value;\n      };\n\n      if (pact && pact.then) {\n        return pact.then(_fixup, function (e) {\n          throw _fixup(e);\n        });\n      }\n\n      _fixup();\n    }\n\n    return pact;\n  } // No support for Symbol.iterator\n\n\n  if (!(\"length\" in target)) {\n    throw new TypeError(\"Object is not iterable\");\n  } // Handle live collections properly\n\n\n  var values = [];\n\n  for (var i = 0; i < target.length; i++) {\n    values.push(target[i]);\n  }\n\n  return _forTo(values, function (i) {\n    return body(values[i]);\n  }, check);\n}\n\nconst _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously call a function and send errors to recovery continuation\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n} // Asynchronously await a promise and pass the result to a finally continuation\n\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, result);\n}\n\nvar logoutAction = createAction('logout');\nvar loginAction = createAction('login', function (payload) {\n  return {\n    payload: payload\n  };\n});\nvar createDeepEqualSelector = createSelectorCreator(defaultMemoize, isEqual);\n\nvar networkConfigSelector = function networkConfigSelector(state) {\n  return state.networkConfig;\n};\n\nvar proxySelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.proxy;\n});\nvar providerSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.provider;\n});\nvar chainIDSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return new ChainID(state.chainID);\n});\nvar apiProviderSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.apiProvider;\n});\nvar walletConnectBridgeAddressSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network.walletConnectBridgeAddress;\n});\nvar walletConnectDeepLinkSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network.walletConnectDeepLink;\n});\nvar networkSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network;\n});\nvar apiNetworkSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.apiAddress;\n});\nvar explorerAddressSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.explorerAddress;\n});\nvar egldLabelSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.egldLabel;\n});\nvar TransactionServerStatusesEnum;\n\n(function (TransactionServerStatusesEnum) {\n  TransactionServerStatusesEnum[\"pending\"] = \"pending\";\n  TransactionServerStatusesEnum[\"fail\"] = \"fail\";\n  TransactionServerStatusesEnum[\"invalid\"] = \"invalid\";\n  TransactionServerStatusesEnum[\"success\"] = \"success\";\n  TransactionServerStatusesEnum[\"executed\"] = \"executed\";\n  TransactionServerStatusesEnum[\"completed\"] = \"completed\";\n})(TransactionServerStatusesEnum || (TransactionServerStatusesEnum = {}));\n\nvar TransactionBatchStatusesEnum;\n\n(function (TransactionBatchStatusesEnum) {\n  TransactionBatchStatusesEnum[\"signed\"] = \"signed\";\n  TransactionBatchStatusesEnum[\"cancelled\"] = \"cancelled\";\n  TransactionBatchStatusesEnum[\"success\"] = \"success\";\n  TransactionBatchStatusesEnum[\"sent\"] = \"sent\";\n  TransactionBatchStatusesEnum[\"fail\"] = \"fail\";\n  TransactionBatchStatusesEnum[\"timedOut\"] = \"timedOut\";\n})(TransactionBatchStatusesEnum || (TransactionBatchStatusesEnum = {}));\n\nvar LoginMethodsEnum;\n\n(function (LoginMethodsEnum) {\n  LoginMethodsEnum[\"ledger\"] = \"ledger\";\n  LoginMethodsEnum[\"walletconnect\"] = \"walletconnect\";\n  LoginMethodsEnum[\"wallet\"] = \"wallet\";\n  LoginMethodsEnum[\"extension\"] = \"extension\";\n  LoginMethodsEnum[\"extra\"] = \"extra\";\n  LoginMethodsEnum[\"none\"] = \"\";\n})(LoginMethodsEnum || (LoginMethodsEnum = {}));\n\nvar NotificationTypesEnum;\n\n(function (NotificationTypesEnum) {\n  NotificationTypesEnum[\"warning\"] = \"warning\";\n  NotificationTypesEnum[\"error\"] = \"error\";\n  NotificationTypesEnum[\"success\"] = \"success\";\n})(NotificationTypesEnum || (NotificationTypesEnum = {}));\n\nvar TypesOfSmartContractCallsEnum;\n\n(function (TypesOfSmartContractCallsEnum) {\n  TypesOfSmartContractCallsEnum[\"MultiESDTNFTTransfer\"] = \"MultiESDTNFTTransfer\";\n  TypesOfSmartContractCallsEnum[\"ESDTNFTTransfer\"] = \"ESDTNFTTransfer\";\n})(TypesOfSmartContractCallsEnum || (TypesOfSmartContractCallsEnum = {}));\n\nvar EnvironmentsEnum;\n\n(function (EnvironmentsEnum) {\n  EnvironmentsEnum[\"testnet\"] = \"testnet\";\n  EnvironmentsEnum[\"devnet\"] = \"devnet\";\n  EnvironmentsEnum[\"mainnet\"] = \"mainnet\";\n})(EnvironmentsEnum || (EnvironmentsEnum = {}));\n\nvar accountInfoSelector = function accountInfoSelector(state) {\n  return state.account;\n};\n\nvar addressSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.address;\n});\nvar accountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.account;\n});\nvar accountBalanceSelector = createDeepEqualSelector(accountSelector, function (account) {\n  return account.balance;\n});\nvar accountNonceSelector = createDeepEqualSelector(accountSelector, function (state) {\n  var _state$nonce;\n\n  return (state === null || state === void 0 ? void 0 : (_state$nonce = state.nonce) === null || _state$nonce === void 0 ? void 0 : _state$nonce.valueOf()) || 0;\n});\nvar shardSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.shard;\n});\nvar ledgerAccountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.ledgerAccount;\n});\nvar walletConnectAccountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.walletConnectAccount;\n});\nvar isAccountLoadingSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.isAccountLoading;\n});\nvar isAccountLoadingErrorSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.accountLoadingError;\n});\n\nvar loginInfoSelector = function loginInfoSelector(state) {\n  return state.loginInfo;\n};\n\nvar loginMethodSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.loginMethod;\n});\nvar isLoggedInSelector = createDeepEqualSelector(loginInfoSelector, addressSelector, function (state, address) {\n  return state.loginMethod != LoginMethodsEnum.none && Boolean(address);\n});\nvar walletConnectLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.walletConnectLogin;\n});\nvar ledgerLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.ledgerLogin;\n});\nvar walletLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.walletLogin;\n});\nvar loginExpiresAtSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.loginExpiresAt;\n});\n\nfunction getNewLoginExpiresTimestamp() {\n  return new Date().setHours(new Date().getHours() + 24);\n}\n\nfunction optionalRedirect(callbackUrl, shouldRedirect) {\n  if (shouldRedirect && callbackUrl != null) {\n    setTimeout(function () {\n      if (!window.location.pathname.includes(callbackUrl)) {\n        window.location.href = callbackUrl;\n      }\n    }, 200);\n  }\n}\n\nfunction getBridgeAddressFromNetwork(walletConnectBridgeAddresses) {\n  return walletConnectBridgeAddresses[Math.floor(Math.random() * walletConnectBridgeAddresses.length)];\n}\n\nvar initialState = {\n  loginMethod: LoginMethodsEnum.none,\n  walletConnectLogin: null,\n  ledgerLogin: null,\n  tokenLogin: null,\n  walletLogin: null,\n  extensionLogin: null,\n  loginExpiresAt: getNewLoginExpiresTimestamp()\n};\nvar loginInfoSlice = createSlice({\n  name: 'loginInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setLoginMethod: function setLoginMethod(state, action) {\n      state.loginMethod = action.payload;\n    },\n    setTokenLogin: function setTokenLogin(state, action) {\n      state.tokenLogin = action.payload;\n    },\n    setTokenLoginSignature: function setTokenLoginSignature(state, action) {\n      if ((state === null || state === void 0 ? void 0 : state.tokenLogin) != null) {\n        state.tokenLogin.signature = action.payload;\n      }\n    },\n    setWalletLogin: function setWalletLogin(state, action) {\n      state.walletLogin = action.payload;\n    },\n    setWalletConnectLogin: function setWalletConnectLogin(state, action) {\n      state.walletConnectLogin = action.payload;\n    },\n    setLedgerLogin: function setLedgerLogin(state, action) {\n      state.ledgerLogin = action.payload;\n    },\n    setLoginExpiresAt: function setLoginExpiresAt(state, action) {\n      state.loginExpiresAt = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState;\n    });\n    builder.addCase(loginAction, function (state, action) {\n      state.loginMethod = action.payload.loginMethod;\n      state.loginExpiresAt = getNewLoginExpiresTimestamp();\n    });\n  }\n});\nvar _loginInfoSlice$actio = loginInfoSlice.actions,\n    setWalletConnectLogin = _loginInfoSlice$actio.setWalletConnectLogin,\n    setLedgerLogin = _loginInfoSlice$actio.setLedgerLogin,\n    setTokenLogin = _loginInfoSlice$actio.setTokenLogin,\n    setTokenLoginSignature = _loginInfoSlice$actio.setTokenLoginSignature,\n    setWalletLogin = _loginInfoSlice$actio.setWalletLogin,\n    setLoginExpiresAt = _loginInfoSlice$actio.setLoginExpiresAt;\nvar loginInfo = loginInfoSlice.reducer;\nvar whitelistedActions = ['loginInfoSlice/setLoginExpiresAt', 'logout'];\nvar throttledSetNewToken = throttle(function (store) {\n  store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n}, 5000);\n\nvar loginSessionMiddleware = function loginSessionMiddleware(store) {\n  return function (next) {\n    return function (action) {\n      if (whitelistedActions.includes(action.type)) {\n        return next(action);\n      }\n\n      var appState = store.getState();\n      var loginTimestamp = loginExpiresAtSelector(appState);\n      var isLoggedIn = isLoggedInSelector(appState);\n\n      if (!isLoggedIn) {\n        return next(action);\n      }\n\n      if (loginTimestamp == null) {\n        return store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n      }\n\n      var now = Date.now();\n      var isExpired = loginTimestamp - now < 0;\n\n      if (isExpired) {\n        return setTimeout(function () {\n          try {\n            var provider = providerSelector(store.getState());\n            console.log('session expired');\n            store.dispatch(logoutAction());\n\n            var _temp2 = _catch(function () {\n              return Promise.resolve(provider.logout({\n                callbackUrl: '/'\n              })).then(function () {});\n            }, function (err) {\n              console.error('error logging out', err);\n            });\n\n            return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }, 1000);\n      } else {\n        throttledSetNewToken(store);\n      }\n\n      return next(action);\n    };\n  };\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar emptyAccount = {\n  balance: '...',\n  address: '',\n  nonce: 0\n};\nvar initialState$1 = {\n  address: '',\n  account: emptyAccount,\n  ledgerAccount: null,\n  publicKey: '',\n  walletConnectAccount: null,\n  isAccountLoading: true,\n  accountLoadingError: null\n};\nvar accountInfoSlice = createSlice({\n  name: 'accountInfoSlice',\n  initialState: initialState$1,\n  reducers: {\n    setAddress: function setAddress(state, action) {\n      var address = action.payload;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    },\n    setAccount: function setAccount(state, action) {\n      state.account = action.payload;\n      state.isAccountLoading = false;\n      state.accountLoadingError = null;\n    },\n    setAccountNonce: function setAccountNonce(state, action) {\n      state.account.nonce = action.payload;\n    },\n    setAccountShard: function setAccountShard(state, action) {\n      state.shard = action.payload;\n    },\n    setLedgerAccount: function setLedgerAccount(state, action) {\n      state.ledgerAccount = action.payload;\n    },\n    setWalletConnectAccount: function setWalletConnectAccount(state, action) {\n      state.walletConnectAccount = action.payload;\n    },\n    setIsAccountLoading: function setIsAccountLoading(state, action) {\n      state.isAccountLoading = action.payload;\n      state.accountLoadingError = null;\n    },\n    setAccountLoadingError: function setAccountLoadingError(state, action) {\n      state.accountLoadingError = action.payload;\n      state.isAccountLoading = false;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$1;\n    });\n    builder.addCase(loginAction, function (state, action) {\n      var address = action.payload.address;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    });\n    builder.addCase(REHYDRATE, function (state, action) {\n      var _action$payload;\n\n      if (!((_action$payload = action.payload) !== null && _action$payload !== void 0 && _action$payload.account)) {\n        return;\n      }\n\n      var accountInfo = action.payload.account;\n      var address = accountInfo.address,\n          shard = accountInfo.shard,\n          account = accountInfo.account,\n          publicKey = accountInfo.publicKey;\n      state.address = address;\n      state.shard = shard;\n      state.account = account;\n      state.publicKey = publicKey;\n    });\n  }\n});\nvar _accountInfoSlice$act = accountInfoSlice.actions,\n    setAccount = _accountInfoSlice$act.setAccount,\n    setAccountNonce = _accountInfoSlice$act.setAccountNonce,\n    setAccountShard = _accountInfoSlice$act.setAccountShard,\n    setLedgerAccount = _accountInfoSlice$act.setLedgerAccount,\n    setIsAccountLoading = _accountInfoSlice$act.setIsAccountLoading,\n    setAccountLoadingError = _accountInfoSlice$act.setAccountLoadingError;\nvar account = accountInfoSlice.reducer;\nvar DAPP_INIT_ROUTE = '/dapp/init';\n\nvar getProviderType = function getProviderType(provider) {\n  switch (provider === null || provider === void 0 ? void 0 : provider.constructor) {\n    case WalletProvider:\n      return LoginMethodsEnum.wallet;\n\n    case WalletConnectProvider:\n      return LoginMethodsEnum.walletconnect;\n\n    case HWProvider:\n      return LoginMethodsEnum.ledger;\n\n    case ExtensionProvider:\n      return LoginMethodsEnum.extension;\n\n    case EmptyProvider:\n      return LoginMethodsEnum.none;\n\n    default:\n      return LoginMethodsEnum.extra;\n  }\n};\n\nvar newWalletProvider = function newWalletProvider(walletAddress) {\n  return new WalletProvider(\"\" + walletAddress + DAPP_INIT_ROUTE);\n};\n\nvar notInitializedError = function notInitializedError(caller) {\n  return \"Unable to perform \" + caller + \", Provider not initialized\";\n};\n\nvar EmptyProvider = /*#__PURE__*/function () {\n  function EmptyProvider() {}\n\n  var _proto = EmptyProvider.prototype;\n\n  _proto.init = function init() {\n    return Promise.resolve(false);\n  };\n\n  _proto.login = function login(options) {\n    throw new Error(notInitializedError(\"login with options: \" + options));\n  };\n\n  _proto.logout = function logout(options) {\n    try {\n      throw new Error(notInitializedError(\"logout with options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.getAddress = function getAddress() {\n    try {\n      throw new Error(notInitializedError('getAddress'));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.isInitialized = function isInitialized() {\n    return false;\n  };\n\n  _proto.isConnected = function isConnected() {\n    return Promise.resolve(false);\n  };\n\n  _proto.sendTransaction = function sendTransaction(transaction, options) {\n    try {\n      throw new Error(notInitializedError(\"sendTransaction with transactions: \" + transaction + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signTransaction = function signTransaction(transaction, options) {\n    try {\n      throw new Error(notInitializedError(\"signTransaction with transactions: \" + transaction + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signTransactions = function signTransactions(transactions, options) {\n    try {\n      throw new Error(notInitializedError(\"signTransactions with transactions: \" + transactions + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signMessage = function signMessage(message) {\n    try {\n      throw new Error(notInitializedError(\"signTransactions with \" + message));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return EmptyProvider;\n}();\n\nvar emptyProvider = new EmptyProvider();\nvar initialState$2 = {\n  log: function log() {\n    return null;\n  },\n  getProvider: function getProvider() {\n    return emptyProvider;\n  },\n  init: function init() {\n    return null;\n  }\n};\nvar extraActionsSlice = createSlice({\n  name: 'extraActionsSlice',\n  initialState: initialState$2,\n  reducers: {\n    initializeExtraActions: function initializeExtraActions(state, action) {\n      return _extends({}, state, action.payload);\n    }\n  }\n});\nvar initializeExtraActions = extraActionsSlice.actions.initializeExtraActions;\nvar extraActions = extraActionsSlice.reducer;\nvar initialState$3 = {};\nvar modalsSlice = createSlice({\n  name: 'modalsSlice',\n  initialState: initialState$3,\n  reducers: {\n    setTxSubmittedModal: function setTxSubmittedModal(state, action) {\n      state.txSubmittedModal = action.payload;\n    },\n    setNotificationModal: function setNotificationModal(state, action) {\n      state.notificationModal = action.payload;\n    },\n    clearTxSubmittedModal: function clearTxSubmittedModal(state) {\n      state.txSubmittedModal = undefined;\n    },\n    clearNotificationModal: function clearNotificationModal(state) {\n      state.notificationModal = undefined;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$3;\n    });\n  }\n});\nvar _modalsSlice$actions = modalsSlice.actions,\n    setTxSubmittedModal = _modalsSlice$actions.setTxSubmittedModal,\n    setNotificationModal = _modalsSlice$actions.setNotificationModal,\n    clearNotificationModal = _modalsSlice$actions.clearNotificationModal;\nvar modals = modalsSlice.reducer;\nvar defaultNetwork = {\n  id: 'not-configured',\n  name: 'NOT CONFIGURED',\n  egldLabel: '',\n  egldDenomination: '18',\n  decimals: '4',\n  gasPerDataByte: '1500',\n  walletConnectDeepLink: '',\n  walletConnectBridgeAddress: '',\n  walletAddress: '',\n  apiAddress: '',\n  explorerAddress: '',\n  apiTimeout: '4000'\n};\nvar initialState$4 = {\n  network: defaultNetwork,\n  proxy: new ProxyProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  apiProvider: new ApiProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  provider: emptyProvider,\n  chainID: '-1'\n};\nvar networkConfigSlice = createSlice({\n  name: 'appConfig',\n  initialState: initialState$4,\n  reducers: {\n    initializeNetworkConfig: function initializeNetworkConfig(state, action) {\n      var walletConnectBridgeAddress = getBridgeAddressFromNetwork(action.payload.walletConnectBridgeAddresses);\n      var network = omit(action.payload, 'walletConnectBridgeAddresses');\n      var apiAddress = network.apiAddress;\n\n      if (apiAddress) {\n        state.proxy = new ProxyProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n        state.apiProvider = new ApiProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n      }\n\n      state.network = _extends({}, state.network, network, {\n        walletConnectBridgeAddress: walletConnectBridgeAddress\n      });\n    },\n    setChainID: function setChainID(state, action) {\n      state.chainID = action.payload;\n    },\n    setProvider: function setProvider(state, action) {\n      state.provider = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function (state) {\n      state.provider = initialState$4.provider;\n    });\n  }\n});\nvar _networkConfigSlice$a = networkConfigSlice.actions,\n    initializeNetworkConfig = _networkConfigSlice$a.initializeNetworkConfig,\n    setChainID = _networkConfigSlice$a.setChainID,\n    setProvider = _networkConfigSlice$a.setProvider;\nvar networkConfig = networkConfigSlice.reducer;\nvar defaultTransactionErrorMessage = 'Transaction failed';\nvar defaultTransactionSuccessMessage = 'Transaction successful';\nvar defaultTransactionProcessingMessage = 'Processing transaction';\nvar defaultTransactionSubmittedMessage = 'Transaction submitted';\nvar initialState$5 = {};\nvar signTransactionsSlice = createSlice({\n  name: 'transactionsInfo',\n  initialState: initialState$5,\n  reducers: {\n    setTransactionsDisplayInfo: function setTransactionsDisplayInfo(state, action) {\n      var _action$payload = action.payload,\n          sessionId = _action$payload.sessionId,\n          transactionsDisplayInfo = _action$payload.transactionsDisplayInfo;\n\n      if (sessionId != null) {\n        state[sessionId] = {\n          errorMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.errorMessage) || defaultTransactionErrorMessage,\n          successMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.successMessage) || defaultTransactionSuccessMessage,\n          processingMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.processingMessage) || defaultTransactionProcessingMessage,\n          submittedMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.submittedMessage) || defaultTransactionSubmittedMessage,\n          transactionDuration: transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.transactionDuration\n        };\n      }\n    },\n    clearTransactionsInfoForSessionId: function clearTransactionsInfoForSessionId(state, action) {\n      if (action.payload != null) {\n        delete state[action.payload];\n      }\n    },\n    clearTransactionsInfo: function clearTransactionsInfo() {\n      return initialState$5;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$5;\n    });\n  }\n});\nvar _signTransactionsSlic = signTransactionsSlice.actions,\n    setTransactionsDisplayInfo = _signTransactionsSlic.setTransactionsDisplayInfo,\n    clearTransactionsInfoForSessionId = _signTransactionsSlic.clearTransactionsInfoForSessionId;\nvar transactionsInfo = signTransactionsSlice.reducer;\nvar TransactionTypesEnum;\n\n(function (TransactionTypesEnum) {\n  TransactionTypesEnum[\"MultiESDTNFTTransfer\"] = \"MultiESDTNFTTransfer\";\n  TransactionTypesEnum[\"ESDTTransfer\"] = \"ESDTTransfer\";\n  TransactionTypesEnum[\"ESDTNFTTransfer\"] = \"ESDTNFTTransfer\";\n  TransactionTypesEnum[\"esdtTransaction\"] = \"esdtTransaction\";\n  TransactionTypesEnum[\"nftTransaction\"] = \"nftTransaction\";\n  TransactionTypesEnum[\"scCall\"] = \"scCall\";\n})(TransactionTypesEnum || (TransactionTypesEnum = {}));\n\nvar okInHex = '6f6b';\n\nfunction areScCallsSuccessful(scResults) {\n  if (!scResults) {\n    return true;\n  }\n\n  var success = false;\n  scResults.forEach(function (result) {\n    if (result !== null && result !== void 0 && result.data) {\n      var decoded = Buffer.from(result.data, 'base64').toString().split('@');\n      var hasOkPart = Boolean(decoded.find(function (part) {\n        return part === okInHex;\n      }));\n\n      if (hasOkPart) {\n        success = true;\n        return;\n      }\n    }\n  });\n  return success;\n}\n\nfunction isContract(receiver, data) {\n  if (data === void 0) {\n    data = '';\n  }\n\n  try {\n    var extractedAddress = getAddressFromDataField({\n      receiver: receiver,\n      data: data\n    });\n\n    if (!extractedAddress) {\n      return false;\n    }\n\n    return new Address(extractedAddress).isContractAddress();\n  } catch (err) {\n    console.log('err', err);\n    return false;\n  }\n}\n\nfunction getAddressFromDataField(_ref) {\n  var receiver = _ref.receiver,\n      data = _ref.data;\n\n  try {\n    if (!data) {\n      return receiver;\n    }\n\n    var addressIndex = getAddressIndex(data);\n    var parts = data.split('@');\n    return addressIndex > -1 ? parts[addressIndex] : receiver;\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction getAddressIndex(data) {\n  return data.includes(TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer) ? 1 : data.includes(TypesOfSmartContractCallsEnum.ESDTNFTTransfer) ? 4 : -1;\n}\n\nvar pendingBatchTransactionsStates = [TransactionBatchStatusesEnum.sent];\nvar successBatchTransactionsStates = [TransactionBatchStatusesEnum.success];\nvar failBatchTransactionsStates = [TransactionBatchStatusesEnum.fail, TransactionBatchStatusesEnum.cancelled, TransactionBatchStatusesEnum.timedOut];\nvar timedOutBatchTransactionsStates = [TransactionBatchStatusesEnum.timedOut];\nvar pendingServerTransactionsStatuses = [TransactionServerStatusesEnum.pending];\nvar successServerTransactionsStates = [TransactionServerStatusesEnum.success];\nvar completedServerTransactionsStates = [TransactionServerStatusesEnum.completed];\nvar failServerTransactionsStates = [TransactionServerStatusesEnum.fail, TransactionServerStatusesEnum.invalid];\n\nfunction getIsTransactionCompleted(status) {\n  return completedServerTransactionsStates.includes(status);\n}\n\nfunction getIsTransactionPending(status, isScCall) {\n  if (isScCall === void 0) {\n    isScCall = false;\n  }\n\n  var isPending = status != null && (isBatchTransactionPending(status) || isServerTransactionPending(status));\n  return isScCall ? isPending || getIsTransactionSuccessful(status) && !getIsTransactionCompleted(status) : isPending;\n}\n\nfunction getIsTransactionSuccessful(status) {\n  return status != null && (isBatchTransactionSuccessful(status) || isServerTransactionSuccessful(status));\n}\n\nfunction getIsTransactionFailed(status) {\n  return status != null && (isBatchTransactionFailed(status) || isServerTransactionFailed(status));\n}\n\nfunction getIsTransactionTimedOut(status) {\n  return status != null && isBatchTransactionTimedOut(status);\n}\n\nfunction isBatchTransactionPending(status) {\n  return status != null && pendingBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionSuccessful(status) {\n  return status != null && successBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionFailed(status) {\n  return status != null && failBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionTimedOut(status) {\n  return status != null && timedOutBatchTransactionsStates.includes(status);\n}\n\nfunction isServerTransactionPending(status) {\n  return status != null && pendingServerTransactionsStatuses.includes(status);\n}\n\nfunction isServerTransactionSuccessful(status) {\n  return status != null && successServerTransactionsStates.includes(status);\n}\n\nfunction isServerTransactionFailed(status) {\n  return status != null && failServerTransactionsStates.includes(status);\n}\n\nvar base64Regex = /(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)/;\n\nfunction isStringBase64(string) {\n  return base64Regex.test(string);\n}\n\nfunction encodeToBase64(string) {\n  return btoa(string);\n}\n\nfunction decodeBase64(string) {\n  return atob(string);\n}\n\nvar isUtf8 = function isUtf8(str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) > 127) return false;\n  }\n\n  return true;\n};\n\nfunction decodePart(part) {\n  var decodedPart = part;\n\n  try {\n    var hexPart = Buffer.from(part, 'hex').toString().trim();\n\n    if (isUtf8(hexPart) && hexPart.length > 1) {\n      decodedPart = hexPart;\n    }\n  } catch (error) {}\n\n  return decodedPart;\n}\n\nvar getAllStringOccurrences = function getAllStringOccurrences(sourceStr, searchStr) {\n  return [].concat(sourceStr.matchAll(new RegExp(searchStr, 'gi'))).map(function (a) {\n    return a.index;\n  });\n};\n\nfunction parseMultiEsdtTransferData(data) {\n  var transactions = [];\n  var contractCallDataIndex = 0;\n\n  try {\n    if (data !== null && data !== void 0 && data.startsWith(TransactionTypesEnum.MultiESDTNFTTransfer) && data !== null && data !== void 0 && data.includes('@')) {\n      var _data$split = data === null || data === void 0 ? void 0 : data.split('@'),\n          receiver = _data$split[1],\n          encodedTxCount = _data$split[2],\n          rest = _data$split.slice(3);\n\n      if (receiver) {\n        var txCount = new BigNumber(encodedTxCount, 16).toNumber();\n        var itemIndex = 0;\n\n        for (var txIndex = 0; txIndex < txCount; txIndex++) {\n          var transaction = {\n            type: TransactionTypesEnum.nftTransaction,\n            data: '',\n            receiver: receiver\n          };\n\n          for (var index = 0; index < 3; index++) {\n            switch (index) {\n              case 0:\n                transaction.token = decodePart(rest[itemIndex]);\n                transaction.data = rest[itemIndex];\n                break;\n\n              case 1:\n                {\n                  var encodedNonce = rest[itemIndex] && rest[itemIndex].length ? rest[itemIndex] : '';\n\n                  if (encodedNonce) {\n                    transaction.nonce = encodedNonce;\n                  } else {\n                    transaction.type = TransactionTypesEnum.esdtTransaction;\n                  }\n\n                  transaction.data = transaction.data + \"@\" + rest[itemIndex];\n                  break;\n                }\n\n              case 2:\n                transaction.amount = new BigNumber(rest[itemIndex], 16).toString(10);\n                transaction.data = transaction.data + \"@\" + rest[itemIndex];\n                break;\n\n              default:\n                break;\n            }\n\n            contractCallDataIndex = itemIndex + 1;\n            itemIndex++;\n          }\n\n          transactions[txIndex] = transaction;\n        }\n\n        if (transactions.length !== txCount || transactions.some(function (tx) {\n          return getAllStringOccurrences(tx.data, '@').length !== 2;\n        }) || transactions.some(function (tx) {\n          return tx.data.startsWith('@');\n        })) {\n          return [];\n        }\n\n        if (rest[contractCallDataIndex]) {\n          var scCallData = rest[contractCallDataIndex];\n\n          for (var i = contractCallDataIndex + 1; i < rest.length; i++) {\n            scCallData += '@' + rest[i];\n          }\n\n          transactions[txCount] = {\n            type: TransactionTypesEnum.scCall,\n            data: scCallData,\n            receiver: receiver\n          };\n        }\n      }\n    }\n  } catch (err) {\n    return transactions;\n  }\n\n  return transactions;\n}\n\nvar noData = {\n  tokenId: '',\n  amount: ''\n};\n\nfunction getTokenFromData(data) {\n  var tokenTransfer = data === null || data === void 0 ? void 0 : data.includes(TransactionTypesEnum.ESDTTransfer);\n  var nftTransfer = data === null || data === void 0 ? void 0 : data.includes(TransactionTypesEnum.ESDTNFTTransfer);\n\n  if (data != null && (tokenTransfer || nftTransfer)) {\n    try {\n      var encodedToken = data.split('@')[1];\n      var encodedAmount = data.split('@')[tokenTransfer ? 2 : 3];\n      var tokenId = Buffer.from(encodedToken, 'hex').toString('ascii');\n\n      if (tokenId) {\n        var amount = new BigNumber('0x' + encodedAmount.replace('0x', '')).toString(10);\n        return {\n          tokenId: tokenId,\n          amount: amount\n        };\n      } else {\n        return noData;\n      }\n    } catch (e) {\n      return noData;\n    }\n  }\n\n  return noData;\n}\n\nfunction isTokenTransfer(_ref) {\n  var tokenId = _ref.tokenId,\n      erdLabel = _ref.erdLabel;\n  return Boolean(tokenId && tokenId !== erdLabel);\n}\n\nfunction buildUrlParams(search, urlParams) {\n  var urlSearchParams = new URLSearchParams(search);\n  var params = Object.fromEntries(urlSearchParams);\n  var nextUrlParams = new URLSearchParams(_extends({}, params, urlParams)).toString();\n  return {\n    nextUrlParams: nextUrlParams,\n    params: params\n  };\n}\n\nfunction buildReplyUrl(_ref) {\n  var callbackUrl = _ref.callbackUrl,\n      _ref$urlParams = _ref.urlParams,\n      urlParams = _ref$urlParams === void 0 ? {} : _ref$urlParams;\n  var url = callbackUrl;\n\n  if (Object.entries(urlParams).length > 0) {\n    var _URL = new URL(callbackUrl),\n        search = _URL.search,\n        origin = _URL.origin,\n        pathname = _URL.pathname;\n\n    var _buildUrlParams = buildUrlParams(search, urlParams),\n        nextUrlParams = _buildUrlParams.nextUrlParams;\n\n    url = \"\" + origin + pathname + \"?\" + nextUrlParams;\n  }\n\n  return url;\n}\n\nfunction parseTransactionAfterSigning(transaction, isLedger) {\n  if (isLedger === void 0) {\n    isLedger = false;\n  }\n\n  if (isLedger) {\n    transaction.version = TransactionVersion.withTxHashSignVersion();\n    transaction.options = TransactionOptions.withTxHashSignOptions();\n  }\n\n  var parsedTransaction = transaction.toPlainObject();\n  parsedTransaction.hash = transaction.getHash().toString();\n  parsedTransaction.status = TransactionServerStatusesEnum.pending;\n  return parsedTransaction;\n}\n\nvar initialState$6 = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null\n};\nvar transactionsSlice = createSlice({\n  name: 'transactionsSlice',\n  initialState: initialState$6,\n  reducers: {\n    updateSignedTransaction: function updateSignedTransaction(state, action) {\n      state.signedTransactions = _extends({}, state.signedTransactions, action.payload);\n    },\n    updateSignedTransactions: function updateSignedTransactions(state, action) {\n      var _action$payload = action.payload,\n          sessionId = _action$payload.sessionId,\n          status = _action$payload.status,\n          errorMessage = _action$payload.errorMessage,\n          transactions = _action$payload.transactions;\n      var transaction = state.signedTransactions[sessionId];\n\n      if (transaction != null) {\n        state.signedTransactions[sessionId].status = status;\n\n        if (errorMessage != null) {\n          state.signedTransactions[sessionId].errorMessage = errorMessage;\n        }\n\n        if (transactions != null) {\n          state.signedTransactions[sessionId].transactions = transactions;\n        }\n      }\n    },\n    updateSignedTransactionStatus: function updateSignedTransactionStatus(state, action) {\n      var _state$signedTransact, _state$signedTransact2;\n\n      var _action$payload2 = action.payload,\n          sessionId = _action$payload2.sessionId,\n          status = _action$payload2.status,\n          errorMessage = _action$payload2.errorMessage,\n          transactionHash = _action$payload2.transactionHash;\n      var transactions = (_state$signedTransact = state.signedTransactions) === null || _state$signedTransact === void 0 ? void 0 : (_state$signedTransact2 = _state$signedTransact[sessionId]) === null || _state$signedTransact2 === void 0 ? void 0 : _state$signedTransact2.transactions;\n\n      if (transactions != null) {\n        var _state$signedTransact3, _state$signedTransact4, _state$signedTransact5, _state$signedTransact6;\n\n        state.signedTransactions[sessionId].transactions = transactions.map(function (transaction) {\n          if (transaction.hash === transactionHash) {\n            return _extends({}, transaction, {\n              status: status,\n              errorMessage: errorMessage\n            });\n          }\n\n          return transaction;\n        });\n        var areTransactionsSuccessful = (_state$signedTransact3 = state.signedTransactions[sessionId]) === null || _state$signedTransact3 === void 0 ? void 0 : (_state$signedTransact4 = _state$signedTransact3.transactions) === null || _state$signedTransact4 === void 0 ? void 0 : _state$signedTransact4.every(function (transaction) {\n          var isScCall = isContract(transaction.receiver, transaction.data);\n          return isScCall ? getIsTransactionCompleted(transaction.status) : getIsTransactionSuccessful(transaction.status);\n        });\n        var areTransactionsFailed = (_state$signedTransact5 = state.signedTransactions[sessionId]) === null || _state$signedTransact5 === void 0 ? void 0 : (_state$signedTransact6 = _state$signedTransact5.transactions) === null || _state$signedTransact6 === void 0 ? void 0 : _state$signedTransact6.every(function (transaction) {\n          return getIsTransactionFailed(transaction.status);\n        });\n\n        if (areTransactionsSuccessful) {\n          state.signedTransactions[sessionId].status = TransactionBatchStatusesEnum.success;\n        }\n\n        if (areTransactionsFailed) {\n          state.signedTransactions[sessionId].status = TransactionBatchStatusesEnum.fail;\n        }\n      }\n    },\n    setTransactionsToSign: function setTransactionsToSign(state, action) {\n      state.transactionsToSign = action.payload;\n      state.signTransactionsError = null;\n    },\n    clearSignTransactions: function clearSignTransactions(state) {\n      state.transactionsToSign = initialState$6.transactionsToSign;\n      state.signTransactionsError = null;\n    },\n    setSignTransactionsError: function setSignTransactionsError(state, action) {\n      state.signTransactionsError = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$6;\n    });\n    builder.addCase(REHYDRATE, function (state, action) {\n      var _action$payload3;\n\n      if (!((_action$payload3 = action.payload) !== null && _action$payload3 !== void 0 && _action$payload3.transactions)) {\n        return;\n      }\n\n      var signedTransactions = action.payload.transactions.signedTransactions;\n      var parsedSignedTransactions = Object.entries(signedTransactions).reduce(function (acc, _ref) {\n        var sessionId = _ref[0],\n            transaction = _ref[1];\n        var txTimestamp = new Date(sessionId);\n        var expiration = new Date();\n        expiration.setHours(expiration.getHours() + 5);\n        var isExpired = expiration - txTimestamp > 0;\n\n        if (!isExpired) {\n          acc[sessionId] = transaction;\n        }\n\n        return acc;\n      }, {});\n\n      if (signedTransactions != null) {\n        state.signedTransactions = parsedSignedTransactions;\n      }\n    });\n  }\n});\nvar _transactionsSlice$ac = transactionsSlice.actions,\n    updateSignedTransaction = _transactionsSlice$ac.updateSignedTransaction,\n    updateSignedTransactionStatus = _transactionsSlice$ac.updateSignedTransactionStatus,\n    updateSignedTransactions = _transactionsSlice$ac.updateSignedTransactions,\n    setTransactionsToSign = _transactionsSlice$ac.setTransactionsToSign,\n    clearSignTransactions = _transactionsSlice$ac.clearSignTransactions,\n    setSignTransactionsError = _transactionsSlice$ac.setSignTransactionsError;\nvar transactions = transactionsSlice.reducer;\nvar transactionsInfoPersistConfig = {\n  key: 'dapp-core-transactionsInfo',\n  version: 1,\n  storage: sessionStorage$1\n};\nvar transactionsReducer = {\n  key: 'dapp-core-transactions',\n  version: 1,\n  storage: sessionStorage$1,\n  blacklist: ['transactionsToSign']\n};\nvar customReducers = {\n  transactions: persistReducer(transactionsReducer, transactions),\n  transactionsInfo: persistReducer(transactionsInfoPersistConfig, transactionsInfo)\n};\nvar rootReducer = combineReducers(_extends({}, customReducers, {\n  account: account,\n  networkConfig: networkConfig,\n  extraActions: extraActions,\n  loginInfo: loginInfo,\n  modals: modals\n}));\nvar persistConfig = {\n  key: 'dapp-core-store',\n  version: 1,\n  storage: storage$1,\n  whitelist: ['account', 'loginInfo', 'toasts', 'modals']\n};\nvar localStorageReducers = persistReducer(persistConfig, rootReducer);\nvar store = configureStore({\n  reducer: localStorageReducers,\n  middleware: function middleware(getDefaultMiddleware) {\n    return getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER, 'appConfig/setProvider', 'accountInfoSlice/setAccount', 'accountInfoSlice/setAccountNonce', 'extraActionsSlice/initializeExtraActions'],\n        ignoredPaths: ['networkConfig.proxy', 'networkConfig.apiProvider', 'networkConfig.provider', 'payload.nonce', 'account.account.nonce', 'extraActions.log', 'payload.log', 'payload.onLogin', 'extraActions.getProvider', 'extraActions.init']\n      }\n    }).concat(loginSessionMiddleware);\n  }\n});\nvar persistor = persistStore(store);\n\nvar extraActionsSelector = function extraActionsSelector(state) {\n  return state.extraActions;\n};\n\nvar extraActionsInit = createSelector(extraActionsSelector, function (state) {\n  return state.init;\n});\n\nfunction newTransaction(rawTransaction) {\n  var data = rawTransaction.data;\n  var parsedData = data ? atob(data) : '';\n  return new Transaction(_extends({\n    value: Balance.fromString(rawTransaction.value),\n    data: new TransactionPayload(parsedData),\n    nonce: new Nonce(rawTransaction.nonce),\n    receiver: new Address(rawTransaction.receiver),\n    gasLimit: new GasLimit(rawTransaction.gasLimit),\n    gasPrice: new GasPrice(rawTransaction.gasPrice),\n    chainID: new ChainID(rawTransaction.chainID)\n  }, rawTransaction.version ? {\n    version: new TransactionVersion(rawTransaction.version)\n  } : {}, rawTransaction.options ? {\n    options: new TransactionOptions$1(rawTransaction.options)\n  } : {}));\n}\n\nvar transactionsSelectors = function transactionsSelectors(state) {\n  return state.transactions;\n};\n\nvar signedTransactionsSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  return state.signedTransactions;\n});\nvar signTransactionsErrorSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  return state.signTransactionsError;\n});\nvar pendingSignedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref) {\n    var sessionId = _ref[0],\n        txBody = _ref[1];\n\n    if (getIsTransactionPending(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar successfulTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref2) {\n    var sessionId = _ref2[0],\n        txBody = _ref2[1];\n\n    if (getIsTransactionSuccessful(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar completedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref3) {\n    var sessionId = _ref3[0],\n        txBody = _ref3[1];\n\n    if (getIsTransactionCompleted(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar failedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref4) {\n    var sessionId = _ref4[0],\n        txBody = _ref4[1];\n\n    if (getIsTransactionFailed(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar timedOutTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref5) {\n    var sessionId = _ref5[0],\n        txBody = _ref5[1];\n\n    if (getIsTransactionTimedOut(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar transactionsToSignSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  var _state$transactionsTo;\n\n  if ((state === null || state === void 0 ? void 0 : state.transactionsToSign) == null) {\n    return null;\n  }\n\n  return _extends({}, state.transactionsToSign, {\n    transactions: (state === null || state === void 0 ? void 0 : (_state$transactionsTo = state.transactionsToSign) === null || _state$transactionsTo === void 0 ? void 0 : _state$transactionsTo.transactions.map(function (tx) {\n      return newTransaction(tx);\n    })) || []\n  });\n});\nvar transactionStatusSelector = createDeepEqualSelector(signedTransactionsSelector, function (_, transactionSessionId) {\n  return transactionSessionId;\n}, function (signedTransactions, transactionSessionId) {\n  return transactionSessionId != null ? (signedTransactions === null || signedTransactions === void 0 ? void 0 : signedTransactions[transactionSessionId]) || {} : {};\n});\nvar defaultTransactionInfo = {\n  errorMessage: defaultTransactionErrorMessage,\n  successMessage: defaultTransactionSuccessMessage,\n  processingMessage: defaultTransactionProcessingMessage\n};\n\nvar transactionsInfoSelectors = function transactionsInfoSelectors(state) {\n  return state.transactionsInfo;\n};\n\nvar transactionDisplayInfoSelector = createDeepEqualSelector(transactionsInfoSelectors, function (_, transactionSessionId) {\n  return transactionSessionId;\n}, function (transactionsDisplayInfo, transactionSessionId) {\n  return transactionSessionId != null ? (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo[Number(transactionSessionId)]) || defaultTransactionInfo : defaultTransactionInfo;\n});\n\nvar modalsSliceSelector = function modalsSliceSelector(state) {\n  return state.modals;\n};\n\nvar txSubmittedModalSelector = createDeepEqualSelector(modalsSliceSelector, function (state) {\n  return state.txSubmittedModal;\n});\nvar notificationModalSelector = createDeepEqualSelector(modalsSliceSelector, function (state) {\n  return state.notificationModal;\n});\n\nfunction getIsLoggedIn() {\n  return isLoggedInSelector(store.getState());\n}\n\nvar logout = function logout(callbackUrl, onRedirect) {\n  try {\n    var provider = providerSelector(store.getState());\n    var isLoggedIn = getIsLoggedIn();\n\n    if (!isLoggedIn) {\n      return Promise.resolve();\n    }\n\n    store.dispatch(logoutAction());\n\n    var _temp2 = _catch(function () {\n      return Promise.resolve(provider.logout({\n        callbackUrl: callbackUrl\n      })).then(function () {\n        if (callbackUrl) {\n          if (onRedirect) {\n            onRedirect(callbackUrl);\n          } else {\n            window.location.href = callbackUrl;\n          }\n        }\n      });\n    }, function (err) {\n      console.error('error logging out', err);\n    });\n\n    return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction buildUrlParams$1(search, urlParams) {\n  var urlSearchParams = new URLSearchParams(search);\n  var params = Object.fromEntries(urlSearchParams);\n  var nextUrlParams = new URLSearchParams(_extends({}, params, urlParams)).toString();\n  return {\n    nextUrlParams: nextUrlParams,\n    params: params\n  };\n}\n\nvar _excluded = [\"default\"];\n\nfunction switchTrue(object) {\n  var defaultValue = object[\"default\"],\n      rest = _objectWithoutPropertiesLoose(object, _excluded);\n\n  var obj = _extends({\n    \"default\": defaultValue\n  }, rest);\n\n  var result = Object.keys(obj).reduce(function (acc, cur) {\n    var _extends2;\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[cur === 'default' ? 'true' : cur] = obj[cur], _extends2));\n  }, {});\n  return result['true'];\n}\n\nfunction canTransformToPublicKey(address) {\n  try {\n    var checkAddress = new Address(address);\n    return Boolean(checkAddress.bech32());\n  } catch (_unused) {\n    return false;\n  }\n}\n\nfunction addressIsValid(destinationAddress) {\n  var isValidBach = (destinationAddress === null || destinationAddress === void 0 ? void 0 : destinationAddress.startsWith('erd')) && destinationAddress.length === 62 && /^\\w+$/.test(destinationAddress);\n  return isValidBach && canTransformToPublicKey(destinationAddress);\n}\n\nfunction getNetworkProxy() {\n  return proxySelector(store.getState());\n}\n\nfunction getApiProvider() {\n  return apiProviderSelector(store.getState());\n}\n\nfunction getAccountProvider() {\n  return providerSelector(store.getState());\n}\n\nfunction getAccountProviderType() {\n  var provider = getAccountProvider();\n  return getProviderType(provider);\n}\n\nfunction getChainID() {\n  return chainIDSelector(store.getState());\n}\n\nfunction getNetworkConfig() {\n  return networkSelector(store.getState());\n}\n\nfunction getEgldLabel() {\n  return egldLabelSelector(store.getState());\n}\n\nfunction getIsProviderEqualTo(comparedProviderType) {\n  var providerType = getAccountProviderType();\n  return providerType === comparedProviderType;\n}\n\nfunction getAddress() {\n  var search = window.location.search;\n  var appState = store.getState();\n  var provider = providerSelector(appState);\n  var address = addressSelector(appState);\n  var loggedIn = isLoggedInSelector(appState);\n  var walletLogin = walletLoginSelector(appState);\n\n  if (getIsProviderEqualTo(LoginMethodsEnum.ledger) && loggedIn) {\n    return new Promise(function (resolve) {\n      resolve(address);\n    });\n  }\n\n  return !getIsProviderEqualTo(LoginMethodsEnum.none) && !getIsProviderEqualTo(LoginMethodsEnum.wallet) && !getIsProviderEqualTo(LoginMethodsEnum.extra) ? provider.getAddress() : new Promise(function (resolve) {\n    if (walletLogin != null) {\n      var urlSearchParams = new URLSearchParams(search);\n      var params = Object.fromEntries(urlSearchParams);\n\n      if (addressIsValid(params.address)) {\n        resolve(params.address);\n      }\n    }\n\n    if (loggedIn) {\n      resolve(address);\n    }\n\n    resolve('');\n  });\n}\n\nfunction getAccount(address) {\n  var proxy = proxySelector(store.getState());\n  return proxy.getAccount(new Address(address));\n}\n\nfunction setNonce(nonce) {\n  store.dispatch(setAccountNonce(nonce));\n}\n\nfunction getLatestNonce(account) {\n  var appState = store.getState();\n  var currentAccountNonce = accountNonceSelector(appState);\n  return currentAccountNonce && !isNaN(currentAccountNonce) ? Math.max(currentAccountNonce, account.nonce.valueOf()) : account.nonce.valueOf();\n}\n\nvar getAccountBalance = function getAccountBalance(address) {\n  try {\n    var accountAddress = address;\n\n    if (accountAddress == null) {\n      var account = accountSelector(store.getState());\n      accountAddress = account.address;\n    }\n\n    return Promise.resolve(getAccount(accountAddress)).then(function (account) {\n      return account.balance.toString();\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar refreshAccount = function refreshAccount() {\n  try {\n    var _exit4 = false;\n    var provider = providerSelector(store.getState());\n\n    var _temp4 = function () {\n      if (provider.isInitialized()) {\n        var _setNewAccount3 = setNewAccount();\n\n        _exit4 = true;\n        return _setNewAccount3;\n      } else {\n        return _catch(function () {\n          return Promise.resolve(provider.init()).then(function (initialized) {\n            if (!initialized) {\n              _exit4 = true;\n              return;\n            }\n\n            var _setNewAccount2 = setNewAccount();\n\n            _exit4 = true;\n            return _setNewAccount2;\n          });\n        }, function (e) {\n          console.error('Failed initializing provider ', e);\n        });\n      }\n    }();\n\n    return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(function (_result4) {\n      return _exit4 ? _result4 : undefined;\n    }) : _exit4 ? _temp4 : undefined);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar setNewAccount = function setNewAccount() {\n  try {\n    var _exit2 = false;\n\n    var _temp2 = _catch(function () {\n      return Promise.resolve(getAddress()).then(function (address) {\n        return _catch(function () {\n          return Promise.resolve(getAccount(address)).then(function (account) {\n            var accountData = {\n              balance: account.balance.toString(),\n              address: address,\n              nonce: getLatestNonce(account)\n            };\n            store.dispatch(setAccount(accountData));\n            _exit2 = true;\n            return accountData;\n          });\n        }, function (e) {\n          console.error('Failed getting account ', e);\n        });\n      });\n    }, function (e) {\n      console.error('Failed getting address ', e);\n    });\n\n    return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function (_result) {\n      return _exit2 ? _result : null;\n    }) : _exit2 ? _temp2 : null);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar isAddressOfMetachain = function isAddressOfMetachain(pubKey) {\n  var metachainPrefix = Buffer.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  var pubKeyPrefix = pubKey.slice(0, metachainPrefix.length);\n\n  if (pubKeyPrefix.equals(metachainPrefix)) {\n    return true;\n  }\n\n  var zeroAddress = Buffer.alloc(32).fill(0);\n  return pubKey.equals(zeroAddress);\n};\n\nvar getShardOfAddress = function getShardOfAddress(hexPubKey) {\n  try {\n    var numShards = 3;\n    var maskHigh = parseInt('11', 2);\n    var maskLow = parseInt('01', 2);\n    var pubKey = Buffer.from(hexPubKey, 'hex');\n    var lastByteOfPubKey = pubKey[31];\n\n    if (isAddressOfMetachain(pubKey)) {\n      return 4294967295;\n    }\n\n    var shard = lastByteOfPubKey & maskHigh;\n\n    if (shard > numShards - 1) {\n      shard = lastByteOfPubKey & maskLow;\n    }\n\n    return shard;\n  } catch (err) {\n    return -1;\n  }\n};\n\nvar logarithmicRest = function logarithmicRest(position) {\n  var minp = 0;\n  var maxp = 10;\n  var minv = Math.log(0.005);\n  var maxv = Math.log(2);\n  var scale = (maxv - minv) / (maxp - minp);\n  return Math.exp(minv + scale * (position - minp));\n};\n\nvar ledgerErrorCodes = {\n  0x9000: {\n    code: 'codeSuccess',\n    message: 'Success'\n  },\n  0x6985: {\n    code: 'ERR_USER_DENIED',\n    message: 'Rejected by user'\n  },\n  0x6d00: {\n    code: 'ERR_UNKNOWN_INSTRUCTION',\n    message: 'Unknown instruction'\n  },\n  0x6e00: {\n    code: 'ERR_WRONG_CLA',\n    message: 'Wrong CLA'\n  },\n  0x6e01: {\n    code: 'ERR_INVALID_ARGUMENTS',\n    message: 'Invalid arguments'\n  },\n  0x6e02: {\n    code: 'ERR_INVALID_MESSAGE',\n    message: 'Invalid message'\n  },\n  0x6e03: {\n    code: 'ERR_INVALID_P1',\n    message: 'Invalid P1'\n  },\n  0x6e04: {\n    code: 'ERR_MESSAGE_TOO_LONG',\n    message: 'Message too long'\n  },\n  0x6e05: {\n    code: 'ERR_RECEIVER_TOO_LONG',\n    message: 'Receiver too long'\n  },\n  0x6e06: {\n    code: 'ERR_AMOUNT_TOO_LONG',\n    message: 'Amount too long'\n  },\n  0x6e07: {\n    code: 'ERR_CONTRACT_DATA_DISABLED',\n    message: 'Contract data disabled in app options'\n  },\n  0x6e08: {\n    code: 'ERR_MESSAGE_INCOMPLETE',\n    message: 'Message incomplete'\n  },\n  0x6e10: {\n    code: 'ERR_SIGNATURE_FAILED',\n    message: 'Signature failed'\n  },\n  0x6e09: {\n    code: 'ERR_WRONG_TX_VERSION',\n    message: 'Wrong TX version'\n  },\n  0x6e0a: {\n    code: 'ERR_NONCE_TOO_LONG',\n    message: 'Nonce too long'\n  },\n  0x6e0b: {\n    code: 'ERR_INVALID_AMOUNT',\n    message: 'Invalid amount'\n  },\n  0x6e0c: {\n    code: 'ERR_INVALID_FEE',\n    message: 'Invalid fee'\n  },\n  0x6e0d: {\n    code: 'ERR_PRETTY_FAILED',\n    message: 'Pretty failed'\n  },\n  0x6e0e: {\n    code: 'ERR_DATA_TOO_LONG',\n    message: 'Data too long'\n  },\n  0x6e0f: {\n    code: 'ERR_WRONG_TX_OPTIONS',\n    message: 'Invalid transaction options'\n  },\n  0x6e11: {\n    code: 'ERR_SIGN_TX_DEPRECATED',\n    message: 'Regular transaction signing is deprecated in this version. Use hash signing.'\n  }\n};\nvar ledgerErrorCodes$1 = {\n  __proto__: null,\n  'default': ledgerErrorCodes\n};\nvar DEFAULT_MIN_GAS_LIMIT = 50000;\nvar configEndpoint = {\n  mainnet: 'https://api.elrond.com/dapp/config',\n  testnet: 'https://testnet-api.elrond.com/dapp/config',\n  devnet: 'https://devnet-api.elrond.com/dapp/config'\n};\nvar fallbackConfigurations = {\n  devnet: {\n    id: 'devnet',\n    name: 'Devnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://devnet-wallet.elrond.com',\n    apiAddress: 'https://devnet-api.elrond.com',\n    explorerAddress: 'http://devnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  testnet: {\n    id: 'testnet',\n    name: 'Testnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://testnet-wallet.elrond.com',\n    apiAddress: 'https://testnet-api.elrond.com',\n    explorerAddress: 'http://testnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  mainnet: {\n    id: 'mainnet',\n    name: 'Mainnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://wallet.elrond.com',\n    apiAddress: 'https://api.elrond.com',\n    explorerAddress: 'https://explorer.elrond.com',\n    apiTimeout: '4000'\n  }\n};\nvar gasPriceModifier = '0.01';\nvar gasPerDataByte = '1500';\nvar defaultGasPrice = 1000000000;\nvar defaultGasLimit = 60000000;\nvar denomination = 18;\nvar decimals = 4;\nvar dappInitRoute = '/dapp/init';\nvar walletSignSession = 'signSession';\n\nfunction pipe(previous) {\n  return {\n    \"if\": function _if(condition) {\n      if (condition) {\n        return {\n          then: function then(newValue) {\n            return newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue);\n          }\n        };\n      } else {\n        return {\n          then: function then() {\n            return pipe(previous);\n          }\n        };\n      }\n    },\n    then: function then(newValue) {\n      return newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue);\n    },\n    valueOf: function valueOf() {\n      return previous;\n    }\n  };\n}\n\nBigNumber.config({\n  ROUNDING_MODE: BigNumber.ROUND_FLOOR\n});\n\nfunction denominate(_ref) {\n  var input = _ref.input,\n      _ref$denomination = _ref.denomination,\n      denomination$1 = _ref$denomination === void 0 ? denomination : _ref$denomination,\n      _ref$decimals = _ref.decimals,\n      decimals$1 = _ref$decimals === void 0 ? decimals : _ref$decimals,\n      _ref$showLastNonZeroD = _ref.showLastNonZeroDecimal,\n      showLastNonZeroDecimal = _ref$showLastNonZeroD === void 0 ? true : _ref$showLastNonZeroD,\n      _ref$addCommas = _ref.addCommas,\n      addCommas = _ref$addCommas === void 0 ? false : _ref$addCommas;\n  var token = new Token({\n    decimals: denomination$1\n  });\n\n  if (typeof input === 'string' && !validation.stringIsInteger(input, false)) {\n    throw new Error('Invalid input');\n  }\n\n  return pipe(input)[\"if\"](typeof input === 'string').then(function () {\n    return new Balance(token, 0, new BigNumber(input)).toDenominated();\n  })[\"if\"](input.constructor === Balance).then(function () {\n    return input.toDenominated();\n  }).then(function (current) {\n    var bnBalance = new BigNumber(current);\n\n    if (bnBalance.isZero()) {\n      return '0';\n    }\n\n    var balance = bnBalance.toString(10);\n\n    var _balance$split = balance.split('.'),\n        integerPart = _balance$split[0],\n        decimalPart = _balance$split[1];\n\n    var bNdecimalPart = new BigNumber(decimalPart || 0);\n    var decimalPlaces = pipe(0)[\"if\"](Boolean(decimalPart && showLastNonZeroDecimal)).then(function () {\n      return Math.max(decimalPart.length, decimals$1);\n    })[\"if\"](bNdecimalPart.isZero() && !showLastNonZeroDecimal).then(0)[\"if\"](Boolean(decimalPart && !showLastNonZeroDecimal)).then(function () {\n      return Math.min(decimalPart.length, decimals$1);\n    }).valueOf();\n    var shownDecimalsAreZero = decimalPart && decimals$1 >= 1 && decimals$1 <= decimalPart.length && bNdecimalPart.isGreaterThan(0) && new BigNumber(decimalPart.substring(0, decimals$1)).isZero();\n    var formatted = bnBalance.toFormat(decimalPlaces);\n    var formattedBalance = pipe(balance)[\"if\"](addCommas).then(formatted)[\"if\"](Boolean(shownDecimalsAreZero) && !showLastNonZeroDecimal).then(function (current) {\n      var integerPartZero = new BigNumber(integerPart).isZero();\n\n      var _current$split = current.split('.'),\n          numericPart = _current$split[0];\n\n      var zeroPlaceholders = new Array(decimals$1 - 1).fill(0);\n      var zeros = [].concat(zeroPlaceholders, [0]).join('');\n      var minAmount = [].concat(zeroPlaceholders, [1]).join('');\n\n      if (integerPartZero) {\n        return \"<\" + numericPart + \".\" + minAmount;\n      } else {\n        return numericPart + \".\" + zeros;\n      }\n    }).valueOf();\n    return formattedBalance;\n  }).valueOf();\n}\n\nfunction nominate(input, customDenomination) {\n  var balance = createBalanceBuilder(new Token$1({\n    decimals: customDenomination || denomination,\n    type: TokenType.Fungible\n  }));\n  return balance(input).toString();\n}\n\nvar classnames = {};\n\ntry {\n  classnames = require('classnames');\n} catch (err) {}\n\nvar classnames$1 = classnames;\n\nfunction getGeneratedClasses(className, shouldRenderDefaultCss, defaultStyles) {\n  return Object.entries(defaultStyles).reduce(function (acc, _ref) {\n    var key = _ref[0],\n        defaultClassNames = _ref[1];\n    acc[key] = classnames$1 === null || classnames$1 === void 0 ? void 0 : classnames$1(className + \"_\" + key, shouldRenderDefaultCss && defaultClassNames);\n    return acc;\n  }, {});\n}\n\nvar wrapperClassName = 'dapp-core-ui-component';\nvar moment = {};\n\ntry {\n  moment = require('moment');\n} catch (err) {}\n\nvar moment$1 = moment;\n\nvar setItem = function setItem(_ref) {\n  var key = _ref.key,\n      data = _ref.data,\n      expires = _ref.expires;\n  sessionStorage.setItem(String(key), JSON.stringify({\n    expires: expires,\n    data: data\n  }));\n};\n\nvar getItem = function getItem(key) {\n  var item = sessionStorage.getItem(String(key));\n\n  if (!item) {\n    return null;\n  }\n\n  var deserializedItem = JSON.parse(item);\n\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (!deserializedItem.hasOwnProperty('expires') || !deserializedItem.hasOwnProperty('data')) {\n    return null;\n  }\n\n  var expired = moment$1().unix() >= deserializedItem.expires;\n\n  if (expired) {\n    sessionStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nvar removeItem = function removeItem(key) {\n  return sessionStorage.removeItem(String(key));\n};\n\nvar clear = function clear() {\n  return sessionStorage.clear();\n};\n\nvar storage = {\n  setItem: setItem,\n  getItem: getItem,\n  removeItem: removeItem,\n  clear: clear\n};\nvar defaultContextValue = null;\nvar DappCoreContext = React__default.createContext(defaultContextValue);\nvar useStore = createStoreHook(DappCoreContext);\nvar useDispatch = createDispatchHook(DappCoreContext);\nvar useSelector = createSelectorHook(DappCoreContext);\n\nvar useExtensionLogin = function useExtensionLogin(_ref) {\n  var initiateLogin = function initiateLogin() {\n    try {\n      setIsLoading(true);\n      var provider = ExtensionProvider.getInstance();\n      return Promise.resolve(_finallyRethrows(function () {\n        return _catch(function () {\n          return Promise.resolve(provider.init()).then(function (isSuccessfullyInitialized) {\n            if (!isSuccessfullyInitialized) {\n              console.warn('Something went wrong trying to redirect to wallet login..');\n              return;\n            }\n\n            var callbackUrl = encodeURIComponent(\"\" + window.location.origin + callbackRoute);\n\n            var providerLoginData = _extends({\n              callbackUrl: callbackUrl\n            }, token && {\n              token: token\n            });\n\n            return Promise.resolve(provider.login(providerLoginData)).then(function () {\n              dispatch(setProvider(provider));\n              var _provider$account = provider.account,\n                  signature = _provider$account.signature,\n                  address = _provider$account.address;\n\n              if (signature) {\n                dispatch(setTokenLogin({\n                  loginToken: String(token),\n                  signature: signature\n                }));\n              }\n\n              dispatch(loginAction({\n                address: address,\n                loginMethod: LoginMethodsEnum.extension\n              }));\n              optionalRedirect(callbackRoute, redirectAfterLogin);\n            });\n          });\n        }, function (error) {\n          console.error('error loging in', error);\n          setError('error logging in' + error.message);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var dispatch = useDispatch();\n  var loginFailed = Boolean(error);\n  return [initiateLogin, {\n    loginFailed: loginFailed,\n    error: error,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }];\n};\n\nvar useWebWalletLogin = function useWebWalletLogin(_ref) {\n  var initiateLogin = function initiateLogin() {\n    try {\n      var _temp2 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n          var appState = store.getState();\n          var network = networkSelector(appState);\n          var provider = newWalletProvider(network.walletAddress);\n          var now = new Date();\n          var expires = now.setMinutes(now.getMinutes() + 3) / 1000;\n          var walletLoginData = {\n            data: {},\n            expires: expires\n          };\n          store.dispatch(setWalletLogin(walletLoginData));\n          var callbackUrl = encodeURIComponent(\"\" + window.location.origin + callbackRoute);\n\n          var loginData = _extends({\n            callbackUrl: callbackUrl\n          }, token && {\n            token: token\n          });\n\n          return Promise.resolve(provider.login(loginData)).then(function () {});\n        }, function (error) {\n          console.error(error);\n          setError('error logging in' + error.message);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var loginFailed = error != null;\n  return [initiateLogin, {\n    error: error,\n    loginFailed: loginFailed,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }];\n};\n\nvar ledgerAppErrorText = 'Check if Elrond app is open on Ledger';\nvar failInitializeErrorText = 'Could not initialise ledger app, make sure Elrond app is open';\nvar defaultAddressesPerPage = 10;\n\nfunction useLedgerLogin(_ref) {\n  var onStartLogin = function onStartLogin() {\n    try {\n      setError('');\n      return Promise.resolve(_finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n          return function () {\n            if (ledgerAccount != null) {\n              var _hwWalletP = new HWProvider(proxy);\n\n              return Promise.resolve(_hwWalletP.init()).then(function (initialized) {\n                if (!initialized) {\n                  console.warn(failInitializeErrorText);\n                  return;\n                }\n\n                return Promise.resolve(_hwWalletP.login()).then(function (address) {\n                  dispatch(setProvider(_hwWalletP));\n                  dispatch(loginAction({\n                    address: address,\n                    loginMethod: LoginMethodsEnum.ledger\n                  }));\n                  optionalRedirect(callbackRoute, redirectAfterLogin);\n                });\n              });\n            } else {\n              var _temp6 = function () {\n                if ((accounts === null || accounts === void 0 ? void 0 : accounts.length) > 0) {\n                  setShowAddressList(true);\n                } else {\n                  return Promise.resolve(fetchAccounts()).then(function () {\n                    setShowAddressList(true);\n                  });\n                }\n              }();\n\n              if (_temp6 && _temp6.then) return _temp6.then(function () {});\n            }\n          }();\n        }, function (error) {\n          console.error('error ', error);\n          setError(ledgerAppErrorText);\n        });\n      }, function (_wasThrown2, _result4) {\n        setIsLoading(false);\n        if (_wasThrown2) throw _result4;\n        return _result4;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var fetchAccounts = function fetchAccounts() {\n    try {\n      return Promise.resolve(_catch(function () {\n        setIsLoading(true);\n        return Promise.resolve(hwWalletP.init()).then(function (initialized) {\n          if (!initialized) {\n            setError(failInitializeErrorText);\n            console.warn(failInitializeErrorText);\n            setIsLoading(false);\n            return;\n          }\n\n          return Promise.resolve(hwWalletP.getAccounts(startIndex, addressesPerPage)).then(function (accounts) {\n            setAccounts(accounts);\n            setIsLoading(false);\n          });\n        });\n      }, function (err) {\n        if (err.statusCode in ledgerErrorCodes$1) {\n          setError(ledgerErrorCodes$1[err.statusCode].message);\n        } else {\n          setError(ledgerAppErrorText);\n        }\n\n        console.error('error', err);\n        setIsLoading(false);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onConfirmSelectedAddress = function onConfirmSelectedAddress() {\n    try {\n      var _temp3 = function _temp3(_result) {\n        if (_exit2) return _result;\n        setShowAddressList(false);\n        return true;\n      };\n\n      var _exit2 = false;\n\n      var _temp4 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n\n          if (selectedAddress == null) {\n            _exit2 = true;\n            return false;\n          }\n\n          var address = selectedAddress.address,\n              index = selectedAddress.index;\n          dispatch(setLedgerAccount({\n            index: index,\n            address: address\n          }));\n          var hwWalletProvider = new HWProvider(proxy);\n          return Promise.resolve(hwWalletProvider.init()).then(function (initialized) {\n            if (!initialized) {\n              setError(failInitializeErrorText);\n              console.warn(failInitializeErrorText);\n              _exit2 = true;\n              return false;\n            }\n\n            setIsLoading(false);\n            return Promise.resolve(loginUser(hwWalletProvider)).then(function () {});\n          });\n        }, function (err) {\n          if (err.statusCode in ledgerErrorCodes$1) {\n            setError(ledgerErrorCodes$1[err.statusCode].message);\n          }\n\n          console.warn(failInitializeErrorText, err);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var loginUser = function loginUser(hwWalletProvider) {\n    try {\n      var _exit4 = false;\n\n      if (selectedAddress == null) {\n        return Promise.resolve(false);\n      }\n\n      var index = selectedAddress.index;\n\n      var _temp9 = function () {\n        if (token) {\n          var _temp10 = _catch(function () {\n            return Promise.resolve(hwWalletProvider.tokenLogin({\n              token: Buffer.from(token + \"{}\"),\n              addressIndex: index\n            })).then(function (loginInfo) {\n              dispatchLoginActions({\n                address: loginInfo.address,\n                provider: hwWalletProvider,\n                index: index,\n                signature: loginInfo.signature.hex()\n              });\n            });\n          }, function (err) {\n            onLoginFailed(err, '. Update Elrond App to continue.');\n          });\n\n          if (_temp10 && _temp10.then) return _temp10.then(function () {});\n        } else {\n          return _catch(function () {\n            return Promise.resolve(hwWalletProvider.login({\n              addressIndex: index\n            })).then(function (address) {\n              dispatchLoginActions({\n                address: address,\n                provider: hwWalletProvider,\n                index: index\n              });\n            });\n          }, function (err) {\n            onLoginFailed(err);\n            _exit4 = true;\n            return false;\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp9 && _temp9.then ? _temp9.then(function (_result5) {\n        return _exit4 ? _result5 : true;\n      }) : _exit4 ? _temp9 : true);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token,\n      _ref$addressesPerPage = _ref.addressesPerPage,\n      addressesPerPage = _ref$addressesPerPage === void 0 ? defaultAddressesPerPage : _ref$addressesPerPage,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n  var ledgerAccount = useSelector(ledgerAccountSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var proxy = useSelector(proxySelector);\n  var dispatch = useDispatch();\n\n  var _React$useState = React__default.useState(''),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  var _React$useState2 = React__default.useState(false),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var hwWalletP = new HWProvider(proxy);\n\n  var _React$useState3 = React__default.useState(0),\n      startIndex = _React$useState3[0],\n      setStartIndex = _React$useState3[1];\n\n  var _React$useState4 = React__default.useState([]),\n      accounts = _React$useState4[0],\n      setAccounts = _React$useState4[1];\n\n  var _React$useState5 = React__default.useState(null),\n      selectedAddress = _React$useState5[0],\n      setSelectedAddress = _React$useState5[1];\n\n  var _React$useState6 = React__default.useState(false),\n      showAddressList = _React$useState6[0],\n      setShowAddressList = _React$useState6[1];\n\n  function dispatchLoginActions(_ref2) {\n    var provider = _ref2.provider,\n        address = _ref2.address,\n        index = _ref2.index,\n        signature = _ref2.signature;\n    dispatch(setProvider(provider));\n    dispatch(setLedgerLogin({\n      index: index,\n      loginType: LoginMethodsEnum.ledger\n    }));\n\n    if (signature) {\n      dispatch(setTokenLogin({\n        loginToken: String(token),\n        signature: signature\n      }));\n    }\n\n    dispatch(loginAction({\n      address: address,\n      loginMethod: LoginMethodsEnum.ledger\n    }));\n    optionalRedirect(callbackRoute, redirectAfterLogin);\n  }\n\n  var onLoginFailed = function onLoginFailed(err, customMessage) {\n    if (err.statusCode in ledgerErrorCodes$1) {\n      setError(ledgerErrorCodes$1[err.statusCode].message + customMessage);\n    }\n\n    setIsLoading(false);\n    console.warn(err);\n    dispatch(setLedgerAccount(null));\n  };\n\n  function onSelectAddress(newSelectedAddress) {\n    setSelectedAddress(newSelectedAddress);\n  }\n\n  function onGoToNextPage() {\n    setSelectedAddress(null);\n    setStartIndex(function (current) {\n      return current + 1;\n    });\n  }\n\n  function onGoToPrevPage() {\n    setSelectedAddress(null);\n    setStartIndex(function (current) {\n      return current === 0 ? 0 : current - 1;\n    });\n  }\n\n  React__default.useEffect(function () {\n    fetchAccounts();\n  }, [startIndex]);\n  var loginFailed = Boolean(error);\n  return [onStartLogin, {\n    loginFailed: loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed,\n    error: error,\n    isLoading: isLoading && !loginFailed\n  }, {\n    accounts: accounts,\n    showAddressList: showAddressList,\n    startIndex: startIndex,\n    selectedAddress: selectedAddress,\n    onGoToPrevPage: onGoToPrevPage,\n    onGoToNextPage: onGoToNextPage,\n    onSelectAddress: onSelectAddress,\n    onConfirmSelectedAddress: onConfirmSelectedAddress\n  }];\n}\n\nfunction useUpdateEffect(effect, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  var isInitialMount = useRef(true);\n  useEffect(function () {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n\nvar useWalletConnectLogin = function useWalletConnectLogin(_ref) {\n  var generateWcUri = function generateWcUri() {\n    try {\n      var _providerRef$current2;\n\n      if (!walletConnectBridgeAddress) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve((_providerRef$current2 = providerRef.current) === null || _providerRef$current2 === void 0 ? void 0 : _providerRef$current2.login()).then(function (walletConnectUri) {\n        var hasUri = Boolean(walletConnectUri);\n\n        if (!hasUri) {\n          return;\n        }\n\n        if (!token) {\n          setWcUri(walletConnectUri);\n          return;\n        }\n\n        var wcUriWithToken = walletConnectUri + \"&token=\" + token;\n        setWcUri(wcUriWithToken);\n        dispatch(setTokenLogin({\n          loginToken: token\n        }));\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initiateLogin = function initiateLogin(loginProvider) {\n    if (loginProvider === void 0) {\n      loginProvider = true;\n    }\n\n    try {\n      var _providerRef$current, _providerRef$current$;\n\n      if (!walletConnectBridgeAddress || providerRef !== null && providerRef !== void 0 && (_providerRef$current = providerRef.current) !== null && _providerRef$current !== void 0 && (_providerRef$current$ = _providerRef$current.isInitialized) !== null && _providerRef$current$ !== void 0 && _providerRef$current$.call(_providerRef$current)) {\n        return Promise.resolve();\n      }\n\n      var providerHandlers = {\n        onClientLogin: handleOnLogin,\n        onClientLogout: handleOnLogout\n      };\n      var newProvider = new WalletConnectProvider(proxy, walletConnectBridgeAddress, providerHandlers);\n      return Promise.resolve(newProvider.init()).then(function () {\n        dispatch(setProvider(newProvider));\n        providerRef.current = newProvider;\n\n        if (loginProvider) {\n          generateWcUri();\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleOnLogin = function handleOnLogin() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var provider = providerRef.current;\n\n        if (isLoggedIn) {\n          return;\n        }\n\n        if (provider == null) {\n          return;\n        }\n\n        return Promise.resolve(provider.getAddress()).then(function (address) {\n          return Promise.resolve(provider.getSignature()).then(function (signature) {\n            var hasSignature = Boolean(signature);\n            var loginActionData = {\n              address: address,\n              loginMethod: LoginMethodsEnum.walletconnect\n            };\n            var loginData = {\n              logoutRoute: logoutRoute,\n              loginType: 'walletConnect',\n              callbackRoute: callbackRoute\n            };\n\n            if (hasSignature) {\n              dispatch(setWalletConnectLogin(loginData));\n              dispatch(setTokenLoginSignature(signature));\n            } else {\n              dispatch(setWalletConnectLogin(loginData));\n            }\n\n            dispatch(loginAction(loginActionData));\n            provider.walletConnector.on('heartbeat', function () {\n              clearInterval(heartbeatDisconnectInterval);\n              heartbeatDisconnectInterval = setInterval(function () {\n                console.log('Maiar Wallet Connection Lost');\n                handleOnLogout();\n                clearInterval(heartbeatDisconnectInterval);\n              }, 150000);\n            });\n            optionalRedirect(callbackRoute, redirectAfterLogin);\n          });\n        });\n      }, function (err) {\n        setError('Invalid address');\n        console.error(err);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleHeartbeat = function handleHeartbeat() {\n    try {\n      var _providerRef$current3, _providerRef$current4;\n\n      var isProviderConnected = Boolean((_providerRef$current3 = providerRef.current) === null || _providerRef$current3 === void 0 ? void 0 : (_providerRef$current4 = _providerRef$current3.walletConnector) === null || _providerRef$current4 === void 0 ? void 0 : _providerRef$current4.connected);\n\n      if (!isProviderConnected) {\n        return Promise.resolve();\n      }\n\n      var customMessage = {\n        method: 'heartbeat',\n        params: {}\n      };\n\n      var _temp2 = _catch(function () {\n        return Promise.resolve(providerRef.current.sendCustomMessage(customMessage)).then(function () {});\n      }, function (error) {\n        console.error('Connection lost', error);\n        handleOnLogout();\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      logoutRoute = _ref.logoutRoute,\n      token = _ref.token,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n  var dispatch = useDispatch();\n  var heartbeatInterval = 15000;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(''),\n      wcUri = _useState2[0],\n      setWcUri = _useState2[1];\n\n  var proxy = useSelector(proxySelector);\n  var provider = useSelector(providerSelector);\n  var walletConnectBridgeAddress = useSelector(walletConnectBridgeAddressSelector);\n  var walletConnectDeepLink = useSelector(walletConnectDeepLinkSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var providerRef = useRef(provider);\n  var heartbeatDisconnectInterval;\n  var hasWcUri = Boolean(wcUri);\n  var isLoading = !hasWcUri;\n  var uriDeepLink = hasWcUri ? walletConnectDeepLink + \"?wallet-connect=\" + encodeURIComponent(wcUri) : null;\n  useEffect(function () {\n    handleHeartbeat();\n    var interval = setInterval(function () {\n      handleHeartbeat();\n    }, heartbeatInterval);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, [provider]);\n  useUpdateEffect(function () {\n    generateWcUri();\n  }, [token]);\n  useUpdateEffect(function () {\n    providerRef.current = provider;\n  }, [provider]);\n\n  var handleOnLogout = function handleOnLogout() {\n    logout(callbackRoute);\n  };\n\n  var loginFailed = error != null;\n  return [initiateLogin, {\n    error: error,\n    loginFailed: loginFailed,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }, {\n    uriDeepLink: uriDeepLink,\n    walletConnectUri: wcUri\n  }];\n};\n\nvar index = {\n  __proto__: null,\n  useExtensionLogin: useExtensionLogin,\n  useWebWalletLogin: useWebWalletLogin,\n  useLedgerLogin: useLedgerLogin,\n  useWalletConnectLogin: useWalletConnectLogin\n};\n\nfunction calcTotalFee(transactions, minGasLimit) {\n  var totalFee = new BigNumber(0);\n  transactions.forEach(function (tx) {\n    var fee = operations.calculateFeeLimit({\n      gasPerDataByte: gasPerDataByte,\n      gasPriceModifier: gasPriceModifier,\n      minGasLimit: String(minGasLimit),\n      gasLimit: tx.getGasLimit().valueOf().toString(),\n      gasPrice: tx.getGasPrice().valueOf().toString(),\n      data: tx.getData().toString(),\n      chainId: tx.getChainID().valueOf()\n    });\n    totalFee = totalFee.plus(new BigNumber(fee));\n  });\n  return totalFee;\n}\n\nfunction signTransactions(_ref) {\n  var transactions = _ref.transactions,\n      _ref$callbackRoute = _ref.callbackRoute,\n      callbackRoute = _ref$callbackRoute === void 0 ? window.location.pathname : _ref$callbackRoute,\n      _ref$redirectAfterSig = _ref.redirectAfterSign,\n      redirectAfterSign = _ref$redirectAfterSig === void 0 ? true : _ref$redirectAfterSig,\n      sessionInformation = _ref.sessionInformation,\n      _ref$minGasLimit = _ref.minGasLimit,\n      minGasLimit = _ref$minGasLimit === void 0 ? DEFAULT_MIN_GAS_LIMIT : _ref$minGasLimit,\n      transactionsDisplayInfo = _ref.transactionsDisplayInfo;\n  var appState = store.getState();\n  var sessionId = Date.now().toString();\n  var accountBalance = accountBalanceSelector(appState);\n  var storeChainId = chainIDSelector(appState);\n  var transactionsPayload = Array.isArray(transactions) ? transactions : [transactions];\n  var bNtotalFee = calcTotalFee(transactionsPayload, minGasLimit);\n  var bNbalance = new BigNumber(validation.stringIsFloat(accountBalance) ? accountBalance : '0');\n  var hasSufficientFunds = bNbalance.minus(bNtotalFee).isGreaterThan(0);\n\n  if (!hasSufficientFunds) {\n    var notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Insufficient EGLD funds',\n      description: 'Current EGLD balance cannot cover the transaction fees.'\n    };\n    store.dispatch(setNotificationModal(notificationPayload));\n    return {\n      error: 'insufficient funds',\n      sessionId: null\n    };\n  }\n\n  var hasValidChainId = transactionsPayload === null || transactionsPayload === void 0 ? void 0 : transactionsPayload.every(function (tx) {\n    return tx.getChainID().valueOf() === storeChainId.valueOf();\n  });\n\n  if (!hasValidChainId) {\n    var _notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Network change detected',\n      description: 'The application tried to change the transaction network'\n    };\n    store.dispatch(setNotificationModal(_notificationPayload));\n    return {\n      error: 'Invalid ChainID',\n      sessionId: null\n    };\n  }\n\n  var signTransactionsPayload = {\n    sessionId: sessionId,\n    callbackRoute: callbackRoute,\n    redirectAfterSign: redirectAfterSign,\n    sessionInformation: sessionInformation,\n    transactions: transactionsPayload.map(function (tx) {\n      return tx.toPlainObject();\n    })\n  };\n  store.dispatch(setTransactionsToSign(signTransactionsPayload));\n  store.dispatch(setTransactionsDisplayInfo({\n    sessionId: sessionId,\n    transactionsDisplayInfo: transactionsDisplayInfo\n  }));\n  return {\n    sessionId: sessionId\n  };\n}\n\nvar transformAndSignTransactions = function transformAndSignTransactions(_ref) {\n  var transactions = _ref.transactions;\n\n  try {\n    var address = addressSelector(store.getState());\n    return Promise.resolve(getAccount(address)).then(function (account) {\n      var nonce = getLatestNonce(account);\n      return transactions.map(function (tx) {\n        var value = tx.value,\n            receiver = tx.receiver,\n            _tx$data = tx.data,\n            data = _tx$data === void 0 ? '' : _tx$data,\n            chainID = tx.chainID,\n            version = tx.version,\n            options = tx.options,\n            _tx$gasPrice = tx.gasPrice,\n            gasPrice = _tx$gasPrice === void 0 ? defaultGasPrice : _tx$gasPrice,\n            _tx$gasLimit = tx.gasLimit,\n            gasLimit = _tx$gasLimit === void 0 ? defaultGasLimit : _tx$gasLimit;\n        var validatedReceiver = receiver;\n\n        try {\n          var addr = new Address$1(receiver);\n          validatedReceiver = addr.hex();\n        } catch (err) {\n          throw ErrorCodesEnum.invalidReceiver;\n        }\n\n        var storeChainId = chainIDSelector(store.getState()).valueOf().toString();\n        var transactionsChainId = chainID || storeChainId;\n        return newTransaction({\n          value: value,\n          receiver: validatedReceiver,\n          data: isStringBase64(data) ? data : encodeToBase64(data),\n          gasPrice: gasPrice,\n          gasLimit: gasLimit,\n          nonce: Number(nonce.valueOf().toString()),\n          sender: new Address$1(address).hex(),\n          chainID: transactionsChainId,\n          version: version,\n          options: options\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar ErrorCodesEnum;\n\n(function (ErrorCodesEnum) {\n  ErrorCodesEnum[\"invalidReceiver\"] = \"Invalid Receiver address\";\n  ErrorCodesEnum[\"unknownError\"] = \"Unknown Error. Please check the transactions and try again\";\n})(ErrorCodesEnum || (ErrorCodesEnum = {}));\n\nvar sendTransactions = function sendTransactions(_ref) {\n  var transactions = _ref.transactions,\n      transactionsDisplayInfo = _ref.transactionsDisplayInfo,\n      _ref$redirectAfterSig = _ref.redirectAfterSign,\n      redirectAfterSign = _ref$redirectAfterSig === void 0 ? true : _ref$redirectAfterSig,\n      sessionInformation = _ref.sessionInformation,\n      minGasLimit = _ref.minGasLimit;\n\n  try {\n    return Promise.resolve(_catch(function () {\n      function _temp2() {\n        return signTransactions({\n          transactions: txToSign,\n          minGasLimit: minGasLimit,\n          redirectAfterSign: redirectAfterSign,\n          sessionInformation: sessionInformation,\n          transactionsDisplayInfo: transactionsDisplayInfo\n        });\n      }\n\n      var transactionsPayload = Array.isArray(transactions) ? transactions : [transactions];\n      var areComplexTransactions = transactionsPayload.every(function (tx) {\n        return Object.getPrototypeOf(tx).toPlainObject != null;\n      });\n      var txToSign = transactionsPayload;\n\n      var _temp = function () {\n        if (!areComplexTransactions) {\n          return Promise.resolve(transformAndSignTransactions({\n            transactions: transactionsPayload,\n            minGasLimit: minGasLimit\n          })).then(function (_transformAndSignTran) {\n            txToSign = _transformAndSignTran;\n          });\n        }\n      }();\n\n      return _temp && _temp.then ? _temp.then(_temp2) : _temp2(_temp);\n    }, function (err) {\n      console.error('error signing transaction', err);\n      return {\n        error: err,\n        sessionId: null\n      };\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction useTrackTransactionStatus(_ref) {\n  var transactionId = _ref.transactionId,\n      onSuccess = _ref.onSuccess,\n      onFail = _ref.onFail,\n      onCancelled = _ref.onCancelled,\n      onTimedOut = _ref.onTimedOut,\n      onCompleted = _ref.onCompleted;\n  var transactionsBatch = useSelector(function (state) {\n    return transactionStatusSelector(state, transactionId);\n  });\n  var status = transactionsBatch.status,\n      transactions = transactionsBatch.transactions,\n      errorMessage = transactionsBatch.errorMessage;\n  var isPending = getIsTransactionPending(status);\n  var isFailed = getIsTransactionFailed(status);\n  var isTimedOut = getIsTransactionTimedOut(status);\n  var isSuccessful = getIsTransactionSuccessful(status);\n  var isCompleted = getIsTransactionCompleted(status);\n  var isCancelled = status === TransactionBatchStatusesEnum.cancelled;\n  useEffect(function () {\n    if (isSuccessful && onSuccess) {\n      onSuccess(transactionId);\n    }\n  }, [isSuccessful]);\n  useEffect(function () {\n    if (isCompleted && onCompleted) {\n      onCompleted(transactionId);\n    }\n  }, [isCompleted]);\n  useEffect(function () {\n    if (isFailed && onFail) {\n      onFail(transactionId, errorMessage);\n    }\n  }, [isFailed]);\n  useEffect(function () {\n    if (isCancelled && onCancelled) {\n      onCancelled(transactionId);\n    }\n  }, [isCancelled]);\n  useEffect(function () {\n    if (isTimedOut) {\n      if (onTimedOut) {\n        onTimedOut(transactionId);\n      } else {\n        onFail === null || onFail === void 0 ? void 0 : onFail(transactionId, 'timeout');\n      }\n    }\n  }, [isTimedOut]);\n\n  if (transactionId == null) {\n    return {};\n  }\n\n  if (transactionsBatch == null) {\n    return {\n      errorMessage: 'No transaction to track'\n    };\n  }\n\n  return {\n    isPending: isPending,\n    isSuccessful: isSuccessful,\n    isFailed: isFailed,\n    isCancelled: isCancelled,\n    isCompleted: isCompleted,\n    errorMessage: errorMessage,\n    status: status,\n    transactions: transactions\n  };\n}\n\nfunction useGetPendingTransactions() {\n  var pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  var pendingTransactionsArray = Object.entries(pendingTransactions);\n  var hasPendingTransactions = (pendingTransactionsArray === null || pendingTransactionsArray === void 0 ? void 0 : pendingTransactionsArray.length) > 0;\n  return {\n    pendingTransactions: pendingTransactions,\n    pendingTransactionsArray: pendingTransactionsArray,\n    hasPendingTransactions: hasPendingTransactions\n  };\n}\n\nfunction useGetFailedTransactions() {\n  var failedTransactions = useSelector(failedTransactionsSelector);\n  var failedTransactionsArray = Object.entries(failedTransactions);\n  var hasFailedTransactions = (failedTransactionsArray === null || failedTransactionsArray === void 0 ? void 0 : failedTransactionsArray.length) > 0;\n  return {\n    failedTransactions: failedTransactions,\n    failedTransactionsArray: failedTransactionsArray,\n    hasFailedTransactions: hasFailedTransactions\n  };\n}\n\nfunction useGetSuccessfulTransactions() {\n  var successfulTransactions = useSelector(successfulTransactionsSelector);\n  var successfulTransactionsArray = Object.entries(successfulTransactions);\n  var hasSuccessfulTransactions = (successfulTransactionsArray === null || successfulTransactionsArray === void 0 ? void 0 : successfulTransactionsArray.length) > 0;\n  return {\n    successfulTransactions: successfulTransactions,\n    successfulTransactionsArray: successfulTransactionsArray,\n    hasSuccessfulTransactions: hasSuccessfulTransactions\n  };\n}\n\nvar defaultTransactionInfo$1 = {\n  tokenId: '',\n  amount: '',\n  type: '',\n  multiTxData: '',\n  receiver: ''\n};\n\nfunction useParseMultiEsdtTransferData(_ref) {\n  var transactions = _ref.transactions;\n\n  var _useState = useState({}),\n      parsedTransactionsByDataField = _useState[0],\n      setParsedTransactions = _useState[1];\n\n  var _useState2 = useState([]),\n      allTransactions = _useState2[0],\n      setAllTransactions = _useState2[1];\n\n  function addTransactionDataToParsedInfo(data, txInfo) {\n    setParsedTransactions(function (existing) {\n      var _extends2;\n\n      return _extends({}, existing, (_extends2 = {}, _extends2[data] = txInfo, _extends2));\n    });\n  }\n\n  function getTxInfoByDataField(data, multiTransactionData) {\n    if (parsedTransactionsByDataField == null) {\n      return defaultTransactionInfo$1;\n    }\n\n    if (data in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[data];\n    }\n\n    if (multiTransactionData != null && String(multiTransactionData) in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[multiTransactionData];\n    }\n\n    return defaultTransactionInfo$1;\n  }\n\n  function extractTransactionESDTData() {\n    if (transactions && transactions.length > 0) {\n      var _allTransactions = [];\n      transactions.forEach(function (transaction, transactionIndex) {\n        var multiTxs = parseMultiEsdtTransferData(transaction.getData().toString());\n\n        if (multiTxs.length > 0) {\n          multiTxs.forEach(function (trx, idx) {\n            var newTx = {\n              transaction: transaction,\n              multiTxData: trx.data,\n              transactionIndex: idx\n            };\n            addTransactionDataToParsedInfo(trx.data, {\n              tokenId: trx.token ? trx.token : '',\n              amount: trx.amount ? trx.amount : '',\n              type: trx.type,\n              nonce: trx.nonce ? trx.nonce : '',\n              multiTxData: trx.data,\n              receiver: trx.receiver\n            });\n\n            _allTransactions.push(newTx);\n          });\n        } else {\n          var _getTokenFromData = getTokenFromData(transaction.getData().toString()),\n              tokenId = _getTokenFromData.tokenId,\n              amount = _getTokenFromData.amount;\n\n          if (tokenId) {\n            addTransactionDataToParsedInfo(transaction.getData().toString(), {\n              tokenId: tokenId,\n              amount: amount,\n              receiver: transaction.getReceiver().bech32()\n            });\n          }\n\n          _allTransactions.push({\n            transaction: transaction,\n            transactionIndex: transactionIndex\n          });\n        }\n      });\n      setAllTransactions(_allTransactions);\n    }\n  }\n\n  useEffect(function () {\n    extractTransactionESDTData();\n  }, [transactions]);\n  return {\n    parsedTransactionsByDataField: parsedTransactionsByDataField,\n    getTxInfoByDataField: getTxInfoByDataField,\n    allTransactions: allTransactions\n  };\n}\n\nfunction useGetActiveTransactionsStatus() {\n  var _Object$keys, _Object$keys2, _Object$keys3;\n\n  var signedTransactions = useSelector(signedTransactionsSelector);\n  var timedOutTransactions = useSelector(timedOutTransactionsSelector);\n  var failedTransactions = useSelector(failedTransactionsSelector);\n  var successfulTransactions = useSelector(successfulTransactionsSelector);\n  var pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  var completedTransactions = useSelector(completedTransactionsSelector);\n  var pending = ((_Object$keys = Object.keys(pendingTransactions)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) > 0;\n  var timedOut = !pending && ((_Object$keys2 = Object.keys(timedOutTransactions)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length) > 0;\n  var fail = !pending && !timedOut && ((_Object$keys3 = Object.keys(failedTransactions)) === null || _Object$keys3 === void 0 ? void 0 : _Object$keys3.length) > 0;\n  var success = !pending && !timedOut && !fail && Object.keys(successfulTransactions).length > 0;\n  var completed = !pending && !timedOut && !fail && Object.keys(completedTransactions).length > 0;\n  var hasActiveTransactions = Object.keys(signedTransactions).length > 0;\n  return {\n    pending: pending,\n    timedOut: timedOut,\n    fail: fail,\n    success: success,\n    completed: completed,\n    hasActiveTransactions: hasActiveTransactions\n  };\n}\n\nfunction useGetCompletedTransactions() {\n  var completedTransactions = useSelector(completedTransactionsSelector);\n  var completedTransactionsArray = Object.entries(completedTransactions);\n  var hasCompletedTransactions = (completedTransactionsArray === null || completedTransactionsArray === void 0 ? void 0 : completedTransactionsArray.length) > 0;\n  return {\n    completedTransactions: completedTransactions,\n    completedTransactionsArray: completedTransactionsArray,\n    hasCompletedTransactions: hasCompletedTransactions\n  };\n}\n\nvar index$1 = {\n  __proto__: null,\n  sendTransactions: sendTransactions,\n  signTransactions: signTransactions,\n  useTrackTransactionStatus: useTrackTransactionStatus,\n  useGetPendingTransactions: useGetPendingTransactions,\n  useGetFailedTransactions: useGetFailedTransactions,\n  useGetSuccessfulTransactions: useGetSuccessfulTransactions,\n  useParseMultiEsdtTransferData: useParseMultiEsdtTransferData,\n  useGetActiveTransactionsStatus: useGetActiveTransactionsStatus,\n  useGetCompletedTransactions: useGetCompletedTransactions\n};\n\nvar sendSignedTransactions = function sendSignedTransactions(signedTransactions) {\n  try {\n    var proxy = proxySelector(store.getState());\n    var promises = signedTransactions.map(function (transaction) {\n      return proxy.sendTransaction(transaction);\n    });\n    return Promise.resolve(Promise.all(promises)).then(function (response) {\n      return response.map(function (txHash) {\n        return Buffer.from(txHash.hash).toString('hex');\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar getTransactionsByHashes = function getTransactionsByHashes(pendingTransactions) {\n  try {\n    var networkConfig = networkConfigSelector(store.getState());\n    var hashes = pendingTransactions.map(function (tx) {\n      return tx.hash;\n    });\n    return Promise.resolve(axios.get(networkConfig.network.apiAddress + \"/transactions\", {\n      params: {\n        hashes: hashes.join(','),\n        withScResults: true\n      }\n    })).then(function (_ref) {\n      var responseData = _ref.data;\n      return pendingTransactions.map(function (_ref2) {\n        var hash = _ref2.hash,\n            previousStatus = _ref2.previousStatus;\n        var txOnNetwork = responseData.find(function (txResponse) {\n          return txResponse.txHash === hash;\n        });\n        var data = txOnNetwork === null || txOnNetwork === void 0 ? void 0 : txOnNetwork.data;\n\n        try {\n          data = decodeBase64(data);\n        } catch (err) {}\n\n        return {\n          hash: hash,\n          data: data,\n          invalidTransaction: txOnNetwork == null,\n          status: txOnNetwork.status,\n          results: txOnNetwork.results,\n          receiver: txOnNetwork === null || txOnNetwork === void 0 ? void 0 : txOnNetwork.receiver,\n          previousStatus: previousStatus,\n          hasStatusChanged: status !== previousStatus\n        };\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction ProviderInitializer() {\n  var setExtensionProvider = function setExtensionProvider() {\n    try {\n      var _temp11 = _catch(function () {\n        return Promise.resolve(getAddress()).then(function (address) {\n          var provider = ExtensionProvider.getInstance().setAddress(address);\n          return Promise.resolve(provider.init()).then(function (success) {\n            if (success) {\n              dispatch(setProvider(provider));\n            } else {\n              console.error('Could not initialise extension, make sure Elrond wallet extension is installed.');\n            }\n          });\n        });\n      }, function (err) {\n        console.error('Unable to login to ExtensionProvider', err);\n      });\n\n      return Promise.resolve(_temp11 && _temp11.then ? _temp11.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var tryAuthenticateWalletUser = function tryAuthenticateWalletUser() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var _temp9 = function () {\n          if (walletLogin != null) {\n            var provider = newWalletProvider(network.walletAddress);\n            return Promise.resolve(getAddress()).then(function (address) {\n              function _temp8() {\n                dispatch(setWalletLogin(null));\n              }\n\n              var _temp7 = function () {\n                if (address) {\n                  dispatch(setProvider(provider));\n                  dispatch(loginAction({\n                    address: address,\n                    loginMethod: LoginMethodsEnum.wallet\n                  }));\n                  return Promise.resolve(getAccount(address)).then(function (account) {\n                    dispatch(setAccount({\n                      balance: account.balance.toString(),\n                      address: address,\n                      nonce: getLatestNonce(account)\n                    }));\n                  });\n                }\n              }();\n\n              return _temp7 && _temp7.then ? _temp7.then(_temp8) : _temp8(_temp7);\n            });\n          }\n        }();\n\n        if (_temp9 && _temp9.then) return _temp9.then(function () {});\n      }, function (e) {\n        console.error('Failed authenticating wallet user ', e);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var fetchAccount = function fetchAccount() {\n    try {\n      var _temp4 = function _temp4() {\n        dispatch(setIsAccountLoading(false));\n      };\n\n      dispatch(setIsAccountLoading(true));\n\n      var _temp5 = function () {\n        if (address && isLoggedIn) {\n          var _temp6 = _catch(function () {\n            return Promise.resolve(getAccount(address)).then(function (account) {\n              dispatch(setAccount({\n                balance: account.balance.toString(),\n                address: address,\n                nonce: account.nonce.valueOf()\n              }));\n\n              if (ledgerAccount == null && ledgerLogin != null) {\n                dispatch(setLedgerAccount({\n                  index: ledgerLogin.index,\n                  address: address\n                }));\n              }\n            });\n          }, function (e) {\n            dispatch(setAccountLoadingError('Failed getting account'));\n            console.error('Failed getting account ', e);\n          });\n\n          if (_temp6 && _temp6.then) return _temp6.then(function () {});\n        }\n      }();\n\n      return Promise.resolve(_temp5 && _temp5.then ? _temp5.then(_temp4) : _temp4(_temp5));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var network = useSelector(networkSelector);\n  var walletConnectLogin = useSelector(walletConnectLoginSelector);\n  var loginMethod = useSelector(loginMethodSelector);\n  var walletLogin = useSelector(walletLoginSelector);\n\n  var _useSelector = useSelector(extraActionsSelector),\n      getProvider = _useSelector.getProvider;\n\n  var address = useSelector(addressSelector);\n  var ledgerAccount = useSelector(ledgerAccountSelector);\n  var ledgerLogin = useSelector(ledgerLoginSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var proxy = useSelector(proxySelector);\n  var dispatch = useDispatch();\n\n  var _ref = walletConnectLogin ? walletConnectLogin : {\n    callbackRoute: '',\n    logoutRoute: ''\n  },\n      callbackRoute = _ref.callbackRoute,\n      logoutRoute = _ref.logoutRoute;\n\n  var _useWalletConnectLogi = useWalletConnectLogin({\n    callbackRoute: callbackRoute,\n    logoutRoute: logoutRoute\n  }),\n      initWalletLoginProvider = _useWalletConnectLogi[0];\n\n  useEffect(function () {\n    refreshChainID();\n  }, [network]);\n  useEffect(function () {\n    initializeProvider();\n  }, [loginMethod]);\n  useEffect(function () {\n    fetchAccount();\n  }, [address, ledgerLogin, isLoggedIn]);\n\n  function refreshChainID() {\n    proxy.getNetworkConfig().then(function (networkConfig) {\n      dispatch(setChainID(networkConfig.ChainID.valueOf()));\n    })[\"catch\"](function (e) {\n      console.error('To do ', e);\n    });\n  }\n\n  function setLedgerProvider() {\n    var hwWalletP = new HWProvider(proxy);\n    hwWalletP.init().then(function (success) {\n      if (!success) {\n        console.warn('Could not initialise ledger app');\n        logout();\n        return;\n      }\n\n      dispatch(setProvider(hwWalletP));\n    })[\"catch\"](function (err) {\n      console.error('Could not initialise ledger app', err);\n      logout();\n    });\n  }\n\n  function initializeProvider() {\n    if (loginMethod == null) {\n      return;\n    }\n\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger:\n        {\n          setLedgerProvider();\n          break;\n        }\n\n      case LoginMethodsEnum.walletconnect:\n        {\n          initWalletLoginProvider(false);\n          break;\n        }\n\n      case LoginMethodsEnum.wallet:\n        {\n          var provider = newWalletProvider(network.walletAddress);\n          dispatch(setProvider(provider));\n          break;\n        }\n\n      case LoginMethodsEnum.extension:\n        {\n          setExtensionProvider();\n          break;\n        }\n\n      case LoginMethodsEnum.extra:\n        {\n          var _provider = getProvider();\n\n          dispatch(setProvider(_provider));\n          break;\n        }\n\n      case LoginMethodsEnum.none:\n        {\n          tryAuthenticateWalletUser();\n          break;\n        }\n\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n\nvar defaultValue = {\n  sendSignedTransactionsAsync: sendSignedTransactions,\n  getTransactionsByHash: getTransactionsByHashes,\n  completedTransactionsDelay: 0\n};\nvar OverrideDefaultBehaviourContext = React__default.createContext(defaultValue);\n\nvar TransactionSender = function TransactionSender() {\n  var handleSendTransactions = function handleSendTransactions() {\n    try {\n      var sessionIds = Object.keys(signedTransactions);\n      return Promise.resolve(_forOf(sessionIds, function (sessionId) {\n        if (!sessionId) {\n          return;\n        }\n\n        var _temp = _finallyRethrows(function () {\n          return _catch(function () {\n            var isSessionIdSigned = signedTransactions[sessionId].status === TransactionBatchStatusesEnum.signed;\n            var shouldSendCurrentSession = isSessionIdSigned && !sendingRef.current;\n\n            if (!shouldSendCurrentSession) {\n              return;\n            }\n\n            var transactions = signedTransactions[sessionId].transactions;\n\n            if (!transactions) {\n              return;\n            }\n\n            sendingRef.current = true;\n            var transactionsToSend = transactions.map(function (tx) {\n              var address = new Address(tx.sender);\n              var transactionObject = newTransaction(tx);\n              var signature = new Signature(tx.signature);\n              transactionObject.applySignature(signature, address);\n              return transactionObject;\n            });\n            return Promise.resolve(sendSignedTransactionsAsync(transactionsToSend)).then(function (responseHashes) {\n              var newStatus = TransactionServerStatusesEnum.pending;\n              var newTransactions = transactions.map(function (transaction) {\n                if (responseHashes.includes(transaction.hash)) {\n                  return _extends({}, transaction, {\n                    status: newStatus\n                  });\n                }\n\n                return transaction;\n              });\n              var submittedModalPayload = {\n                sessionId: sessionId,\n                submittedMessage: 'submitted'\n              };\n              dispatch(setTxSubmittedModal(submittedModalPayload));\n              dispatch(updateSignedTransactions({\n                sessionId: sessionId,\n                status: TransactionBatchStatusesEnum.sent,\n                transactions: newTransactions\n              }));\n              clearSignInfo();\n              setNonce(account.nonce + transactions.length);\n              history.pushState({}, document.title, '?');\n            });\n          }, function (error) {\n            console.error('Unable to send transactions', error);\n            dispatch(updateSignedTransactions({\n              sessionId: sessionId,\n              status: TransactionBatchStatusesEnum.fail,\n              errorMessage: error.message\n            }));\n            clearSignInfo();\n          });\n        }, function (_wasThrown, _result) {\n          sendingRef.current = false;\n          if (_wasThrown) throw _result;\n          return _result;\n        });\n\n        if (_temp && _temp.then) return _temp.then(function () {});\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var account = useSelector(accountSelector);\n  var signedTransactions = useSelector(signedTransactionsSelector);\n\n  var _useContext = useContext(OverrideDefaultBehaviourContext),\n      sendSignedTransactionsAsync = _useContext.sendSignedTransactionsAsync;\n\n  var sendingRef = useRef(false);\n  var dispatch = useDispatch();\n\n  var clearSignInfo = function clearSignInfo() {\n    dispatch(clearSignTransactions());\n    sendingRef.current = false;\n  };\n\n  React__default.useEffect(function () {\n    handleSendTransactions();\n  }, [signedTransactions, account]);\n  return null;\n};\n\nfunction TransactionStatusTracker(_ref) {\n  var sessionId = _ref.sessionId,\n      _ref$transactionPaylo = _ref.transactionPayload,\n      transactions = _ref$transactionPaylo.transactions,\n      status = _ref$transactionPaylo.status;\n  var dispatch = useDispatch();\n  var intervalRef = useRef(null);\n  var isFetchingStatusRef = useRef(false);\n  var retriesRef = useRef({});\n  var timeoutRefs = useRef([]);\n\n  var _useContext = useContext(OverrideDefaultBehaviourContext),\n      getTransactionsByHash = _useContext.getTransactionsByHash,\n      completedTransactionsDelay = _useContext.completedTransactionsDelay;\n\n  var isPending = sessionId != null && getIsTransactionPending(status);\n\n  var manageTimedOutTransactions = function manageTimedOutTransactions() {\n    dispatch(updateSignedTransactions({\n      sessionId: sessionId,\n      status: TransactionBatchStatusesEnum.timedOut\n    }));\n  };\n\n  var checkTransactionStatus = function checkTransactionStatus() {\n    try {\n      return Promise.resolve(_catch(function () {\n        if (!isPending || transactions == null) {\n          return;\n        }\n\n        isFetchingStatusRef.current = true;\n        var pendingTransactions = transactions.reduce(function (acc, _ref2) {\n          var receiver = _ref2.receiver,\n              data = _ref2.data,\n              status = _ref2.status,\n              hash = _ref2.hash;\n          var isScCall = isContract(receiver, data);\n\n          if (hash != null && !timeoutRefs.current.includes(hash) && getIsTransactionPending(status, isScCall)) {\n            acc.push({\n              hash: hash,\n              previousStatus: status\n            });\n          }\n\n          return acc;\n        }, []);\n\n        if ((pendingTransactions === null || pendingTransactions === void 0 ? void 0 : pendingTransactions.length) === 0) {\n          isFetchingStatusRef.current = false;\n          return;\n        }\n\n        return Promise.resolve(getTransactionsByHash(pendingTransactions)).then(function (serverTransactions) {\n          var _loop = function _loop() {\n            var _step$value = _step.value,\n                hash = _step$value.hash,\n                status = _step$value.status,\n                results = _step$value.results,\n                invalidTransaction = _step$value.invalidTransaction,\n                receiver = _step$value.receiver,\n                data = _step$value.data,\n                hasStatusChanged = _step$value.hasStatusChanged;\n\n            try {\n              var isScCall = isContract(receiver, data);\n              var retriesForThisHash = retriesRef.current[hash];\n\n              if (retriesForThisHash > 30) {\n                manageTimedOutTransactions();\n                return {\n                  v: void 0\n                };\n              }\n\n              if (!invalidTransaction) {\n                if (!getIsTransactionPending(status)) {\n                  if (isScCall && !getIsTransactionCompleted(status)) {\n                    var isScCallCompleted = areScCallsSuccessful(results);\n\n                    if (isScCallCompleted) {\n                      timeoutRefs.current.push(hash);\n                      setTimeout(function () {\n                        return dispatch(updateSignedTransactionStatus({\n                          sessionId: sessionId,\n                          status: TransactionServerStatusesEnum.completed,\n                          transactionHash: hash\n                        }));\n                      }, completedTransactionsDelay);\n                    }\n                  }\n\n                  if (hasStatusChanged) {\n                    dispatch(updateSignedTransactionStatus({\n                      sessionId: sessionId,\n                      status: status,\n                      transactionHash: hash\n                    }));\n                  }\n\n                  refreshAccount();\n\n                  if (getIsTransactionFailed(status)) {\n                    var resultWithError = results.find(function (scResult) {\n                      return (scResult === null || scResult === void 0 ? void 0 : scResult.returnMessage) !== '';\n                    });\n                    dispatch(updateSignedTransactionStatus({\n                      transactionHash: hash,\n                      sessionId: sessionId,\n                      status: TransactionServerStatusesEnum.fail,\n                      errorMessage: resultWithError === null || resultWithError === void 0 ? void 0 : resultWithError.returnMessage\n                    }));\n                    dispatch(updateSignedTransactions({\n                      sessionId: sessionId,\n                      status: TransactionBatchStatusesEnum.fail,\n                      errorMessage: resultWithError === null || resultWithError === void 0 ? void 0 : resultWithError.returnMessage\n                    }));\n                  }\n                } else {\n                  retriesRef.current[hash] = retriesRef.current[hash] ? retriesRef.current[hash] + 1 : 1;\n                }\n              } else {\n                retriesRef.current[hash] = retriesRef.current[hash] ? retriesRef.current[hash] + 1 : 1;\n              }\n            } catch (error) {\n              console.error(error);\n              manageTimedOutTransactions();\n            }\n          };\n\n          for (var _iterator = _createForOfIteratorHelperLoose(serverTransactions), _step; !(_step = _iterator()).done;) {\n            var _ret = _loop();\n\n            if (typeof _ret === \"object\") return _ret.v;\n          }\n        });\n      }, function (error) {\n        console.error(error);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    if (isPending) {\n      intervalRef.current = setInterval(function () {\n        checkTransactionStatus();\n      }, 2000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n\n    return function () {\n      clearInterval(intervalRef.current);\n    };\n  }, [isPending]);\n  return null;\n}\n\nfunction TransactionsTracker() {\n  var _useGetPendingTransac = useGetPendingTransactions(),\n      pendingTransactionsArray = _useGetPendingTransac.pendingTransactionsArray;\n\n  return React__default.createElement(React__default.Fragment, null, pendingTransactionsArray.map(function (_ref) {\n    var sessionId = _ref[0],\n        transactionPayload = _ref[1];\n    return React__default.createElement(TransactionStatusTracker, {\n      key: sessionId,\n      sessionId: sessionId,\n      transactionPayload: transactionPayload\n    });\n  }));\n}\n\nvar getServerConfiguration = function getServerConfiguration(environment) {\n  try {\n    return Promise.resolve(_catch(function () {\n      return Promise.resolve(axios.get(configEndpoint[environment])).then(function (_ref) {\n        var data = _ref.data;\n\n        if (data != null) {\n          return data;\n        }\n      });\n    }, function () {\n      console.error('error fetching configuration for ', environment);\n      return null;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar useGetNetworkConfig = function useGetNetworkConfig() {\n  return useSelector(networkConfigSelector);\n};\n\nfunction useGetNotification() {\n  var notification = useSelector(notificationModalSelector);\n  var dispatch = useDispatch();\n\n  var clearNotification = function clearNotification() {\n    return dispatch(clearNotificationModal());\n  };\n\n  return {\n    notification: notification,\n    clearNotification: clearNotification\n  };\n}\n\nfunction useGetTransactionDisplayInfo(toastId) {\n  return useSelector(function (state) {\n    return transactionDisplayInfoSelector(state, toastId);\n  });\n}\n\nfunction useParseSignedTransactions() {\n  var search = window.location.search;\n  var network = useSelector(networkSelector);\n  var dispatch = useDispatch();\n  React__default.useEffect(function () {\n    if (search != null) {\n      var searchData = qs.parse(search.replace('?', ''));\n\n      if (searchData && walletSignSession in searchData) {\n        var signSessionId = searchData[walletSignSession];\n        var signedTransactions = new WalletProvider(\"\" + network.walletAddress + dappInitRoute).getTransactionsFromWalletUrl();\n\n        if (signedTransactions.length > 0) {\n          var _updateSignedTransact;\n\n          dispatch(updateSignedTransaction((_updateSignedTransact = {}, _updateSignedTransact[signSessionId.toString()] = {\n            status: TransactionBatchStatusesEnum.signed,\n            transactions: signedTransactions.map(function (tx) {\n              return parseTransactionAfterSigning(tx);\n            })\n          }, _updateSignedTransact)));\n        }\n      }\n    }\n  }, [search]);\n}\n\nfunction useSignTransactions() {\n  var signTransactionsWithProvider = function signTransactionsWithProvider() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var sessionId = transactionsToSign.sessionId,\n            transactions = transactionsToSign.transactions,\n            callbackRoute = transactionsToSign.callbackRoute,\n            sessionInformation = transactionsToSign.sessionInformation,\n            redirectAfterSign = transactionsToSign.redirectAfterSign;\n        return function () {\n          if (transactions !== null && transactions !== void 0 && transactions.length) {\n            return Promise.resolve(provider.init()).then(function (initialized) {\n              if (!initialized) {\n                return;\n              }\n\n              var _temp = _catch(function () {\n                return Promise.resolve(provider.signTransactions(transactions)).then(function (signedTransactions) {\n                  var signingDisabled = !signedTransactions || signedTransactions && Object.keys(signedTransactions).length !== (transactions === null || transactions === void 0 ? void 0 : transactions.length);\n\n                  if (!signingDisabled && signedTransactions) {\n                    var _updateSignedTransact2;\n\n                    dispatch(updateSignedTransaction((_updateSignedTransact2 = {}, _updateSignedTransact2[sessionId] = {\n                      status: TransactionBatchStatusesEnum.signed,\n                      sessionInformation: sessionInformation,\n                      transactions: Object.values(signedTransactions).map(function (tx) {\n                        return parseTransactionAfterSigning(tx);\n                      })\n                    }, _updateSignedTransact2)));\n\n                    if (redirectAfterSign && !window.location.pathname.includes(callbackRoute)) {\n                      window.location.href = callbackRoute;\n                    }\n                  }\n                });\n              }, function (err) {\n                console.error('error signing transaction', err);\n                onCancel(err.message, sessionId);\n              });\n\n              if (_temp && _temp.then) return _temp.then(function () {});\n            });\n          }\n        }();\n      }, function (err) {\n        console.error('error signing transaction', err);\n        onCancel(err.message);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var provider = useSelector(providerSelector);\n  var proxy = useSelector(proxySelector);\n  var address = useSelector(addressSelector);\n  var transactionsToSign = useSelector(transactionsToSignSelector);\n  var savedCallback = useRef('/');\n  var dispatch = useDispatch();\n\n  var _useState = useState(null),\n      error = _useState[0],\n      setError = _useState[1];\n\n  useParseSignedTransactions();\n  var providerType = getProviderType(provider);\n\n  function clearSignInfo(sessionId) {\n    dispatch(clearSignTransactions());\n    dispatch(clearTransactionsInfoForSessionId(sessionId));\n\n    if (provider instanceof ExtensionProvider) {\n      var _ExtensionProvider$ge, _ExtensionProvider$ge2;\n\n      (_ExtensionProvider$ge = ExtensionProvider.getInstance()) === null || _ExtensionProvider$ge === void 0 ? void 0 : (_ExtensionProvider$ge2 = _ExtensionProvider$ge.cancelAction) === null || _ExtensionProvider$ge2 === void 0 ? void 0 : _ExtensionProvider$ge2.call(_ExtensionProvider$ge);\n    }\n  }\n\n  function onCancel(e, sessionId) {\n    if (e !== 'Transaction cancelled') {\n      setError(e);\n    }\n\n    clearSignInfo(sessionId);\n  }\n\n  function onAbort(sessionId) {\n    setError(null);\n    clearSignInfo(sessionId);\n  }\n\n  var signTransactions = function signTransactions() {\n    try {\n      return Promise.resolve(function () {\n        if (transactionsToSign) {\n          var sessionId = transactionsToSign.sessionId,\n              transactions = transactionsToSign.transactions,\n              callbackRoute = transactionsToSign.callbackRoute;\n          savedCallback.current = callbackRoute;\n          return _catch(function () {\n            if (provider == null) {\n              console.error('You need a signer/valid signer to send a transaction, use either WalletProvider, LedgerProvider or WalletConnect');\n              return;\n            }\n\n            return Promise.resolve(proxy.getAccount(new Address(address))).then(function (proxyAccount) {\n              var _urlParams;\n\n              var latestNonce = getLatestNonce(proxyAccount);\n              transactions.forEach(function (tx, i) {\n                tx.setNonce(new Nonce$1(latestNonce + i));\n              });\n\n              switch (providerType) {\n                case LoginMethodsEnum.wallet:\n                  var callbackUrl = buildReplyUrl({\n                    callbackUrl: \"\" + window.location.origin + callbackRoute,\n                    urlParams: (_urlParams = {}, _urlParams[walletSignSession] = sessionId, _urlParams)\n                  });\n                  dispatch(clearSignTransactions());\n                  provider.signTransactions(transactions, {\n                    callbackUrl: encodeURIComponent(callbackUrl)\n                  });\n                  break;\n\n                case LoginMethodsEnum.extension:\n                case LoginMethodsEnum.walletconnect:\n                case LoginMethodsEnum.extra:\n                  signTransactionsWithProvider();\n                  break;\n              }\n            });\n          }, function (err) {\n            var _updateSignedTransact;\n\n            var errMessage = 'error when signing';\n            console.error(errMessage, err);\n            onCancel((err === null || err === void 0 ? void 0 : err.message) || errMessage, sessionId);\n            dispatch(updateSignedTransaction((_updateSignedTransact = {}, _updateSignedTransact[sessionId] = {\n              status: TransactionBatchStatusesEnum.cancelled\n            }, _updateSignedTransact)));\n          });\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    if (transactionsToSign !== null && transactionsToSign !== void 0 && transactionsToSign.sessionId) {\n      signTransactions();\n    }\n  }, [transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.sessionId]);\n  var hasTransactions = transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.transactions;\n  return {\n    onAbort: onAbort,\n    error: error,\n    hasTransactions: hasTransactions,\n    transactions: transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.transactions,\n    sessionId: transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.sessionId,\n    callbackRoute: savedCallback.current\n  };\n}\n\nfunction useGetSignedTransactions() {\n  return useSelector(signedTransactionsSelector);\n}\n\nvar swr = {};\n\ntry {\n  swr = require('swr');\n} catch (err) {}\n\nvar useSwr = swr;\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (res) {\n    return res.json();\n  });\n};\n\nfunction useGetTokenDetails(_ref) {\n  var _selectedToken$assets;\n\n  var tokenId = _ref.tokenId;\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      network = _useGetNetworkConfig.network;\n\n  if (!tokenId) {\n    return {\n      tokenDenomination: Number(network.egldDenomination),\n      tokenLabel: '',\n      tokenAvatar: ''\n    };\n  }\n\n  var _useSwr = useSwr(network.apiAddress + \"/tokens/\" + tokenId, fetcher),\n      selectedToken = _useSwr.data,\n      error = _useSwr.error;\n\n  var tokenDenomination = selectedToken ? selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.decimals : Number(network.egldDenomination);\n  var tokenLabel = selectedToken ? selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.name : '';\n  var tokenAvatar = selectedToken ? \"\" + (selectedToken === null || selectedToken === void 0 ? void 0 : (_selectedToken$assets = selectedToken.assets) === null || _selectedToken$assets === void 0 ? void 0 : _selectedToken$assets.svgUrl) : '';\n  return {\n    tokenDenomination: tokenDenomination,\n    tokenLabel: tokenLabel,\n    tokenAvatar: tokenAvatar,\n    error: error\n  };\n}\n\nfunction useSignTransactionsWithLedger(_ref) {\n  var _currentTransaction$t, _currentTransaction$t2, _currentTransaction$t3;\n\n  var sign = function sign() {\n    try {\n      return Promise.resolve(_catch(function () {\n        if (currentTransaction == null || sessionId == null) {\n          return;\n        }\n\n        setWaitingForDevice(true);\n        return Promise.resolve(provider.signTransaction(currentTransaction.transaction)).then(function (signedTx) {\n          var _newSignedTx;\n\n          var newSignedTx = (_newSignedTx = {}, _newSignedTx[currentStep] = signedTx, _newSignedTx);\n          var newSignedTransactions = signedTransactions ? _extends({}, signedTransactions, newSignedTx) : newSignedTx;\n          setSignedTransactions(newSignedTransactions);\n\n          if (!isLastTransaction) {\n            setCurrentStep(function (exising) {\n              return exising + 1;\n            });\n          } else if (newSignedTransactions) {\n            var _updateSignedTransact;\n\n            dispatch(clearSignTransactions());\n            dispatch(updateSignedTransaction((_updateSignedTransact = {}, _updateSignedTransact[sessionId] = {\n              status: TransactionBatchStatusesEnum.signed,\n              transactions: Object.values(newSignedTransactions).map(function (tx) {\n                return parseTransactionAfterSigning(tx, true);\n              })\n            }, _updateSignedTransact)));\n            reset();\n\n            if (callbackRoute != null && redirectAfterSign && !window.location.pathname.includes(callbackRoute)) {\n              window.location.href = callbackRoute;\n            }\n          }\n        });\n      }, function (err) {\n        console.error(err, 'sign error');\n        reset();\n        dispatch(setSignTransactionsError(err.message));\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onCancel = _ref.onCancel;\n  var transactionsToSign = useSelector(transactionsToSignSelector);\n\n  var _ref2 = transactionsToSign || {},\n      sessionId = _ref2.sessionId,\n      transactions = _ref2.transactions,\n      callbackRoute = _ref2.callbackRoute,\n      redirectAfterSign = _ref2.redirectAfterSign;\n\n  var _useState = useState(0),\n      currentStep = _useState[0],\n      setCurrentStep = _useState[1];\n\n  var _useState2 = useState(),\n      signedTransactions = _useState2[0],\n      setSignedTransactions = _useState2[1];\n\n  var _useParseMultiEsdtTra = useParseMultiEsdtTransferData({\n    transactions: transactions\n  }),\n      getTxInfoByDataField = _useParseMultiEsdtTra.getTxInfoByDataField,\n      allTransactions = _useParseMultiEsdtTra.allTransactions;\n\n  var _useState3 = useState(null),\n      currentTransaction = _useState3[0],\n      setCurrentTransaction = _useState3[1];\n\n  var provider = useSelector(providerSelector);\n  var egldLabel = useSelector(egldLabelSelector);\n\n  var _useState4 = useState(false),\n      waitingForDevice = _useState4[0],\n      setWaitingForDevice = _useState4[1];\n\n  var dispatch = useDispatch();\n  var isLastTransaction = currentStep === allTransactions.length - 1;\n  useEffect(function () {\n    extractTransactionsInfo();\n  }, [currentStep, allTransactions]);\n\n  function extractTransactionsInfo() {\n    var tx = allTransactions[currentStep];\n\n    if (tx == null) {\n      return;\n    }\n\n    var transaction = tx.transaction,\n        multiTxData = tx.multiTxData;\n    var dataField = transaction.getData().toString();\n    var transactionTokenInfo = getTxInfoByDataField(transaction.getData().toString(), multiTxData);\n    var tokenId = transactionTokenInfo.tokenId;\n    var isTokenTransaction = Boolean(tokenId && isTokenTransfer({\n      tokenId: tokenId,\n      erdLabel: egldLabel\n    }));\n    setCurrentTransaction({\n      transaction: transaction,\n      transactionTokenInfo: transactionTokenInfo,\n      isTokenTransaction: isTokenTransaction,\n      dataField: dataField\n    });\n  }\n\n  function reset() {\n    setCurrentStep(0);\n    setSignedTransactions(undefined);\n    setWaitingForDevice(false);\n  }\n\n  function signTx() {\n    try {\n      if (currentTransaction == null) {\n        return;\n      }\n\n      var signature = currentTransaction.transaction.getSignature();\n\n      if (signature) {\n        if (!isLastTransaction) {\n          setCurrentStep(function (exising) {\n            return exising + 1;\n          });\n        }\n      } else {\n        sign();\n      }\n    } catch (_unused) {\n      sign();\n    }\n  }\n\n  function onAbort() {\n    if (isFirst) {\n      dispatch(clearSignTransactions());\n\n      if (callbackRoute != null && redirectAfterSign) {\n        window.location.href = callbackRoute;\n      }\n    } else {\n      setCurrentStep(function (existing) {\n        return existing - 1;\n      });\n    }\n  }\n\n  var continueWithoutSigning = (currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t === void 0 ? void 0 : _currentTransaction$t.type) && (currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t2 = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t2 === void 0 ? void 0 : _currentTransaction$t2.multiTxData) && !(currentTransaction !== null && currentTransaction !== void 0 && currentTransaction.dataField.endsWith(currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t3 = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t3 === void 0 ? void 0 : _currentTransaction$t3.multiTxData));\n\n  function onSignTransaction() {\n    if (continueWithoutSigning) {\n      setCurrentStep(function (exising) {\n        return exising + 1;\n      });\n    } else {\n      signTx();\n    }\n  }\n\n  function onNext() {\n    setCurrentStep(function (current) {\n      var nextStep = current + 1;\n\n      if (nextStep > (allTransactions === null || allTransactions === void 0 ? void 0 : allTransactions.length)) {\n        return current;\n      }\n\n      return nextStep;\n    });\n  }\n\n  function onPrev() {\n    if (currentStep === 0) {\n      onCancel();\n    }\n\n    setCurrentStep(function (current) {\n      var nextStep = current - 1;\n\n      if (nextStep < 0) {\n        return current;\n      }\n\n      return nextStep;\n    });\n  }\n\n  var isFirst = currentStep === 0;\n  return {\n    allTransactions: allTransactions,\n    onSignTransaction: onSignTransaction,\n    onNext: onNext,\n    onPrev: onPrev,\n    waitingForDevice: waitingForDevice,\n    onAbort: onAbort,\n    isLastTransaction: isLastTransaction,\n    callbackRoute: callbackRoute,\n    currentStep: currentStep,\n    signedTransactions: signedTransactions,\n    currentTransaction: currentTransaction\n  };\n}\n\nvar useGetSignTransactionsError = function useGetSignTransactionsError() {\n  return useSelector(signTransactionsErrorSelector);\n};\n\nvar useGetAccountInfo = function useGetAccountInfo() {\n  return useSelector(accountInfoSelector);\n};\n\nvar useGetLoginInfo = function useGetLoginInfo() {\n  var loginInfo = useSelector(loginInfoSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  return _extends({}, loginInfo, {\n    isLoggedIn: isLoggedIn\n  });\n};\n\nvar useGetAccountProvider = function useGetAccountProvider() {\n  var provider = useSelector(providerSelector);\n  var providerType = getProviderType(provider);\n  return {\n    provider: provider,\n    providerType: providerType\n  };\n};\n\nvar getAccountShard = function getAccountShard() {\n  try {\n    var _await$axios$get, account;\n\n    var appState = store.getState();\n    var network = networkSelector(appState);\n    var address = addressSelector(appState);\n    var shard = shardSelector(appState);\n    return Promise.resolve(_catch(function () {\n      if (shard == null && address) {\n        return Promise.resolve(axios.get(network.apiAddress + \"/accounts/\" + address)).then(function (_axios$get) {\n          _await$axios$get = _axios$get;\n          account = _await$axios$get.data;\n          store.dispatch(setAccountShard(account.shard));\n          return account.shard;\n        });\n      } else {\n        return shard;\n      }\n    }, function (err) {\n      console.error(err);\n      return null;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction AppInitializer(_ref) {\n  var initializeApp = function initializeApp() {\n    try {\n      initializeCustomExtraActions();\n      return Promise.resolve(initializeNetwork()).then(function () {\n        setInitialized(true);\n        getAccountShard();\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initializeNetwork = function initializeNetwork() {\n    try {\n      var fallbackConfig = fallbackConfigurations[environment];\n\n      if (fallbackConfig != null) {\n        dispatch(initializeNetworkConfig(_extends({}, fallbackConfig, customNetworkConfig)));\n      }\n\n      return Promise.resolve(getServerConfiguration(environment)).then(function (serverConfig) {\n        if (serverConfig != null) {\n          dispatch(initializeNetworkConfig(_extends({}, serverConfig, customNetworkConfig)));\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var _ref$customNetworkCon = _ref.customNetworkConfig,\n      customNetworkConfig = _ref$customNetworkCon === void 0 ? {} : _ref$customNetworkCon,\n      children = _ref.children,\n      environment = _ref.environment,\n      extraActions = _ref.extraActions;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1];\n\n  var account = useGetAccountInfo();\n  var address = account.address,\n      publicKey = account.publicKey;\n  var dispatch = useDispatch();\n\n  function initializeCustomExtraActions() {\n    if (extraActions != null) {\n      try {\n        extraActions === null || extraActions === void 0 ? void 0 : extraActions.init({\n          onLogin: function onLogin(address, loginMethod) {\n            dispatch(loginAction({\n              address: address,\n              loginMethod: loginMethod\n            }));\n          },\n          log: function log(word) {\n            console.log('dapp log: ', word);\n          }\n        });\n        dispatch(initializeExtraActions(extraActions));\n      } catch (err) {\n        console.error('Unable to initalize extraActions', err);\n      }\n    }\n  }\n\n  useEffect(function () {\n    if (address) {\n      var pubKey = new Address$1(address).hex();\n\n      if (pubKey !== publicKey) {\n        logout();\n      }\n    }\n  }, [address, publicKey]);\n  useEffect(function () {\n    initializeApp();\n  }, [customNetworkConfig, environment]);\n  return initialized ? children : null;\n}\n\nvar DappProvider = function DappProvider(_ref) {\n  var children = _ref.children,\n      _ref$customNetworkCon = _ref.customNetworkConfig,\n      customNetworkConfig = _ref$customNetworkCon === void 0 ? {} : _ref$customNetworkCon,\n      extraActions = _ref.extraActions,\n      _ref$completedTransac = _ref.completedTransactionsDelay,\n      completedTransactionsDelay = _ref$completedTransac === void 0 ? 0 : _ref$completedTransac,\n      _ref$signWithoutSendi = _ref.signWithoutSending,\n      signWithoutSending = _ref$signWithoutSendi === void 0 ? false : _ref$signWithoutSendi,\n      environment = _ref.environment,\n      _ref$sendSignedTransa = _ref.sendSignedTransactionsAsync,\n      sendSignedTransactionsAsync = _ref$sendSignedTransa === void 0 ? sendSignedTransactions : _ref$sendSignedTransa,\n      _ref$getTransactionsB = _ref.getTransactionsByHash,\n      getTransactionsByHash = _ref$getTransactionsB === void 0 ? getTransactionsByHashes : _ref$getTransactionsB;\n  var memoizedSendSignedTransactionsAsync = useCallback(sendSignedTransactionsAsync, []);\n  var memoizedGetTransactionsByHash = useCallback(getTransactionsByHash, []);\n  return React__default.createElement(Provider, {\n    context: DappCoreContext,\n    store: store\n  }, React__default.createElement(PersistGate, {\n    persistor: persistor,\n    loading: null\n  }, React__default.createElement(OverrideDefaultBehaviourContext.Provider, {\n    value: {\n      sendSignedTransactionsAsync: memoizedSendSignedTransactionsAsync,\n      getTransactionsByHash: memoizedGetTransactionsByHash,\n      completedTransactionsDelay: completedTransactionsDelay\n    }\n  }, React__default.createElement(AppInitializer, {\n    environment: environment,\n    customNetworkConfig: customNetworkConfig,\n    extraActions: extraActions\n  }, React__default.createElement(ProviderInitializer, null), !signWithoutSending && React__default.createElement(TransactionSender, null), React__default.createElement(TransactionsTracker, null), children))));\n};\n\nvar AuthenticatedRoutesWrapper = function AuthenticatedRoutesWrapper(_ref) {\n  var children = _ref.children,\n      routes = _ref.routes,\n      unlockRoute = _ref.unlockRoute,\n      onRedirect = _ref.onRedirect;\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var isAccountLoading = useSelector(isAccountLoadingSelector);\n  var walletLogin = useSelector(walletLoginSelector);\n  var pathname = window.location.pathname;\n  var authenticatedRoutesRef = useRef(routes.filter(function (route) {\n    return Boolean(route.authenticatedRoute);\n  }));\n  var isOnAuthenticatedRoute = authenticatedRoutesRef.current.some(function (_ref2) {\n    var path = _ref2.path;\n    return pathname === path;\n  });\n  var shouldRedirect = isOnAuthenticatedRoute && !isLoggedIn && walletLogin == null;\n\n  if (isAccountLoading || walletLogin) {\n    return null;\n  }\n\n  if (shouldRedirect) {\n    if (onRedirect) {\n      onRedirect(unlockRoute);\n    } else {\n      window.location.href = unlockRoute;\n    }\n\n    return null;\n  }\n\n  return React__default.createElement(React__default.Fragment, null, children);\n};\n\nvar TransactionParameter = function TransactionParameter(sender, receiver, functionName, inputParameters, outputParameters) {\n  this.sender = sender;\n  this.receiver = receiver;\n  this.functionName = functionName;\n  this.inputParameters = inputParameters;\n  this.outputParameters = outputParameters;\n};\n\nvar index$2 = {\n  __proto__: null,\n  TransactionParameter: TransactionParameter\n};\n\nvar withClassNameWrapper = function withClassNameWrapper(Component) {\n  return function (_ref) {\n    var props = _extends({}, _ref);\n\n    return React__default.createElement(\"span\", {\n      className: wrapperClassName\n    }, React__default.createElement(Component, Object.assign({}, props)));\n  };\n};\n\nvar denominateInvalid = function denominateInvalid(props) {\n  return React__default.createElement(\"span\", {\n    \"data-testid\": props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n  }, React__default.createElement(\"span\", {\n    className: 'int-amount'\n  }, \"...\"));\n};\n\nvar denominateValid = function denominateValid(props, erdLabel) {\n  var value = props.value,\n      _props$showLastNonZer = props.showLastNonZeroDecimal,\n      showLastNonZeroDecimal = _props$showLastNonZer === void 0 ? false : _props$showLastNonZer,\n      _props$showLabel = props.showLabel,\n      showLabel = _props$showLabel === void 0 ? true : _props$showLabel;\n  var decimals$1 = props.decimals !== undefined ? props.decimals : decimals;\n  var denomination$1 = props.denomination !== undefined ? props.denomination : denomination;\n  var denominatedValue = denominate({\n    input: value,\n    denomination: denomination$1,\n    decimals: decimals$1,\n    showLastNonZeroDecimal: showLastNonZeroDecimal,\n    addCommas: true\n  });\n  var valueParts = denominatedValue.split('.');\n  var hasNoDecimals = valueParts.length === 1;\n  var isNotZero = denominatedValue !== '0';\n\n  if (decimals$1 > 0 && hasNoDecimals && isNotZero) {\n    var zeros = '';\n\n    for (var i = 1; i <= decimals$1; i++) {\n      zeros = zeros + '0';\n    }\n\n    valueParts.push(zeros);\n  }\n\n  return React__default.createElement(\"span\", {\n    \"data-testid\": props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n  }, React__default.createElement(\"span\", {\n    className: 'int-amount'\n  }, valueParts[0]), valueParts.length > 1 && React__default.createElement(\"span\", {\n    className: 'decimals'\n  }, \".\", valueParts[1]), showLabel && React__default.createElement(\"span\", {\n    className: \"symbol \" + (props.token ? 'text-muted' : '')\n  }, \"\\xA0\", props.token ? props.token : erdLabel));\n};\n\nvar Denominate = function Denominate(props) {\n  var value = props.value;\n  return !validation.stringIsInteger(value) ? denominateInvalid(props) : denominateValid(props, props.egldLabel || '');\n};\n\nvar DenominateWrapper = function DenominateWrapper(props) {\n  var egldLabel = getEgldLabel();\n\n  var denominateProps = _extends({}, props, {\n    egldLabel: egldLabel\n  });\n\n  return React__default.createElement(Denominate, Object.assign({}, denominateProps));\n};\n\nvar Denominate$1 = withClassNameWrapper(DenominateWrapper);\nvar fontawesomeFreeSolidIcons = {};\n\ntry {\n  fontawesomeFreeSolidIcons = require('@fortawesome/free-solid-svg-icons');\n} catch (err) {}\n\nvar icons = fontawesomeFreeSolidIcons;\nvar ReactFontawesome = {};\n\ntry {\n  ReactFontawesome = require('@fortawesome/react-fontawesome');\n} catch (err) {}\n\nvar ReactFontawesome$1 = ReactFontawesome;\n\nvar ExplorerLink = function ExplorerLink(_ref) {\n  var page = _ref.page,\n      text = _ref.text,\n      className = _ref.className;\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      explorerAddress = _useGetNetworkConfig.network.explorerAddress;\n\n  return React__default.createElement(\"a\", Object.assign({\n    href: \"\" + explorerAddress + page\n  }, {\n    target: '_blank'\n  }, {\n    className: \"link-style \" + className\n  }), text ? React__default.createElement(React__default.Fragment, null, text) : React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faSearch,\n    className: 'text-secondary'\n  }));\n};\n\nvar ExplorerLink$1 = withClassNameWrapper(ExplorerLink);\n\nvar ExtensionLoginButton = function ExtensionLoginButton(_ref) {\n  var token = _ref.token,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'extension-login' : _ref$className,\n      children = _ref.children,\n      callbackRoute = _ref.callbackRoute,\n      buttonClassName = _ref.buttonClassName,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Maiar DeFi Wallet' : _ref$loginButtonText,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _useExtensionLogin = useExtensionLogin({\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin\n  }),\n      onInitiateLogin = _useExtensionLogin[0];\n\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left',\n    noExtensionButtonWrapper: 'btn btn-unlock d-inline-block',\n    noExtensionButtonContent: 'd-flex justify-content-between align-items-center',\n    noExtensionButtonTitle: 'title',\n    noExtensionButtonIcon: ''\n  });\n\n  var handleLogin = function handleLogin() {\n    onInitiateLogin();\n  };\n\n  return !window.elrondWallet ? React__default.createElement(\"a\", {\n    rel: 'noreferrer',\n    href: 'https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en',\n    target: '_blank',\n    className: classes.noExtensionButtonWrapper\n  }, React__default.createElement(\"div\", {\n    className: classes.noExtensionButtonContent\n  }, React__default.createElement(\"div\", {\n    className: classes.noExtensionButtonTitle\n  }, \"Maiar DeFi Wallet\"), React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    className: classes.noExtensionButtonIcon,\n    icon: ReactFontawesome$1.faArrowRight\n  }))) : React__default.createElement(\"button\", {\n    onClick: handleLogin,\n    className: classes.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: classes.loginText\n  }, loginButtonText));\n};\n\nvar ExtensionLoginButton$1 = withClassNameWrapper(ExtensionLoginButton);\nvar ReactBootstrap = {};\n\ntry {\n  ReactBootstrap = require('react-bootstrap');\n} catch (err) {}\n\nvar ReactBootstrap$1 = ReactBootstrap;\n\nvar ModalContainer = function ModalContainer(_ref) {\n  var children = _ref.children,\n      noSpacer = _ref.noSpacer,\n      className = _ref.className,\n      title = _ref.title,\n      onClose = _ref.onClose;\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: onClose,\n    className: \"modal-container \" + (className ? className : '') + \" \" + wrapperClassName,\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: 'modal-card card w-100'\n  }, React__default.createElement(\"div\", {\n    className: 'card-title h5 mb-0'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex justify-content-between align-items-center pt-spacer px-spacer mb-0'\n  }, React__default.createElement(\"div\", {\n    className: 'px-3'\n  }, title), React__default.createElement(\"button\", {\n    type: 'button',\n    className: 'btn btn-light px-3 py-2',\n    onClick: onClose\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    size: 'lg',\n    icon: icons.faTimes\n  })))), React__default.createElement(\"div\", {\n    className: \"modal-card-body text-center \" + (noSpacer ? 'p-0' : 'p-spacer')\n  }, children)));\n};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar classnames$2 = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2018 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg)) {\n          if (arg.length) {\n            var inner = classNames.apply(null, arg);\n\n            if (inner) {\n              classes.push(inner);\n            }\n          }\n        } else if (argType === 'object') {\n          if (arg.toString === Object.prototype.toString) {\n            for (var key in arg) {\n              if (hasOwn.call(arg, key) && arg[key]) {\n                classes.push(key);\n              }\n            }\n          } else {\n            classes.push(arg.toString());\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\n\nvar PageState = function PageState(_ref) {\n  var _classNames;\n\n  var icon = _ref.icon,\n      title = _ref.title,\n      action = _ref.action,\n      iconClass = _ref.iconClass,\n      dataTestId = _ref.dataTestId,\n      description = _ref.description,\n      iconBgClass = _ref.iconBgClass,\n      _ref$iconSize = _ref.iconSize,\n      iconSize = _ref$iconSize === void 0 ? '5x' : _ref$iconSize,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'page-state' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'state m-auto p-4 text-center',\n    iconContainer: classnames$2('icon-state mx-auto', (_classNames = {}, _classNames[\"\" + iconBgClass] = Boolean(iconBgClass), _classNames)),\n    iconClass: classnames$2(iconClass != null && iconClass),\n    title: 'h4 my-4',\n    description: 'mb-3'\n  });\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper,\n    \"data-testid\": dataTestId\n  }, icon && React__default.createElement(\"span\", {\n    className: generatedClasses.iconContainer\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icon,\n    className: generatedClasses.iconClass,\n    size: iconSize\n  })), title && React__default.createElement(\"p\", {\n    className: generatedClasses.title\n  }, title), description && React__default.createElement(\"div\", {\n    className: generatedClasses.description\n  }, description), action && React__default.createElement(React__default.Fragment, null, action));\n};\n\nvar PageState$1 = withClassNameWrapper(PageState);\n\nvar trimHash = function trimHash(hash, keep) {\n  if (keep === void 0) {\n    keep = 10;\n  }\n\n  var start = hash.substring(0, keep);\n  var end = hash.substring(hash.length - keep);\n  return start + \"...\" + end;\n};\n\nvar noBalance = '...';\n\nvar AddressRow = function AddressRow(_ref) {\n  var address = _ref.address,\n      index = _ref.index,\n      selectedAddress = _ref.selectedAddress,\n      onSelectAddress = _ref.onSelectAddress;\n\n  var _React$useState = React__default.useState(noBalance),\n      balance = _React$useState[0],\n      setBalance = _React$useState[1];\n\n  var handleChange = function handleChange(e) {\n    var checked = e.target.checked;\n\n    if (checked) {\n      onSelectAddress({\n        address: address,\n        index: index\n      });\n    }\n  };\n\n  var fetchBalance = function fetchBalance() {\n    try {\n      var _temp2 = _catch(function () {\n        return Promise.resolve(getAccountBalance(address)).then(function (balance) {\n          setBalance(balance);\n        });\n      }, function () {\n        console.error('error fetching balance', balance);\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  React__default.useEffect(function () {\n    fetchBalance();\n  }, []);\n  return React__default.createElement(\"tr\", null, React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex align-items-start text-left form-check'\n  }, React__default.createElement(\"input\", {\n    type: 'radio',\n    id: \"check_\" + index,\n    \"data-testid\": \"check_\" + index,\n    onChange: handleChange,\n    role: 'button',\n    checked: selectedAddress === address,\n    className: 'form-check-input mr-1'\n  }), React__default.createElement(\"label\", {\n    htmlFor: \"check_\" + index,\n    role: 'button',\n    \"data-testid\": \"label_\" + index,\n    className: 'form-check-label text-nowrap trim-size-xl m-0'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex align-items-center text-nowrap trim'\n  }, React__default.createElement(\"span\", null, trimHash(address)))))), React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, React__default.createElement(Denominate$1, {\n    value: balance\n  })), React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, index));\n};\n\nvar ledgerWaitingText = 'Waiting for device';\nvar addressesPerPage = 10;\n\nvar AddressTable = function AddressTable(_ref) {\n  var loading = _ref.loading,\n      accounts = _ref.accounts,\n      startIndex = _ref.startIndex,\n      selectedAddress = _ref.selectedAddress,\n      onGoToPrevPage = _ref.onGoToPrevPage,\n      onGoToNextPage = _ref.onGoToNextPage,\n      onConfirmSelectedAddress = _ref.onConfirmSelectedAddress,\n      onSelectAddress = _ref.onSelectAddress,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-address-table' : _ref$className;\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'card my-4 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    tableWrapper: 'table-responsive',\n    tableContent: 'table m-0 border-bottom',\n    tableHeader: 'py-2 text-semibold border-bottom',\n    tableHeaderText: 'text-left border-0',\n    buttonsWrapper: 'd-flex justify-content-center pager mt-2',\n    arrowButton: 'btn btn-link mx-2',\n    confirmButton: 'btn btn-primary px-4 mt-4'\n  });\n\n  switch (true) {\n    case loading:\n      return React__default.createElement(PageState$1, {\n        className: className,\n        icon: icons.faCircleNotch,\n        iconClass: 'fa-spin text-primary',\n        title: ledgerWaitingText\n      });\n\n    default:\n      return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n        className: 'm-auto'\n      }, React__default.createElement(\"div\", {\n        className: classes.wrapper\n      }, React__default.createElement(\"div\", {\n        className: classes.cardBody\n      }, React__default.createElement(\"div\", {\n        className: classes.tableWrapper,\n        \"data-testid\": 'ledgerAddresses'\n      }, React__default.createElement(\"table\", {\n        className: classes.tableContent\n      }, React__default.createElement(\"thead\", {\n        className: classes.tableHeader\n      }, React__default.createElement(\"tr\", null, React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"Address\"), React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"Balance\"), React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"#\"))), React__default.createElement(\"tbody\", {\n        \"data-testid\": 'addressesTable'\n      }, accounts.map(function (address, index) {\n        var key = index + startIndex * addressesPerPage;\n        return React__default.createElement(AddressRow, {\n          key: key,\n          address: address,\n          index: key,\n          selectedAddress: selectedAddress,\n          onSelectAddress: onSelectAddress\n        });\n      })))), React__default.createElement(\"div\", {\n        className: classes.buttonsWrapper\n      }, React__default.createElement(\"button\", {\n        type: 'button',\n        className: classes.arrowButton,\n        onClick: onGoToPrevPage,\n        \"data-testid\": 'prevBtn',\n        disabled: startIndex === 0\n      }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        size: 'sm',\n        icon: icons.faChevronLeft\n      }), ' ', \"Prev\"), React__default.createElement(\"button\", {\n        type: 'button',\n        className: classes.arrowButton,\n        onClick: onGoToNextPage,\n        \"data-testid\": 'nextBtn'\n      }, \"Next\", ' ', React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        size: 'sm',\n        icon: icons.faChevronRight\n      }))), React__default.createElement(\"button\", {\n        className: classes.confirmButton,\n        disabled: selectedAddress === '',\n        onClick: onConfirmSelectedAddress,\n        \"data-testid\": 'confirmBtn'\n      }, \"Confirm\")))));\n  }\n};\n\nvar ConfirmAddress = function ConfirmAddress(_ref) {\n  var token = _ref.token,\n      noBorder = _ref.noBorder;\n\n  var _useGetAccountInfo = useGetAccountInfo(),\n      ledgerAccount = _useGetAccountInfo.ledgerAccount;\n\n  return React__default.createElement(\"div\", {\n    className: 'm-auto'\n  }, React__default.createElement(\"div\", {\n    className: \"card my-4 text-center \" + (noBorder ? 'border-0' : '')\n  }, React__default.createElement(\"div\", {\n    className: 'card-body p-4 mx-lg-4'\n  }, React__default.createElement(\"h4\", {\n    className: 'mb-4'\n  }, \"Confirm Ledger Address\"), React__default.createElement(\"p\", null, \"For security, please confirm that your address: \"), React__default.createElement(\"p\", {\n    className: 'lead border rounded p-2'\n  }, ledgerAccount ? ledgerAccount.address : ''), token && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", null, \"and Auth Token\"), React__default.createElement(\"p\", {\n    className: 'lead border rounded p-2'\n  }, token + \"{}\")), React__default.createElement(\"p\", {\n    className: 'm-0'\n  }, token ? 'are the one shown on your Ledger device screen now.' : 'is the one shown on your Ledger device screen now.'), React__default.createElement(\"p\", null, \"Select Approve on your device to confirm.\"), React__default.createElement(\"p\", null, \"Or, if it does not match, close this page and\", ' ', React__default.createElement(\"a\", Object.assign({\n    href: 'https://help.elrond.com/en/'\n  }, {\n    target: '_blank'\n  }), \"contact support\"), \".\"))));\n};\n\nvar _defs, _g;\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction SvgLedgerNano(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 110,\n    height: 55,\n    viewBox: \"0 0 260 129\"\n  }, props), _defs || (_defs = /*#__PURE__*/createElement(\"defs\", null, /*#__PURE__*/createElement(\"linearGradient\", {\n    id: \"ledger-nano_svg__a\",\n    x1: \"50%\",\n    x2: \"50%\",\n    y1: \"0%\",\n    y2: \"100%\"\n  }, /*#__PURE__*/createElement(\"stop\", {\n    offset: \"0%\"\n  }), /*#__PURE__*/createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#FFF\"\n  })), /*#__PURE__*/createElement(\"path\", {\n    id: \"ledger-nano_svg__b\",\n    d: \"M91 0h34a4 4 0 014 4v108.144c0 11.519-9.337 20.856-20.856 20.856h-.288C96.337 133 87 123.663 87 112.144V4a4 4 0 014-4z\"\n  }))), _g || (_g = /*#__PURE__*/createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#1D2027\",\n    strokeWidth: 2,\n    d: \"M127.856 31.44a1 1 0 01-1 1H100.63a5 5 0 01-5-5v-8.486a5 5 0 015-5h26.225a1 1 0 011 1v16.485z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#142533\",\n    strokeWidth: 2,\n    d: \"M95.247 26.231H84.318v-6.435h10.93v6.435z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#1D2027\",\n    strokeWidth: 2,\n    d: \"M127.923 28.726V17.471l6.977.083a1 1 0 01.988 1v9.266a1 1 0 01-1.012.988l-6.953-.083z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    fill: \"url(#ledger-nano_svg__a)\",\n    d: \"M6.836 53.925h1.616v82.65H6.836v-82.65zm5.657 0h1.616v82.65h-1.616v-82.65z\",\n    transform: \"matrix(0 -1 -1 0 137.5 33.44)\"\n  }), /*#__PURE__*/createElement(\"g\", {\n    transform: \"rotate(-90 128.59 1.975)\"\n  }, /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill\",\n    width: 4.492,\n    height: 17.12,\n    x: 125.336,\n    y: 15.505,\n    fill: \"#142533\",\n    rx: 2\n  }), /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill\",\n    width: 4.492,\n    height: 17.12,\n    x: 125.336,\n    y: 70.094,\n    fill: \"#142533\",\n    rx: 2\n  }), /*#__PURE__*/createElement(\"use\", {\n    className: \"ledger-nano_svg__ledger-fill-inner-bg\",\n    fill: \"#FFF\",\n    xlinkHref: \"#ledger-nano_svg__b\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    fill: \"#6490F1\",\n    fillOpacity: 0.15,\n    stroke: \"#142533\",\n    strokeLinejoin: \"square\",\n    strokeWidth: 2,\n    d: \"M91 1a3 3 0 00-3 3v108.144C88 123.11 96.89 132 107.856 132h.288C119.11 132 128 123.11 128 112.144V4a3 3 0 00-3-3H91z\"\n  }), /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill-outer-bg\",\n    width: 21,\n    height: 62,\n    x: 97.5,\n    y: 21.5,\n    fill: \"#FFF\",\n    stroke: \"#6490F1\",\n    rx: 1.6\n  }), /*#__PURE__*/createElement(\"path\", {\n    fill: \"#6490F1\",\n    d: \"M105.5 35h5a.5.5 0 01.5.5v34a.5.5 0 01-.5.5h-5a.5.5 0 01-.5-.5v-34a.5.5 0 01.5-.5zm1.238 3.042l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.178-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.014l-.774.505.341.466.722-.578h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.171-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.898.551-.177-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.013l-.774.506.341.465.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.879.932.052v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.583-.34.472zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke ledger-nano_svg__ledger-fill-outer-bg\",\n    fill: \"#FFF\",\n    stroke: \"#142533\",\n    strokeWidth: 2,\n    d: \"M123.166 125.105c7.049-8.4 5.953-20.925-2.447-27.974l-90.824-76.21a3 3 0 00-4.227.37L4 47.115a3 3 0 00.37 4.227l90.824 76.21c8.4 7.049 20.924 5.953 27.973-2.447z\"\n  }), /*#__PURE__*/createElement(\"ellipse\", {\n    cx: 108.016,\n    cy: 111.123,\n    stroke: \"#6490F1\",\n    rx: 10.57,\n    ry: 10.644\n  })))));\n}\n\nvar LedgerConnect = function LedgerConnect(_ref) {\n  var onClick = _ref.onClick,\n      error = _ref.error,\n      connectPageContent = _ref.connectPageContent;\n  return React__default.createElement(\"div\", {\n    className: 'm-auto login-container'\n  }, React__default.createElement(\"div\", {\n    className: 'card my-4 text-center'\n  }, React__default.createElement(\"div\", {\n    className: 'card-body p-4 mx-lg-4'\n  }, connectPageContent ? React__default.createElement(React__default.Fragment, null, connectPageContent) : React__default.createElement(React__default.Fragment, null, React__default.createElement(SvgLedgerNano, {\n    className: 'mb-4'\n  }), React__default.createElement(\"h4\", {\n    className: 'mb-4'\n  }, \"Connect Ledger\"), React__default.createElement(\"p\", {\n    className: 'lead mb-4'\n  }, \"Unlock your device & open the Elrond App.\")), React__default.createElement(\"div\", null, error && React__default.createElement(\"p\", {\n    className: 'text-danger d-flex justify-content-center align-items-center'\n  }, error), React__default.createElement(\"button\", {\n    className: 'btn btn-primary px-4',\n    onClick: onClick,\n    \"data-testid\": 'connectBtn'\n  }, \"Connect Ledger\")))));\n};\n\nvar ledgerWaitingText$1 = 'Waiting for device';\n\nfunction LedgerLoginContainer(_ref) {\n  var callbackRoute = _ref.callbackRoute,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'login-modal-content' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      redirectAfterLogin = _ref.redirectAfterLogin,\n      onClose = _ref.onClose,\n      token = _ref.token;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    spinner: 'fa-spin text-primary'\n  });\n\n  var _useGetAccountInfo = useGetAccountInfo(),\n      ledgerAccount = _useGetAccountInfo.ledgerAccount;\n\n  var _useLedgerLogin = useLedgerLogin({\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin\n  }),\n      onStartLogin = _useLedgerLogin[0],\n      _useLedgerLogin$ = _useLedgerLogin[1],\n      error = _useLedgerLogin$.error,\n      isLoading = _useLedgerLogin$.isLoading,\n      _useLedgerLogin$2 = _useLedgerLogin[2],\n      showAddressList = _useLedgerLogin$2.showAddressList,\n      accounts = _useLedgerLogin$2.accounts,\n      onGoToPrevPage = _useLedgerLogin$2.onGoToPrevPage,\n      onGoToNextPage = _useLedgerLogin$2.onGoToNextPage,\n      onSelectAddress = _useLedgerLogin$2.onSelectAddress,\n      onConfirmSelectedAddress = _useLedgerLogin$2.onConfirmSelectedAddress,\n      startIndex = _useLedgerLogin$2.startIndex,\n      selectedAddress = _useLedgerLogin$2.selectedAddress;\n\n  function getContent() {\n    if (isLoading) {\n      return React__default.createElement(PageState$1, {\n        icon: icons.faCircleNotch,\n        iconClass: generatedClasses.spinner,\n        title: ledgerWaitingText$1\n      });\n    }\n\n    if (ledgerAccount != null && !error) {\n      return React__default.createElement(ConfirmAddress, {\n        token: token\n      });\n    }\n\n    if (showAddressList && !error) {\n      return React__default.createElement(AddressTable, {\n        accounts: accounts,\n        loading: isLoading,\n        className: className,\n        shouldRenderDefaultCss: shouldRenderDefaultCss,\n        onGoToNextPage: onGoToNextPage,\n        onGoToPrevPage: onGoToPrevPage,\n        onSelectAddress: onSelectAddress,\n        startIndex: startIndex,\n        selectedAddress: selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.address,\n        onConfirmSelectedAddress: onConfirmSelectedAddress\n      });\n    }\n\n    return React__default.createElement(LedgerConnect, {\n      onClick: onStartLogin,\n      error: error\n    });\n  }\n\n  return wrapContentInsideModal ? React__default.createElement(ModalContainer, {\n    title: 'Login with ledger',\n    className: className,\n    onClose: onClose\n  }, getContent()) : getContent();\n}\n\nvar LedgerLoginContainer$1 = withClassNameWrapper(LedgerLoginContainer);\n\nvar LedgerLoginButton = function LedgerLoginButton(_ref) {\n  var token = _ref.token,\n      callbackRoute = _ref.callbackRoute,\n      children = _ref.children,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Ledger' : _ref$loginButtonText,\n      buttonClassName = _ref.buttonClassName,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-login' : _ref$className,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _React$useState = React__default.useState(false),\n      showLoginModal = _React$useState[0],\n      setShowLoginModal = _React$useState[1];\n\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  function handleOpenModal() {\n    setShowLoginModal(true);\n  }\n\n  function handleCloseModal() {\n    setShowLoginModal(false);\n  }\n\n  return React__default.createElement(\"span\", {\n    className: wrapperClassName\n  }, React__default.createElement(\"button\", {\n    onClick: handleOpenModal,\n    className: generatedClasses.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: generatedClasses.loginText\n  }, loginButtonText)), showLoginModal && React__default.createElement(LedgerLoginContainer$1, {\n    className: className,\n    shouldRenderDefaultCss: shouldRenderDefaultCss,\n    callbackRoute: callbackRoute,\n    token: token,\n    wrapContentInsideModal: wrapContentInsideModal,\n    redirectAfterLogin: redirectAfterLogin,\n    onClose: handleCloseModal\n  }));\n};\n\nvar LedgerLoginButton$1 = withClassNameWrapper(LedgerLoginButton);\n\nvar _notificationTypesToI;\n\nvar notificationTypesToIcons = (_notificationTypesToI = {}, _notificationTypesToI[NotificationTypesEnum.warning] = icons.faExclamationTriangle, _notificationTypesToI);\nvar defaultIcon = icons.faExclamationTriangle;\n\nfunction NotificationModal() {\n  var _useGetNotification = useGetNotification(),\n      notification = _useGetNotification.notification,\n      clearNotification = _useGetNotification.clearNotification;\n\n  var showModal = Boolean(notification);\n\n  var onDone = function onDone() {\n    clearNotification();\n  };\n\n  var icon = notification ? notificationTypesToIcons[notification === null || notification === void 0 ? void 0 : notification.type] || defaultIcon : null;\n  return notification ? React__default.createElement(ReactBootstrap$1.Modal, {\n    show: showModal,\n    backdrop: true,\n    onHide: notification,\n    className: \"modal-container \" + wrapperClassName,\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: 'card w-100 notification-modal'\n  }, React__default.createElement(PageState$1, {\n    icon: icon,\n    iconClass: notification.iconClassName,\n    iconBgClass: 'p-4 rounded-bg-circle',\n    iconSize: '3x',\n    title: notification.title,\n    description: notification.description,\n    action: React__default.createElement(\"button\", {\n      className: 'btn btn-primary',\n      onClick: onDone\n    }, \"Done\")\n  }))) : null;\n}\n\nvar SignWithExtensionModal = function SignWithExtensionModal(_ref) {\n  var handleClose = _ref.handleClose,\n      error = _ref.error,\n      callbackRoute = _ref.callbackRoute,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'extension-modal' : _ref$className;\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container extension',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  var description = error ? error : transactions && transactions.length > 1 ? 'Check your Elrond Wallet Extension to sign the transactions' : 'Check your Elrond Wallet Extension to sign the transaction';\n\n  var close = function close(e) {\n    e.preventDefault();\n    handleClose();\n\n    if (callbackRoute != null && !window.location.pathname.includes(callbackRoute)) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: handleClose,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    className: className,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    title: 'Confirm on Maiar DeFi Wallet',\n    description: description,\n    action: React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: close,\n      className: classes.closeBtn\n    }, \"Close\")\n  }));\n};\n\nvar _g$1;\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nfunction SvgEgld(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$2({\n    viewBox: \"0 0 100 100\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _g$1 || (_g$1 = /*#__PURE__*/createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/createElement(\"path\", {\n    d: \"M79.6 19.424c-.4-.438-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.329-.9.548-1.4.548-.5.11-1-.11-1.4-.548M74.556 24.448c-.333-.441-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222.993-.555 1.434C77 24.779 76.556 25 76 25s-1-.221-1.445-.552M69.556 30.448c-.333-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.435s-.222.993-.555 1.434C72 30.889 71.556 31 71 31s-1.112-.221-1.445-.552M64.6 35.448c-.4-.331-.6-.883-.6-1.435s.2-.993.6-1.434c.8-.772 2-.772 2.8 0 .4.331.6.883.6 1.435s-.2 1.103-.6 1.434c-.4.441-.9.552-1.4.552s-1-.11-1.4-.552M59.556 40.424c-.444-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.329.555.877.555 1.424 0 .548-.222 1.096-.555 1.425-.333.438-.889.548-1.445.548a1.457 1.457 0 01-1.444-.548M53 44.014c0-.552.222-.993.556-1.435.777-.772 2.11-.772 2.888 0 .445.442.556.883.556 1.435s-.222.993-.556 1.435c-.333.33-.888.551-1.444.551s-1-.22-1.444-.551c-.334-.332-.556-.883-.556-1.435zM43.556 56.424c-.333-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.424 0 .548-.222.987-.555 1.425-.333.438-.889.548-1.445.548-.555.11-1-.11-1.444-.548M38.6 61.424c-.4-.329-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.438-.9.548-1.4.548-.5.11-1-.11-1.4-.548M33.556 66.448c-.333-.331-.556-.883-.556-1.435s.223-1.103.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.434s-.222.994-.555 1.435C36 66.889 35.556 67 35 67s-1-.221-1.444-.552M27.556 71.448c-.444-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222 1.103-.555 1.434C30 71.889 29.556 72 29 72s-1.112-.11-1.445-.552M22.615 76.448c-.41-.331-.615-.883-.615-1.435s.205-.993.615-1.434c.82-.772 2.051-.772 2.77 0 .41.441.615.883.615 1.435s-.206 1.103-.616 1.434c-.41.331-.923.552-1.436.552-.513 0-1.025-.11-1.333-.552M17.556 82.424c-.444-.438-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.425 0 .547-.222.986-.555 1.424-.333.329-.889.548-1.444.548-.445.11-1-.11-1.445-.548M20.444 19.424c.333-.438.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.444.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.333.329.889.548 1.444.548.556.11 1.112-.11 1.445-.548M25.4 24.448c.4-.441.6-.883.6-1.435s-.2-.993-.6-1.434c-.8-.772-2-.772-2.8 0-.4.441-.6.883-.6 1.435s.2.993.6 1.434c.4.331.9.552 1.4.552s1-.221 1.4-.552M30.444 30.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222.993.555 1.434C28 30.889 28.444 31 29 31c.445 0 1-.221 1.445-.552M36.444 35.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222 1.103.555 1.434C34 35.889 34.444 36 35 36c.444 0 1-.11 1.444-.552M41.385 40.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.718-.767-2.051-.767-2.77 0-.41.329-.615.877-.615 1.424 0 .548.206 1.096.616 1.425.41.438.923.548 1.436.548.513.11 1.025-.11 1.333-.548M47 44.014c0-.552-.222-.993-.556-1.435-.777-.772-2.11-.772-2.888 0-.445.442-.556.883-.556 1.435s.222.993.556 1.435c.333.33.888.551 1.444.551s1-.22 1.444-.551c.445-.332.556-.883.556-1.435zM51.444 51.448c.444-.441.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222.993.555 1.434c.333.331.889.552 1.445.552s1.11-.221 1.444-.552M56.385 56.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.424 0 .548.206.987.616 1.425.41.438.923.548 1.436.548.41.11.923-.11 1.333-.548M62.444 61.424c.333-.329.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.333.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.445.438.889.548 1.445.548.444.11 1-.11 1.444-.548M67.444 66.448c.333-.331.556-.883.556-1.435s-.223-1.103-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.434s.222.994.555 1.435C65 66.889 65.444 67 66 67s1-.221 1.445-.552M72.444 71.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.441-.555.883-.555 1.435s.222 1.103.555 1.434C70 71.889 70.444 72 71 72s1.112-.11 1.445-.552M77.444 76.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222 1.103.555 1.434c.333.331.889.552 1.444.552s1.112-.11 1.445-.552M82.385 82.424c.41-.438.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.425 0 .547.206.986.616 1.424.41.329.923.548 1.436.548.41.11.923-.11 1.333-.548M33.036 21c5.265-3.433 11.036-5.048 17.414-5.149 6.277 0 12.048 1.716 17.414 5.149L79.001 9.894C70.294 3.331 60.878 0 50.45 0 40.022 0 30.505 3.332 22.001 9.894L33.037 21zM21 66.742c-3.585-5.375-5.327-11.157-5.327-17.343 0-6.288 1.742-12.069 5.327-17.343L9.834 21.001C3.278 29.521 0 38.953 0 49.501c0 10.345 3.278 19.879 9.937 28.5L21 66.743zM67.964 78c-5.265 3.533-11.036 5.35-17.313 5.451-6.378 0-12.25-1.716-17.515-5.35L21.999 89.105c8.606 6.663 18.123 9.994 28.652 9.893 10.428-.1 19.844-3.432 28.348-9.893L67.963 78zM79 32.258c3.533 5.375 5.35 11.258 5.25 17.648-.102 6.187-1.818 11.867-5.25 17.039L90.105 78c6.562-8.52 9.893-17.952 9.893-28.297.101-10.548-3.23-20.082-9.893-28.703L79 32.258zM90 81c4.364 0 8 3.533 8 8 0 4.364-3.533 8-8 8-4.364 0-8-3.533-8-8s3.533-8 8-8M10 81c4.421 0 8 3.533 8 8 0 4.364-3.579 8-8 8-4.421 0-8-3.533-8-8s3.579-8 8-8M90 1c4.421 0 8 3.533 8 8 0 4.468-3.579 8-8 8s-8-3.533-8-8c0-4.468 3.579-8 8-8M10 1c4.364 0 8 3.579 8 8 0 4.421-3.533 8-8 8-4.364 0-8-3.579-8-8 0-4.421 3.533-8 8-8\"\n  }))));\n}\n\nvar Simple = function Simple(_ref) {\n  var children = _ref.children;\n  return createElement(\"div\", {\n    className: 'token-symbol'\n  }, children);\n};\n\nvar Combined = function Combined(_ref2) {\n  var small = _ref2.small,\n      children = _ref2.children;\n  return createElement(\"div\", {\n    className: \"token-symbol-combined \" + (small ? 'small' : '')\n  }, children);\n};\n\nvar getIdentifierWithoutNonce = function getIdentifierWithoutNonce(identifier) {\n  var tokenParts = identifier.split('-');\n  return identifier.includes('-') ? tokenParts[0] + \"-\" + tokenParts[1] : identifier;\n};\n\nvar getDetails = function getDetails(token) {\n  var egldLabel = getEgldLabel();\n  var isEgldTransfer = token === egldLabel;\n  return {\n    token: token,\n    symbol: token ? token.split('-')[0] : '',\n    label: token,\n    icon: function icon() {\n      return isEgldTransfer ? createElement(SvgEgld, null) : createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        icon: icons.faGem\n      });\n    }\n  };\n};\n\nvar TokenDetails = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TokenDetails, _React$Component);\n\n  function TokenDetails() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TokenDetails.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return TokenDetails;\n}(Component);\n\nTokenDetails.Token = function (props) {\n  return createElement(Fragment, null, props.token);\n};\n\nTokenDetails.Symbol = function (props) {\n  return createElement(Fragment, null, getDetails(getIdentifierWithoutNonce(props.token)).symbol);\n};\n\nTokenDetails.Label = function (props) {\n  return createElement(Fragment, null, getDetails(getIdentifierWithoutNonce(props.token)).label);\n};\n\nTokenDetails.Icon = function (props) {\n  var Component = process.env.NODE_ENV !== 'test' ? getDetails(getIdentifierWithoutNonce(props.token)).icon : function () {\n    return null;\n  };\n  return createElement(\"span\", {\n    className: wrapperClassName\n  }, props.combined ? createElement(Combined, {\n    small: props.small\n  }, createElement(Component, null)) : createElement(Simple, null, createElement(Component, null)));\n};\n\nvar allOccurences = function allOccurences(sourceStr, searchStr) {\n  return [].concat(sourceStr.matchAll(new RegExp(searchStr, 'gi'))).map(function (a) {\n    return a.index;\n  });\n};\n\nvar TransactionData = function TransactionData(_ref) {\n  var data = _ref.data,\n      highlight = _ref.highlight,\n      isScCall = _ref.isScCall;\n  var output = createElement(Fragment, null, data);\n\n  var _ref2 = highlight && isScCall ? highlight.split('@') : [],\n      encodedScCall = _ref2[0],\n      remainingDataFields = _ref2.slice(1);\n\n  if (data && highlight && allOccurences(data, highlight).length === 1) {\n    switch (true) {\n      case data.startsWith(highlight):\n        {\n          var _data$split = data.split(highlight),\n              rest = _data$split[1];\n\n          output = createElement(Fragment, null, highlight, createElement(\"span\", {\n            className: 'text-muted'\n          }, rest));\n          break;\n        }\n\n      case data.endsWith(highlight):\n        {\n          var _data$split2 = data.split(highlight),\n              _rest = _data$split2[0];\n\n          output = createElement(Fragment, null, createElement(\"span\", {\n            className: 'text-muted'\n          }, _rest), highlight);\n          break;\n        }\n\n      default:\n        {\n          var _data$split3 = data.split(highlight),\n              start = _data$split3[0],\n              end = _data$split3[1];\n\n          output = createElement(Fragment, null, createElement(\"span\", {\n            className: 'text-muted'\n          }, start), createElement(\"span\", {\n            className: 'highlighted'\n          }, highlight), createElement(\"span\", {\n            className: 'text-muted'\n          }, end));\n          break;\n        }\n    }\n  }\n\n  return createElement(Fragment, null, encodedScCall && createElement(\"div\", {\n    className: 'form-group mb-0 data-field mw-100'\n  }, createElement(\"span\", {\n    className: 'form-label text-secondary d-block'\n  }, \"SC Call\"), createElement(\"div\", {\n    \"data-testid\": 'confirmScCall',\n    className: 'textarea sc-call form-control cursor-text mt-1 text-break-all'\n  }, [decodePart(encodedScCall)].concat(remainingDataFields).join('@'))), createElement(\"div\", {\n    className: 'form-group mb-0 data-field mw-100'\n  }, createElement(\"span\", {\n    className: 'form-label text-secondary d-block'\n  }, \"Data\"), createElement(\"div\", {\n    \"data-testid\": 'confirmData',\n    className: 'textarea form-control cursor-text mt-1 text-break-all'\n  }, data ? output : 'N/A')));\n};\n\nvar TransactionData$1 = withClassNameWrapper(TransactionData);\n\nvar SignStep = function SignStep(_ref) {\n  var onSignTransaction = _ref.onSignTransaction,\n      handleClose = _ref.handleClose,\n      onPrev = _ref.onPrev,\n      waitingForDevice = _ref.waitingForDevice,\n      currentTransaction = _ref.currentTransaction,\n      error = _ref.error,\n      isLastTransaction = _ref.isLastTransaction,\n      currentStep = _ref.currentStep,\n      className = _ref.className;\n  var egldLabel = getEgldLabel();\n  var transactionData = currentTransaction.transaction.getData().toString();\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      network = _useGetNetworkConfig.network;\n\n  var _currentTransaction$t = currentTransaction.transactionTokenInfo,\n      tokenId = _currentTransaction$t.tokenId,\n      amount = _currentTransaction$t.amount,\n      type = _currentTransaction$t.type,\n      multiTxData = _currentTransaction$t.multiTxData,\n      receiver = _currentTransaction$t.receiver;\n  var isTokenTransaction = Boolean(tokenId && isTokenTransfer({\n    tokenId: tokenId,\n    erdLabel: egldLabel\n  }));\n\n  var onCloseClick = function onCloseClick(e) {\n    e.preventDefault();\n\n    if (isFirst) {\n      handleClose();\n    } else {\n      onPrev();\n    }\n  };\n\n  var continueWithoutSigning = type && multiTxData && !transactionData.endsWith(multiTxData);\n  var signBtnLabel = 'Sign & Continue';\n  signBtnLabel = waitingForDevice ? 'Check your Ledger' : signBtnLabel;\n  signBtnLabel = isLastTransaction && !waitingForDevice ? 'Sign & Submit' : signBtnLabel;\n  signBtnLabel = continueWithoutSigning ? 'Continue' : signBtnLabel;\n  var isFirst = currentStep === 0;\n\n  var _useGetTokenDetails = useGetTokenDetails({\n    tokenId: currentTransaction.transactionTokenInfo.tokenId\n  }),\n      tokenDenomination = _useGetTokenDetails.tokenDenomination;\n\n  var denominatedAmount = denominate({\n    input: isTokenTransaction ? amount : currentTransaction.transaction.getValue().toString(),\n    denomination: isTokenTransaction ? tokenDenomination : Number(network.egldDenomination),\n    decimals: Number(network.decimals),\n    showLastNonZeroDecimal: false,\n    addCommas: true\n  });\n  var classes = getGeneratedClasses(className, true, {\n    formGroup: 'form-group text-left',\n    formLabel: 'form-label text-secondary',\n    icon: 'text-white',\n    contentWrapper: 'd-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3',\n    tokenWrapper: 'mb-3 mb-md-0 d-flex flex-column align-items-start',\n    tokenLabel: 'text-secondary text-left',\n    tokenValue: 'd-flex align-items-center mt-1',\n    tokenAmountLabel: 'text-secondary text-left',\n    tokenAmountValue: 'd-flex align-items-center',\n    dataFormGroup: 'form-group text-left',\n    errorMessage: 'text-danger d-flex justify-content-center align-items-center',\n    buttonsWrapper: 'd-flex align-items-center justify-content-end mt-spacer',\n    cancelButton: 'btn btn-dark text-white flex-even mr-2',\n    signButton: 'btn btn-primary flex-even ml-2'\n  });\n  return React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    className: className,\n    title: 'Confirm on Ledger',\n    description: React__default.createElement(React__default.Fragment, null, currentTransaction.transaction && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n      className: classes.formGroup,\n      \"data-testid\": 'transactionTitle'\n    }, React__default.createElement(\"div\", {\n      className: classes.formLabel\n    }, \"To: \"), multiTxData ? new Address$1(receiver).bech32() : currentTransaction.transaction.getReceiver().toString()), React__default.createElement(\"div\", {\n      className: classes.contentWrapper\n    }, React__default.createElement(\"div\", {\n      className: classes.tokenWrapper\n    }, React__default.createElement(\"div\", {\n      className: classes.tokenlabel\n    }, \"Token\"), React__default.createElement(\"div\", {\n      className: classes.tokenValue\n    }, React__default.createElement(TokenDetails.Icon, {\n      token: tokenId || egldLabel\n    }), React__default.createElement(\"div\", {\n      className: 'mr-1'\n    }), React__default.createElement(TokenDetails.Label, {\n      token: tokenId || egldLabel\n    }))), React__default.createElement(\"div\", null, React__default.createElement(\"div\", {\n      className: classes.tokenAmountLabel\n    }, \"Amount\"), React__default.createElement(\"div\", {\n      className: classes.tokenAmountValue\n    }, React__default.createElement(\"div\", {\n      className: 'mr-1'\n    }, denominatedAmount), React__default.createElement(TokenDetails.Symbol, {\n      token: tokenId || egldLabel\n    })))), React__default.createElement(\"div\", {\n      className: classes.dataFormGroup\n    }, currentTransaction.transaction.getData() && React__default.createElement(TransactionData$1, Object.assign({}, {\n      data: currentTransaction.transaction.getData().toString(),\n      highlight: multiTxData,\n      isScCall: !tokenId\n    }))), error && React__default.createElement(\"p\", {\n      className: classes.errorMessage\n    }, error))),\n    action: React__default.createElement(\"div\", {\n      className: classes.buttonsWrapper\n    }, React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: onCloseClick,\n      className: classes.cancelButton\n    }, isFirst ? 'Cancel' : 'Back'), React__default.createElement(\"button\", {\n      type: 'button',\n      className: classes.signButton,\n      id: 'signBtn',\n      \"data-testid\": 'signBtn',\n      onClick: onSignTransaction,\n      disabled: waitingForDevice\n    }, signBtnLabel))\n  });\n};\n\nvar SignWithLedgerModal = function SignWithLedgerModal(_ref) {\n  var handleClose = _ref.handleClose,\n      error = _ref.error,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-modal' : _ref$className;\n\n  var _useSignTransactionsW = useSignTransactionsWithLedger({\n    onCancel: handleClose\n  }),\n      onSignTransaction = _useSignTransactionsW.onSignTransaction,\n      onNext = _useSignTransactionsW.onNext,\n      onPrev = _useSignTransactionsW.onPrev,\n      allTransactions = _useSignTransactionsW.allTransactions,\n      waitingForDevice = _useSignTransactionsW.waitingForDevice,\n      onAbort = _useSignTransactionsW.onAbort,\n      isLastTransaction = _useSignTransactionsW.isLastTransaction,\n      currentStep = _useSignTransactionsW.currentStep,\n      callbackRoute = _useSignTransactionsW.callbackRoute,\n      currentTransaction = _useSignTransactionsW.currentTransaction;\n\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    container: 'card container',\n    cardBody: 'card-body'\n  });\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: currentTransaction != null,\n    backdrop: 'static',\n    onHide: handleClose,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: classes.container\n  }, React__default.createElement(\"div\", {\n    className: classes.cardBody\n  }, React__default.createElement(SignStep, Object.assign({}, {\n    onSignTransaction: onSignTransaction,\n    onNext: onNext,\n    onPrev: onPrev,\n    allTransactions: allTransactions,\n    waitingForDevice: waitingForDevice,\n    isLastTransaction: isLastTransaction,\n    currentStep: currentStep,\n    callbackRoute: callbackRoute,\n    currentTransaction: currentTransaction,\n    handleClose: onAbort,\n    className: className,\n    error: error\n  })))));\n};\n\nvar SignWithWalletConnectModal = function SignWithWalletConnectModal(_ref) {\n  var error = _ref.error,\n      handleClose = _ref.handleClose,\n      callbackRoute = _ref.callbackRoute,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallet-connect-modal' : _ref$className;\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  var hasMultipleTransactions = transactions && (transactions === null || transactions === void 0 ? void 0 : transactions.length) > 1;\n  var description = error ? error : \"Check your phone to sign the transaction\" + (hasMultipleTransactions ? 's' : '');\n\n  var close = function close(e) {\n    e.preventDefault();\n    handleClose();\n\n    if (callbackRoute != null && !window.location.pathname.includes(callbackRoute)) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: close,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    className: className,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    title: 'Confirm on Maiar',\n    description: description,\n    action: React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: close,\n      className: classes.closeBtn\n    }, \"Close\")\n  }));\n};\n\nfunction SignTransactionsModals(_ref) {\n  var _CustomConfirmScreens, _CustomConfirmScreens2, _CustomConfirmScreens3, _CustomConfirmScreens4;\n\n  var className = _ref.className,\n      CustomConfirmScreens = _ref.CustomConfirmScreens;\n\n  var _useSignTransactions = useSignTransactions(),\n      callbackRoute = _useSignTransactions.callbackRoute,\n      transactions = _useSignTransactions.transactions,\n      error = _useSignTransactions.error,\n      sessionId = _useSignTransactions.sessionId,\n      onAbort = _useSignTransactions.onAbort,\n      hasTransactions = _useSignTransactions.hasTransactions;\n\n  var _useGetAccountProvide = useGetAccountProvider(),\n      providerType = _useGetAccountProvide.providerType;\n\n  var signTransactionsError = useGetSignTransactionsError();\n\n  var handleClose = function handleClose() {\n    onAbort(sessionId);\n  };\n\n  var signError = error || signTransactionsError;\n  var signProps = {\n    handleClose: handleClose,\n    error: signError,\n    sessionId: sessionId,\n    transactions: transactions,\n    providerType: providerType,\n    callbackRoute: callbackRoute,\n    className: className\n  };\n  return signError || hasTransactions ? React__default.createElement(React__default.Fragment, null, getIsProviderEqualTo(LoginMethodsEnum.ledger) && ((CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens = CustomConfirmScreens.Ledger) === null || _CustomConfirmScreens === void 0 ? void 0 : _CustomConfirmScreens.call(CustomConfirmScreens, signProps)) || React__default.createElement(SignWithLedgerModal, Object.assign({}, signProps))), getIsProviderEqualTo(LoginMethodsEnum.walletconnect) && ((CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens2 = CustomConfirmScreens.WalletConnect) === null || _CustomConfirmScreens2 === void 0 ? void 0 : _CustomConfirmScreens2.call(CustomConfirmScreens, signProps)) || React__default.createElement(SignWithWalletConnectModal, Object.assign({}, signProps))), getIsProviderEqualTo(LoginMethodsEnum.extension) && ((CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens3 = CustomConfirmScreens.Extension) === null || _CustomConfirmScreens3 === void 0 ? void 0 : _CustomConfirmScreens3.call(CustomConfirmScreens, signProps)) || React__default.createElement(SignWithExtensionModal, Object.assign({}, signProps))), getIsProviderEqualTo(LoginMethodsEnum.extra) && (CustomConfirmScreens === null || CustomConfirmScreens === void 0 ? void 0 : (_CustomConfirmScreens4 = CustomConfirmScreens.Extra) === null || _CustomConfirmScreens4 === void 0 ? void 0 : _CustomConfirmScreens4.call(CustomConfirmScreens, signProps))) : null;\n}\n\nvar index$3 = withClassNameWrapper(SignTransactionsModals);\nvar SessionStorageKeysEnum;\n\n(function (SessionStorageKeysEnum) {\n  SessionStorageKeysEnum[\"toasts\"] = \"toasts\";\n})(SessionStorageKeysEnum || (SessionStorageKeysEnum = {}));\n\nfunction setToastsIdsToStorage(ids) {\n  return sessionStorage.setItem(SessionStorageKeysEnum.toasts, JSON.stringify(ids));\n}\n\nfunction getToastsIdsFromStorage() {\n  var toastsIds = sessionStorage.getItem(SessionStorageKeysEnum.toasts);\n  return toastsIds != null ? JSON.parse(toastsIds) : [];\n}\n\nfunction isCrossShardTransaction(_ref) {\n  var receiverAddress = _ref.receiverAddress,\n      senderShard = _ref.senderShard,\n      senderAddress = _ref.senderAddress;\n\n  try {\n    var receiver = new Address$1(receiverAddress);\n    var receiverShard = getShardOfAddress(receiver.pubkey());\n\n    if (senderShard == null && senderAddress != null) {\n      var sender = new Address$1(senderAddress);\n      return getShardOfAddress(sender) === receiverShard;\n    }\n\n    return receiverShard === senderShard;\n  } catch (err) {\n    return false;\n  }\n}\n\nvar IconState = function IconState(_ref) {\n  var icon = _ref.icon,\n      _ref$iconSize = _ref.iconSize,\n      iconSize = _ref$iconSize === void 0 ? '3x' : _ref$iconSize,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'icon-state' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: classnames$1('icon-state mx-auto', className, {\n      half: iconSize === '2x'\n    }),\n    icon: classnames$1('text-white', className)\n  });\n  return React__default.createElement(\"span\", {\n    className: generatedClasses.wrapper\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icon,\n    size: iconSize,\n    className: generatedClasses.icon\n  }));\n};\n\nvar IconState$1 = withClassNameWrapper(IconState);\n\nvar Progress = function Progress(_ref) {\n  var id = _ref.id,\n      children = _ref.children,\n      progress = _ref.progress,\n      done = _ref.done;\n  var ref = React__default.useRef(null);\n  var intervalRef = React__default.useRef();\n\n  var removeTxFromSession = function removeTxFromSession() {\n    var toastProgress = storage.getItem('toastProgress');\n    var hasSessionStoredTx = Boolean(toastProgress[id]);\n\n    if (!hasSessionStoredTx) {\n      return;\n    }\n\n    var expires = moment$1().add(10, 'minutes').unix();\n    delete toastProgress[id];\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: expires\n    });\n  };\n\n  var saveToSession = function saveToSession(_ref2) {\n    var value = _ref2.value;\n    var toastProgress = storage.getItem('toastProgress') || {};\n    toastProgress[id] = value;\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: moment$1().add(10, 'minutes').unix()\n    });\n  };\n\n  var getInitialData = function getInitialData() {\n    var totalSeconds = progress ? progress.endTime - progress.startTime : 0;\n    var toastProgress = storage.getItem('toastProgress');\n    var remaining = progress ? (progress.endTime - moment$1().unix()) * 100 / totalSeconds : 0;\n    var currentRemaining = toastProgress && id in toastProgress ? toastProgress[id] : remaining;\n    return {\n      currentRemaining: currentRemaining,\n      totalSeconds: totalSeconds\n    };\n  };\n\n  var _getInitialData = getInitialData(),\n      totalSeconds = _getInitialData.totalSeconds,\n      currentRemaining = _getInitialData.currentRemaining;\n\n  var _React$useState = React__default.useState(currentRemaining),\n      percentRemaining = _React$useState[0],\n      setPercentRemaining = _React$useState[1];\n\n  React__default.useEffect(function () {\n    if (progress) {\n      var maxPercent = 90;\n      var perc = totalSeconds / maxPercent;\n\n      var _int = moment$1.duration(perc.toFixed(2), 's').asMilliseconds();\n\n      if (done) {\n        intervalRef.current = setInterval(function () {\n          if (ref.current !== null) {\n            setPercentRemaining(function (existing) {\n              var value = existing - 1;\n\n              if (value <= 0) {\n                clearInterval(intervalRef.current);\n                removeTxFromSession();\n                return 0;\n              } else {\n                saveToSession({\n                  value: value\n                });\n                return value;\n              }\n            });\n          }\n        }, 5);\n      } else {\n        intervalRef.current = setInterval(function () {\n          if (ref.current !== null) {\n            setPercentRemaining(function (existing) {\n              var decrement = existing > 100 - maxPercent ? 1 : logarithmicRest(existing);\n              var value = existing - decrement;\n              saveToSession({\n                value: value\n              });\n              return value;\n            });\n          }\n        }, _int);\n      }\n\n      return function () {\n        clearInterval(intervalRef.current);\n      };\n    }\n\n    return;\n  }, [progress, done]);\n  return progress ? React__default.createElement(\"div\", {\n    className: 'progress position-relative',\n    ref: ref\n  }, React__default.createElement(\"div\", {\n    className: 'progress-bar',\n    role: 'progressbar',\n    style: {\n      width: percentRemaining + \"%\"\n    },\n    \"aria-valuenow\": percentRemaining,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100\n  }, React__default.createElement(\"div\", {\n    className: 'content-height'\n  }, children)), React__default.createElement(\"div\", {\n    className: 'd-flex position-absolute w-100'\n  }, children)) : React__default.createElement(React__default.Fragment, null, children);\n};\n\nvar Progress$1 = withClassNameWrapper(Progress);\n\nfunction fallbackCopyTextToClipboard(text) {\n  var success = false;\n  var textArea = document.createElement('textarea');\n  textArea.value = text;\n  textArea.style.position = 'fixed';\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n    success = true;\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n  return success;\n}\n\nvar copyTextToClipboard = function copyTextToClipboard(text) {\n  try {\n    var success = false;\n\n    var _temp = function () {\n      if (!navigator.clipboard) {\n        success = fallbackCopyTextToClipboard(text);\n      } else {\n        return Promise.resolve(navigator.clipboard.writeText(text).then(function done() {\n          return true;\n        }, function error(err) {\n          console.error('Async: Could not copy text: ', err);\n          return false;\n        })).then(function (_navigator$clipboard$) {\n          success = _navigator$clipboard$;\n        });\n      }\n    }();\n\n    return Promise.resolve(_temp && _temp.then ? _temp.then(function () {\n      return success;\n    }) : success);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar CopyButton = function CopyButton(_ref) {\n  var text = _ref.text,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className;\n\n  var _React$useState = React__default.useState({\n    \"default\": true,\n    success: false\n  }),\n      copyResult = _React$useState[0],\n      setCopyResut = _React$useState[1];\n\n  var handleCopyToClipboard = function handleCopyToClipboard(e) {\n    try {\n      e.preventDefault();\n      e.stopPropagation();\n      var noSpaces = text ? text.trim() : text;\n      return Promise.resolve(copyTextToClipboard(noSpaces)).then(function (_copyTextToClipboard) {\n        setCopyResut({\n          \"default\": false,\n          success: _copyTextToClipboard\n        });\n        setTimeout(function () {\n          setCopyResut({\n            \"default\": true,\n            success: false\n          });\n        }, 1000);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return React__default.createElement(\"a\", {\n    href: '/#',\n    onClick: handleCopyToClipboard,\n    className: \"side-action text-secondary \" + className\n  }, copyResult[\"default\"] || !copyResult.success ? React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faCopy\n  }) : React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faCheck,\n    className: 'text-primary-highlight'\n  }));\n};\n\nvar CopyButton$1 = withClassNameWrapper(CopyButton);\n\nvar Trim = function Trim(_ref) {\n  var text = _ref.text,\n      _ref$dataTestId = _ref.dataTestId,\n      dataTestId = _ref$dataTestId === void 0 ? '' : _ref$dataTestId;\n\n  var _React$useState = React__default.useState(false),\n      overflow = _React$useState[0],\n      setOverflow = _React$useState[1];\n\n  var trimRef = React__default.useRef(document.createElement('span'));\n  var hiddenTextRef = React__default.useRef(document.createElement('span'));\n  var listener = useCallback(debounce(function () {\n    if (trimRef.current && hiddenTextRef.current) {\n      var diff = hiddenTextRef.current.offsetWidth - trimRef.current.offsetWidth;\n      setOverflow(diff > 1);\n    }\n  }, 300), []);\n\n  var addWindowResizeListener = function addWindowResizeListener() {\n    window.addEventListener('resize', listener);\n    return function () {\n      window.removeEventListener('resize', listener);\n    };\n  };\n\n  React__default.useEffect(addWindowResizeListener);\n  React__default.useEffect(function () {\n    listener();\n  }, []);\n  return React__default.createElement(\"span\", {\n    ref: trimRef,\n    className: \"trim \" + (overflow ? 'overflow' : ''),\n    \"data-testid\": dataTestId\n  }, React__default.createElement(\"span\", {\n    ref: hiddenTextRef,\n    className: 'hidden-text-ref'\n  }, text), overflow ? React__default.createElement(React__default.Fragment, null, React__default.createElement(\"span\", {\n    className: 'left'\n  }, React__default.createElement(\"span\", null, String(text).substring(0, Math.floor(text.length / 2)))), React__default.createElement(\"span\", {\n    className: 'ellipsis'\n  }, \"...\"), React__default.createElement(\"span\", {\n    className: 'right'\n  }, React__default.createElement(\"span\", null, String(text).substring(Math.ceil(text.length / 2))))) : React__default.createElement(\"span\", null, text));\n};\n\nvar Trim$1 = withClassNameWrapper(Trim);\n\nvar TxDetails = function TxDetails(_ref) {\n  var title = _ref.title,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'tx-details' : _ref$className,\n      _ref$isTimedOut = _ref.isTimedOut,\n      isTimedOut = _ref$isTimedOut === void 0 ? false : _ref$isTimedOut,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    title: 'mb-0',\n    statusTransactions: 'mb-2 mt-1',\n    iconSuccess: 'mr-1 text-secondary',\n    iconFailed: 'mr-1 text-secondary',\n    trimContainer: 'text-nowrap trim-fs-sm mr-3',\n    iconPending: 'mr-1 text-secondary fa-spin slow-spin',\n    item: 'tx-description d-flex justify-content-start align-items-center'\n  });\n  var iconSuccessData = {\n    icon: icons.faCheck,\n    classNames: generatedClasses.iconSuccess\n  };\n  var iconFailedData = {\n    icon: icons.faTimes,\n    classNames: generatedClasses.iconSuccess\n  };\n  var iconPendingData = {\n    icon: icons.faSpinner,\n    classNames: generatedClasses.iconPending\n  };\n  var iconData = {\n    pending: iconPendingData,\n    success: iconSuccessData,\n    completed: iconSuccessData,\n    fail: iconFailedData,\n    invalid: iconFailedData,\n    timedOut: iconFailedData\n  };\n  return React__default.createElement(React__default.Fragment, null, title && React__default.createElement(\"div\", {\n    className: generatedClasses.title\n  }, title), React__default.createElement(\"div\", {\n    className: generatedClasses.statusTransactions\n  }, transactions.filter(function (tx) {\n    return !isServerTransactionPending(tx.status);\n  }).length, ' ', \"/ \", transactions.length, \" transactions processed\"), transactions.map(function (_ref2) {\n    var hash = _ref2.hash,\n        status = _ref2.status;\n    var iconSrc = iconData[status];\n    return React__default.createElement(\"div\", {\n      className: generatedClasses.item,\n      key: hash\n    }, !isTimedOut && iconSrc != null && React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n      icon: iconSrc.icon,\n      className: iconSrc.classNames\n    }), React__default.createElement(\"span\", {\n      className: generatedClasses.trimContainer,\n      style: {\n        width: '10rem'\n      }\n    }, React__default.createElement(Trim$1, {\n      text: hash\n    })), React__default.createElement(CopyButton$1, {\n      text: hash\n    }), !isServerTransactionPending(status) && React__default.createElement(ExplorerLink$1, {\n      page: \"/transactions/\" + hash,\n      className: 'ml-2'\n    }));\n  }));\n};\n\nvar TxDetails$1 = withClassNameWrapper(TxDetails);\nvar averageTxDurationMs = 6000;\nvar crossShardRounds = 5;\n\nvar TransactionToast = function TransactionToast(_ref) {\n  var toastId = _ref.toastId,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '' : _ref$title,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'transaction-toast' : _ref$className,\n      _ref$withTxNonce = _ref.withTxNonce,\n      withTxNonce = _ref$withTxNonce === void 0 ? false : _ref$withTxNonce,\n      transactions = _ref.transactions,\n      status = _ref.status,\n      onClose = _ref.onClose;\n  var ref = useRef(null);\n\n  var _useState = useState(true),\n      shouldRender = _useState[0],\n      setShouldRender = _useState[1];\n\n  var transactionDisplayInfo = useGetTransactionDisplayInfo(toastId);\n  var accountShard = useSelector(shardSelector);\n  var _transactionDisplayIn = transactionDisplayInfo.errorMessage,\n      errorMessage = _transactionDisplayIn === void 0 ? 'Transaction failed' : _transactionDisplayIn,\n      _transactionDisplayIn2 = transactionDisplayInfo.timedOutMessage,\n      timedOutMessage = _transactionDisplayIn2 === void 0 ? 'Transaction timed out' : _transactionDisplayIn2,\n      _transactionDisplayIn3 = transactionDisplayInfo.successMessage,\n      successMessage = _transactionDisplayIn3 === void 0 ? 'Transaction successful' : _transactionDisplayIn3,\n      _transactionDisplayIn4 = transactionDisplayInfo.processingMessage,\n      processingMessage = _transactionDisplayIn4 === void 0 ? 'Processing transaction' : _transactionDisplayIn4;\n  var isSameShard = useMemo(function () {\n    return transactions.reduce(function (prevTxIsSameShard, _ref2) {\n      var receiver = _ref2.receiver,\n          data = _ref2.data;\n      var receiverAddress = getAddressFromDataField({\n        receiver: receiver,\n        data: data\n      });\n\n      if (receiverAddress == null) {\n        return prevTxIsSameShard;\n      }\n\n      return prevTxIsSameShard && isCrossShardTransaction({\n        receiverAddress: receiverAddress,\n        senderShard: accountShard\n      });\n    }, true);\n  }, [transactions, accountShard]);\n  var shardAdjustedDuration = isSameShard ? averageTxDurationMs : crossShardRounds * averageTxDurationMs;\n  var transactionDuration = (transactionDisplayInfo === null || transactionDisplayInfo === void 0 ? void 0 : transactionDisplayInfo.transactionDuration) || shardAdjustedDuration;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    toastFooter: 'mb-0 text-break',\n    details: 'media-body flex-grow-1',\n    toastContainer: 'w-100 media p-2',\n    wrapper: 'toast-visible clickable',\n    toastHeader: 'd-flex justify-content-between mb-1',\n    iconContainer: 'align-self-center ml-2 mr-2 pr-1',\n    title: 'm-0 font-weight-normal text-nowrap text-truncate',\n    closeButton: 'close d-flex side-action align-items-center mx-2 outline-0'\n  });\n\n  var _useMemo = useMemo(function () {\n    var startTime = moment$1().unix();\n    var endTime = moment$1().add(Number(transactionDuration), 'milliseconds').unix();\n    return [startTime, endTime];\n  }, []),\n      startTime = _useMemo[0],\n      endTime = _useMemo[1];\n\n  var progress = {\n    startTime: startTime,\n    endTime: endTime\n  };\n  var successToastData = {\n    id: toastId,\n    icon: icons.faCheck,\n    expires: 30000,\n    hasCloseButton: true,\n    title: successMessage,\n    iconClassName: 'bg-success'\n  };\n  var pendingToastData = {\n    id: toastId,\n    expires: false,\n    icon: icons.faHourglass,\n    hasCloseButton: false,\n    title: processingMessage,\n    iconClassName: 'bg-warning'\n  };\n  var failToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: errorMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-danger'\n  };\n  var timedOutToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: timedOutMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-warning'\n  };\n  var isPending = getIsTransactionPending(status);\n  var isTimedOut = getIsTransactionTimedOut(status);\n  var toatsOptionsData = {\n    signed: pendingToastData,\n    sent: pendingToastData,\n    pending: pendingToastData,\n    success: successToastData,\n    completed: successToastData,\n    cancelled: failToastData,\n    fail: failToastData,\n    timedOut: timedOutToastData\n  };\n  var toastDataState = toatsOptionsData[status];\n\n  var handleDeleteToast = function handleDeleteToast() {\n    setShouldRender(false);\n    onClose === null || onClose === void 0 ? void 0 : onClose(toastId);\n  };\n\n  if (!shouldRender || transactions == null) {\n    return null;\n  }\n\n  return React__default.createElement(ReactBootstrap$1.Toast, {\n    ref: ref,\n    className: generatedClasses.wrapper,\n    key: toastId\n  }, React__default.createElement(Progress$1, {\n    key: toastId,\n    id: toastId,\n    progress: progress,\n    done: !isPending || isTimedOut\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.toastContainer\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.iconContainer\n  }, React__default.createElement(IconState$1, {\n    iconSize: '2x',\n    icon: toastDataState.icon,\n    className: toastDataState.iconClassName\n  }), withTxNonce && transactions.map(function (tx) {\n    return React__default.createElement(\"p\", {\n      key: tx.nonce.valueOf()\n    }, tx.nonce.valueOf());\n  })), React__default.createElement(\"div\", {\n    className: generatedClasses.details,\n    style: {\n      minWidth: 0\n    }\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.toastHeader\n  }, React__default.createElement(\"h5\", {\n    className: generatedClasses.title\n  }, toastDataState.title), !isPending && React__default.createElement(\"button\", {\n    type: 'button',\n    className: generatedClasses.closeButton,\n    onClick: handleDeleteToast\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faTimes,\n    size: 'xs'\n  }))), React__default.createElement(\"div\", {\n    className: generatedClasses.toastFooter\n  }, React__default.createElement(TxDetails$1, {\n    transactions: transactions,\n    title: title,\n    isTimedOut: isTimedOut\n  }))))));\n};\n\nvar TransactionToast$1 = withClassNameWrapper(TransactionToast);\n\nfunction TransactionsToastList(_ref) {\n  var _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$withTxNonce = _ref.withTxNonce,\n      withTxNonce = _ref$withTxNonce === void 0 ? false : _ref$withTxNonce,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'transactions-toast-list' : _ref$className,\n      pendingTransactions = _ref.pendingTransactions,\n      signedTransactions = _ref.signedTransactions;\n\n  var _useState = useState([]),\n      toastsIds = _useState[0],\n      setToastsIds = _useState[1];\n\n  var pendingTransactionsFromStore = useGetPendingTransactions().pendingTransactions;\n  var signedTransactionsFromStore = useGetSignedTransactions();\n  var pendingTransactionsToRender = pendingTransactions || pendingTransactionsFromStore;\n  var signedTransactionsToRender = signedTransactions || signedTransactionsFromStore;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'toast-messages d-flex flex-column align-items-center justify-content-sm-end',\n    toast: ''\n  });\n  var mappedToastsList = toastsIds === null || toastsIds === void 0 ? void 0 : toastsIds.map(function (toastId) {\n    var currentTx = signedTransactionsToRender[toastId];\n\n    if (currentTx == null || (currentTx === null || currentTx === void 0 ? void 0 : currentTx.transactions) == null || (currentTx === null || currentTx === void 0 ? void 0 : currentTx.status) == null) {\n      return null;\n    }\n\n    var transactions = currentTx.transactions,\n        status = currentTx.status;\n    return React__default.createElement(TransactionToast$1, {\n      className: className,\n      key: toastId,\n      transactions: transactions,\n      status: status,\n      toastId: toastId,\n      withTxNonce: withTxNonce\n    });\n  });\n\n  var mapPendingSignedTransactions = function mapPendingSignedTransactions() {\n    var newToasts = [].concat(toastsIds);\n\n    for (var sessionId in pendingTransactionsToRender) {\n      var hasToast = toastsIds.includes(sessionId);\n\n      if (!hasToast) {\n        newToasts.push(sessionId);\n      }\n    }\n\n    setToastsIds(newToasts);\n  };\n\n  var fetchSessionStorageToasts = function fetchSessionStorageToasts() {\n    var sessionStorageToastsIds = getToastsIdsFromStorage();\n\n    if (sessionStorageToastsIds) {\n      var newToasts = [].concat(toastsIds, sessionStorageToastsIds);\n      setToastsIds(newToasts);\n    }\n  };\n\n  var saveSessionStorageToasts = function saveSessionStorageToasts() {\n    var shouldSaveLocalToasts = Boolean(toastsIds.length);\n\n    if (!shouldSaveLocalToasts) {\n      return;\n    }\n\n    setToastsIdsToStorage(toastsIds);\n  };\n\n  useEffect(function () {\n    fetchSessionStorageToasts();\n    return function () {\n      saveSessionStorageToasts();\n    };\n  }, []);\n  useEffect(function () {\n    mapPendingSignedTransactions();\n  }, [pendingTransactionsToRender]);\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper\n  }, mappedToastsList);\n}\n\nvar index$4 = withClassNameWrapper(TransactionsToastList);\nvar platform = {};\n\ntry {\n  platform = require('platform');\n} catch (err) {}\n\nvar platform$1 = platform;\nvar qrcode = {};\n\ntry {\n  qrcode = require('qrcode');\n} catch (err) {}\n\nvar QRCode = qrcode;\n\nvar _defs$1, _style, _g$2;\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nfunction SvgLightning(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 44,\n    height: 60\n  }, props), _defs$1 || (_defs$1 = /*#__PURE__*/createElement(\"defs\", null, /*#__PURE__*/createElement(\"image\", {\n    width: 22,\n    height: 30,\n    id: \"lightning_svg__img1\",\n    href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAA6klEQVRIibXWURHCMBBFUSRUAhLqgEpAQh1QB1RCHVAJOAAHxQE4IA4uH2yYTCbQafexAk5eNpu0m80fCtiqwRqYgF6J9ryrVYExZQAaFRpTBqBWgDElwA2olCkBzm40SwkwqlP6T76QMijQPKXv5Asp48lvPWhHuS6rUYN/1R04AQdgtxTe22yGmUU+OwGOixayXrfAYD2eq2lph9LFGttRqR6r4QTPa8Rzta09zwSUXJgc9c32F3RwgYa22dYbNep/ewto5wYNjW/GDcW3zNBRMpsFNAB7CZigV/dsJmCF+rfI4F4ym1m9AOPnYuevr8exAAAAAElFTkSuQmCC\"\n  }))), _style || (_style = /*#__PURE__*/createElement(\"style\", null)), _g$2 || (_g$2 = /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Elrond_Swap_Landing_Page_\\\\u2013_v2_2\"\n  }, /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Group_424\"\n  }, /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Group_421\"\n  }, /*#__PURE__*/createElement(\"use\", {\n    id: \"lightning_svg__\\\\u26A1\\\\uFE0F\",\n    href: \"#lightning_svg__img1\",\n    transform: \"scale(2)\"\n  }))))));\n}\n\nfunction WalletConnectLoginContainer(_ref) {\n  var _platform$os, _platform$os2;\n\n  var callbackRoute = _ref.callbackRoute,\n      loginButtonText = _ref.loginButtonText,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Maiar Login' : _ref$title,\n      _ref$logoutRoute = _ref.logoutRoute,\n      logoutRoute = _ref$logoutRoute === void 0 ? '/unlock' : _ref$logoutRoute,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallect-connect-login-modal' : _ref$className,\n      _ref$lead = _ref.lead,\n      lead = _ref$lead === void 0 ? 'Scan the QR code using Maiar' : _ref$lead,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      redirectAfterLogin = _ref.redirectAfterLogin,\n      token = _ref.token,\n      onClose = _ref.onClose;\n\n  var _useWalletConnectLogi = useWalletConnectLogin({\n    logoutRoute: logoutRoute,\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin,\n    shouldLoginUser: true\n  }),\n      initLoginWithWalletConnect = _useWalletConnectLogi[0],\n      error = _useWalletConnectLogi[1].error,\n      _useWalletConnectLogi2 = _useWalletConnectLogi[2],\n      uriDeepLink = _useWalletConnectLogi2.uriDeepLink,\n      walletConnectUri = _useWalletConnectLogi2.walletConnectUri;\n\n  var _useState = useState(''),\n      qrCodeSvg = _useState[0],\n      setQrCodeSvg = _useState[1];\n\n  var isMobileDevice = (platform$1 === null || platform$1 === void 0 ? void 0 : (_platform$os = platform$1.os) === null || _platform$os === void 0 ? void 0 : _platform$os.family) === 'iOS' || (platform$1 === null || platform$1 === void 0 ? void 0 : (_platform$os2 = platform$1.os) === null || _platform$os2 === void 0 ? void 0 : _platform$os2.family) === 'Android';\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'btn btn-primary px-sm-4 m-1 mx-sm-3',\n    loginText: 'text-left',\n    container: 'm-auto login-container',\n    card: 'card my-3 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    qrCodeSvgContainer: 'mx-auto mb-3',\n    title: 'mb-3',\n    leadText: 'lead mb-0',\n    mobileLoginButton: 'btn btn-primary px-4 mt-4',\n    errorMessage: 'text-danger d-flex justify-content-center align-items-center'\n  });\n\n  var generateQRCode = function generateQRCode() {\n    try {\n      if (!walletConnectUri) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve(QRCode.toString(walletConnectUri, {\n        type: 'svg'\n      })).then(function (svg) {\n        setQrCodeSvg(svg);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    generateQRCode();\n  }, [walletConnectUri]);\n  useEffect(function () {\n    initLoginWithWalletConnect();\n  }, []);\n  var content = React__default.createElement(\"div\", {\n    className: generatedClasses.container\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.root\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.card\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardBody\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.qrCodeSvgContainer,\n    dangerouslySetInnerHTML: {\n      __html: qrCodeSvg\n    },\n    style: {\n      width: '15rem',\n      height: '15rem'\n    }\n  }), React__default.createElement(\"h4\", {\n    className: generatedClasses.title\n  }, title), isMobileDevice ? React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", {\n    className: generatedClasses.leadText\n  }, loginButtonText), React__default.createElement(\"a\", {\n    id: 'accessWalletBtn',\n    \"data-testid\": 'accessWalletBtn',\n    className: generatedClasses.mobileLoginButton,\n    href: uriDeepLink || undefined,\n    rel: 'noopener noreferrer nofollow',\n    target: '_blank'\n  }, React__default.createElement(SvgLightning, {\n    className: generatedClasses.cardBody,\n    style: {\n      width: '0.7rem',\n      height: '0.7rem'\n    }\n  }), title)) : React__default.createElement(\"p\", {\n    className: generatedClasses.leadText\n  }, lead), React__default.createElement(\"div\", null, error && React__default.createElement(\"p\", {\n    className: generatedClasses.errorMessage\n  }, error))))));\n  return wrapContentInsideModal ? React__default.createElement(ModalContainer, {\n    title: 'Login with Maiar',\n    className: className,\n    onClose: onClose\n  }, content) : content;\n}\n\nvar WalletConnectLoginContainer$1 = withClassNameWrapper(WalletConnectLoginContainer);\n\nvar WalletConnectLoginButton = function WalletConnectLoginButton(_ref) {\n  var children = _ref.children,\n      callbackRoute = _ref.callbackRoute,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Maiar App' : _ref$loginButtonText,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Maiar Login' : _ref$title,\n      _ref$logoutRoute = _ref.logoutRoute,\n      logoutRoute = _ref$logoutRoute === void 0 ? '/unlock' : _ref$logoutRoute,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      buttonClassName = _ref.buttonClassName,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallect-connect-login' : _ref$className,\n      _ref$lead = _ref.lead,\n      lead = _ref$lead === void 0 ? 'Scan the QR code using Maiar' : _ref$lead,\n      token = _ref.token;\n\n  var _useState = useState(false),\n      showLoginModal = _useState[0],\n      setShowLoginModal = _useState[1];\n\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  var handleOpenModal = function handleOpenModal() {\n    setShowLoginModal(true);\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setShowLoginModal(false);\n  };\n\n  return React__default.createElement(Fragment, null, React__default.createElement(\"button\", {\n    onClick: handleOpenModal,\n    className: generatedClasses.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: generatedClasses.loginText\n  }, loginButtonText)), showLoginModal && React__default.createElement(WalletConnectLoginContainer$1, {\n    callbackRoute: callbackRoute,\n    loginButtonText: loginButtonText,\n    title: title,\n    token: token,\n    className: className,\n    logoutRoute: logoutRoute,\n    lead: lead,\n    wrapContentInsideModal: wrapContentInsideModal,\n    redirectAfterLogin: redirectAfterLogin,\n    onClose: handleCloseModal\n  }));\n};\n\nvar WalletConnectLoginButton$1 = withClassNameWrapper(WalletConnectLoginButton);\n\nvar WebWalletLoginButton = function WebWalletLoginButton(_ref) {\n  var children = _ref.children,\n      token = _ref.token,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'web-wallet-login' : _ref$className,\n      callbackRoute = _ref.callbackRoute,\n      buttonClassName = _ref.buttonClassName,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Elrond Web Wallet' : _ref$loginButtonText,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _useWebWalletLogin = useWebWalletLogin({\n    callbackRoute: callbackRoute,\n    token: token\n  }),\n      onInitiateLogin = _useWebWalletLogin[0];\n\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  var handleLogin = function handleLogin() {\n    onInitiateLogin();\n  };\n\n  return React__default.createElement(\"button\", {\n    onClick: handleLogin,\n    className: classes.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: classes.loginText\n  }, loginButtonText));\n};\n\nvar WebWalletLoginButton$1 = withClassNameWrapper(WebWalletLoginButton);\n\nvar UnlockPage = function UnlockPage(_ref) {\n  var loginRoute = _ref.loginRoute,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Login' : _ref$title,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'unlock-page' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$LedgerLoginButto = _ref.LedgerLoginButtonText,\n      LedgerLoginButtonText = _ref$LedgerLoginButto === void 0 ? 'Ledger' : _ref$LedgerLoginButto,\n      _ref$description = _ref.description,\n      description = _ref$description === void 0 ? 'Pick a login method' : _ref$description,\n      _ref$WalletConnectLog = _ref.WalletConnectLoginButtonText,\n      WalletConnectLoginButtonText = _ref$WalletConnectLog === void 0 ? 'Maiar' : _ref$WalletConnectLog,\n      _ref$ExtensionLoginBu = _ref.ExtensionLoginButtonText,\n      ExtensionLoginButtonText = _ref$ExtensionLoginBu === void 0 ? 'Extension' : _ref$ExtensionLoginBu,\n      _ref$WebWalletLoginBu = _ref.WebWalletLoginButtonText,\n      WebWalletLoginButtonText = _ref$WebWalletLoginBu === void 0 ? 'Web wallet' : _ref$WebWalletLoginBu;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"home d-flex flex-fill align-items-center \" + wrapperClassName,\n    title: 'mb-4',\n    description: 'mb-4',\n    cardContainer: 'm-auto',\n    card: 'card my-4 text-center',\n    cardBody: 'card-body py-4 px-2 px-sm-2 mx-lg-4'\n  });\n\n  var _useGetLoginInfo = useGetLoginInfo(),\n      isLoggedIn = _useGetLoginInfo.isLoggedIn;\n\n  React__default.useEffect(function () {\n    if (isLoggedIn) {\n      window.location.href = loginRoute;\n    }\n  }, [isLoggedIn]);\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardContainer\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.card\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardBody\n  }, React__default.createElement(\"h4\", {\n    className: generatedClasses.title\n  }, title), React__default.createElement(\"p\", {\n    className: generatedClasses.description\n  }, description), React__default.createElement(ExtensionLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: ExtensionLoginButtonText\n  }), React__default.createElement(WebWalletLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: WebWalletLoginButtonText\n  }), React__default.createElement(LedgerLoginButton$1, {\n    loginButtonText: LedgerLoginButtonText,\n    callbackRoute: loginRoute\n  }), React__default.createElement(WalletConnectLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: WalletConnectLoginButtonText\n  })))));\n};\n\nvar index$5 = withClassNameWrapper(UnlockPage);\nvar index$6 = {\n  __proto__: null,\n  UnlockPage: index$5\n};\nvar index$7 = {\n  __proto__: null,\n  ExplorerLink: ExplorerLink$1,\n  Denominate: Denominate$1,\n  PageState: PageState$1,\n  ExtensionLoginButton: ExtensionLoginButton$1,\n  LedgerLoginButton: LedgerLoginButton$1,\n  LedgerLoginContainer: LedgerLoginContainer$1,\n  NotificationModal: NotificationModal,\n  SignTransactionsModals: index$3,\n  TransactionsToastList: index$4,\n  TransactionToast: TransactionToast$1,\n  WalletConnectLoginButton: WalletConnectLoginButton$1,\n  WalletConnectLoginContainer: WalletConnectLoginContainer$1,\n  WebWalletLoginButton: WebWalletLoginButton$1,\n  Trim: Trim$1,\n  DappCorePages: index$6\n};\nexport { AppInitializer, AuthenticatedRoutesWrapper, DAPP_INIT_ROUTE, DappProvider, index$7 as DappUI, EmptyProvider, EnvironmentsEnum, LoginMethodsEnum, NotificationTypesEnum, TransactionBatchStatusesEnum, TransactionServerStatusesEnum, TransactionTypesEnum, TypesOfSmartContractCallsEnum, addressIsValid, areScCallsSuccessful, buildReplyUrl, buildUrlParams$1 as buildUrlParams, clear, completedServerTransactionsStates, decodeBase64, decodePart, denominate, emptyProvider, encodeToBase64, failBatchTransactionsStates, failServerTransactionsStates, getAccount, getAccountBalance, getAccountProvider, getAccountProviderType, getAddress, getAddressFromDataField, getApiProvider, getChainID, getEgldLabel, getGeneratedClasses, getIsLoggedIn, getIsProviderEqualTo, getIsTransactionCompleted, getIsTransactionFailed, getIsTransactionPending, getIsTransactionSuccessful, getIsTransactionTimedOut, getItem, getLatestNonce, getNetworkConfig, getNetworkProxy, getProviderType, getShardOfAddress, getTokenFromData, isBatchTransactionFailed, isBatchTransactionPending, isBatchTransactionSuccessful, isBatchTransactionTimedOut, isContract, isServerTransactionFailed, isServerTransactionPending, isServerTransactionSuccessful, isStringBase64, isTokenTransfer, logarithmicRest, index as loginServices, logout, index$2 as models, newWalletProvider, nominate, parseMultiEsdtTransferData, parseTransactionAfterSigning, pendingBatchTransactionsStates, pendingServerTransactionsStatuses, refreshAccount, removeItem, sendTransactions, setItem, setNonce, storage, successBatchTransactionsStates, successServerTransactionsStates, switchTrue, timedOutBatchTransactionsStates, index$1 as transactionServices, useGetAccountInfo, useGetAccountProvider, useGetLoginInfo, useGetNetworkConfig, useGetNotification, useGetPendingTransactions, useGetSignTransactionsError, useGetSignedTransactions, useGetTokenDetails, useGetTransactionDisplayInfo, useParseSignedTransactions, useSignTransactions, useSignTransactionsWithLedger, wrapperClassName };","map":{"version":3,"sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/redux/commonActions.ts","../src/redux/selectors/helpers.ts","../src/redux/selectors/networkConfigSelectors.ts","../src/types/enums.ts","../src/redux/selectors/accountInfoSelectors.ts","../src/redux/selectors/loginInfoSelectors.ts","../src/utils/internal/getNewLoginExpiresTimestamp.ts","../src/utils/internal/optionalRedirect.ts","../src/utils/internal/getBridgeAddressFromNetwork.ts","../src/redux/slices/loginInfoSlice.ts","../src/redux/middlewares/loginSessionMiddleware.ts","../src/redux/slices/accountInfoSlice.ts","../src/utils/provider.ts","../src/redux/slices/extraActionsSlice.ts","../src/redux/slices/modalsSlice.ts","../src/redux/slices/networkConfigSlice.ts","../src/redux/slices/transactionsInfoSlice.ts","../src/types/transactions.ts","../src/utils/smartContracts.ts","../src/utils/transactions/transactionStateByStatus.ts","../src/utils/decoders/base64Utils.ts","../src/utils/decoders/decodePart.ts","../src/utils/getAllStringOccurrences.ts","../src/utils/transactions/parseMultiEsdtTransferData.ts","../src/utils/transactions/getTokenFromData.ts","../src/utils/transactions/isTokenTransfer.ts","../src/utils/transactions/buildReplyUrl.tsx","../src/utils/transactions/parseTransactionAfterSigning.ts","../src/redux/slices/transactionsSlice.ts","../src/redux/reducers.ts","../src/redux/store.ts","../src/redux/selectors/extraActionsSelectors.ts","../src/models/newTransaction.ts","../src/redux/selectors/transactionsSelectors.ts","../src/redux/selectors/transactionsInfoSelectors.ts","../src/redux/selectors/modalsSelectors.ts","../src/utils/getIsLoggedIn.ts","../src/utils/logout.ts","../src/utils/buildUrlParams.ts","../src/utils/switchTrue.ts","../src/utils/account/addressIsValid.ts","../src/utils/network/getNetworkProxy.ts","../src/utils/network/getApiProvider.ts","../src/utils/network/getAccountProvider.ts","../src/utils/network/getAccountProviderType.ts","../src/utils/network/getChainID.ts","../src/utils/network/getNetworkConfig.ts","../src/utils/network/getEgldLabel.ts","../src/utils/network/getIsProviderEqualTo.ts","../src/utils/account/getAddress.tsx","../src/utils/account/getAccount.tsx","../src/utils/account/setNonce.tsx","../src/utils/account/getLatestNonce.tsx","../src/utils/account/getAccountBalance.tsx","../src/utils/account/refreshAccount.tsx","../src/utils/account/getShardOfAddress.ts","../src/utils/math.ts","../src/constants/ledgerErrorCodes.ts","../src/constants/network.ts","../src/constants/index.ts","../src/utils/operations/pipe.ts","../src/utils/operations/denominate.ts","../src/utils/operations/nominate.ts","../src/optionalPackages/classnames.ts","../src/utils/getGeneratedClasses.ts","../src/utils/wrapperClassName.ts","../src/optionalPackages/moment.ts","../src/utils/session.ts","../src/redux/DappProviderContext.ts","../src/services/login/useExtensionLogin.ts","../src/services/login/useWebWalletLogin.ts","../src/services/login/useLedgerLogin.ts","../src/hooks/useUpdateEffect.ts","../src/services/login/useWalletConnectLogin.ts","../src/services/transactions/utils.ts","../src/services/transactions/signTransactions.tsx","../src/services/transactions/transformAndSignTransactions.ts","../src/services/transactions/sendTransactions.ts","../src/services/transactions/hooks/useTrackTransactionStatus.ts","../src/services/transactions/hooks/useGetPendingTransactions.ts","../src/services/transactions/hooks/useGetFailedTransactions.ts","../src/services/transactions/hooks/useGetSuccessfulTransactions.ts","../src/services/transactions/hooks/useParseMultiEsdtTransferData.ts","../src/services/transactions/hooks/useGetActiveTransactionsStatus.ts","../src/services/transactions/hooks/useGetCompletedTransactions.ts","../src/APICalls/transactions/sendSignedTransactions.ts","../src/APICalls/transactions/getTransactionsByHashes.ts","../src/components/ProviderInitializer.tsx","../src/contexts/OverrideDefaultBehaviourContext.tsx","../src/components/TransactionSender/index.ts","../src/components/TransactionsTracker/TransactionStatusTracker.tsx","../src/components/TransactionsTracker/index.tsx","../src/APICalls/configuration/getServerConfiguration.ts","../src/hooks/useGetNetworkConfig.ts","../src/hooks/useGetNotification.ts","../src/hooks/transactions/useGetTransactionDisplayInfo.ts","../src/hooks/transactions/useParseSignedTransactions.tsx","../src/hooks/transactions/useSignTransactions.tsx","../src/hooks/transactions/useGetSignedTransactions.ts","../src/optionalPackages/swr.ts","../src/hooks/transactions/useGetTokenDetails.tsx","../src/hooks/transactions/useSignTransactionsWithLedger.tsx","../src/hooks/transactions/useGetSignTransactionsError.ts","../src/hooks/account/useGetAccountInfo.ts","../src/hooks/account/useGetLoginInfo.ts","../src/hooks/account/useGetAccountProvider.ts","../src/utils/account/getAccountShard.tsx","../src/wrappers/AppInitializer.tsx","../src/redux/DappProvider.tsx","../src/wrappers/AuthenticatedRoutesWrapper/index.tsx","../src/models/TransactionParameter.ts","../src/wrappers/withClassNameWrapper.tsx","../src/UI/Denominate/index.tsx","../src/optionalPackages/fortawesome-free-solid-svg-icons.ts","../src/optionalPackages/react-fontawesome.ts","../src/UI/ExplorerLink/index.tsx","../src/UI/extension/LoginButton/index.tsx","../src/optionalPackages/react-bootstrap.tsx","../src/UI/ModalContainer/index.tsx","../node_modules/classnames/index.js","../src/UI/PageState/index.tsx","../src/UI/ledger/LoginModal/AddressRow.tsx","../src/UI/ledger/LoginModal/AddressTable.tsx","../src/UI/ledger/LoginModal/ConfirmAddress.tsx","../src/UI/ledger/LoginModal/LedgerConnect.tsx","../src/UI/ledger/LoginModal/index.tsx","../src/UI/ledger/LoginButton/index.tsx","../src/UI/NotificationModal/index.tsx","../src/UI/SignTransactionsModals/SignWithExtensionModal/index.tsx","../src/UI/TokenDetails/TokenSymbol/index.tsx","../src/UI/TokenDetails/index.tsx","../src/UI/TransactionData/index.tsx","../src/UI/SignTransactionsModals/SignWithLedgerModal/SignStep.tsx","../src/UI/SignTransactionsModals/SignWithLedgerModal/index.tsx","../src/UI/SignTransactionsModals/SignWithWalletConnectModal/index.tsx","../src/UI/SignTransactionsModals/index.tsx","../src/storage/session.ts","../src/services/transactions/isCrossShardTransaction.ts","../src/UI/IconState/index.tsx","../src/UI/Progress/index.tsx","../src/UI/CopyButton/helpers/copyToClipboard.tsx","../src/UI/CopyButton/index.tsx","../src/UI/Trim/index.tsx","../src/UI/TxDetails/index.tsx","../src/UI/TransactionToast/index.tsx","../src/UI/TransactionsToastList/index.tsx","../src/optionalPackages/platform.ts","../src/optionalPackages/qrcode.ts","../src/UI/walletConnect/WalletConnectLoginContainer/index.tsx","../src/UI/walletConnect/WalletConnectLoginButton/index.tsx","../src/UI/webWallet/LoginButton/index.tsx","../src/UI/pages/UnlockPage/index.tsx"],"names":["logoutAction","createAction","loginAction","payload","createDeepEqualSelector","createSelectorCreator","networkConfigSelector","state","proxySelector","providerSelector","chainIDSelector","apiProviderSelector","walletConnectBridgeAddressSelector","walletConnectDeepLinkSelector","networkSelector","apiNetworkSelector","explorerAddressSelector","egldLabelSelector","TransactionServerStatusesEnum","TransactionBatchStatusesEnum","LoginMethodsEnum","NotificationTypesEnum","TypesOfSmartContractCallsEnum","EnvironmentsEnum","accountInfoSelector","addressSelector","accountSelector","accountBalanceSelector","account","accountNonceSelector","shardSelector","ledgerAccountSelector","walletConnectAccountSelector","isAccountLoadingSelector","isAccountLoadingErrorSelector","loginInfoSelector","loginMethodSelector","isLoggedInSelector","Boolean","walletConnectLoginSelector","ledgerLoginSelector","walletLoginSelector","loginExpiresAtSelector","getNewLoginExpiresTimestamp","optionalRedirect","callbackUrl","shouldRedirect","setTimeout","window","getBridgeAddressFromNetwork","walletConnectBridgeAddresses","Math","initialState","loginMethod","walletConnectLogin","ledgerLogin","tokenLogin","walletLogin","extensionLogin","loginExpiresAt","loginInfoSlice","createSlice","name","reducers","setLoginMethod","action","setTokenLogin","setTokenLoginSignature","setWalletLogin","setWalletConnectLogin","setLedgerLogin","setLoginExpiresAt","extraReducers","builder","whitelistedActions","throttledSetNewToken","throttle","store","loginSessionMiddleware","next","appState","loginTimestamp","isLoggedIn","now","Date","isExpired","provider","console","err","emptyAccount","balance","address","nonce","ledgerAccount","publicKey","walletConnectAccount","isAccountLoading","accountLoadingError","accountInfoSlice","setAddress","setAccount","setAccountNonce","setAccountShard","setLedgerAccount","setWalletConnectAccount","setIsAccountLoading","setAccountLoadingError","accountInfo","shard","DAPP_INIT_ROUTE","getProviderType","newWalletProvider","notInitializedError","EmptyProvider","login","isInitialized","emptyProvider","log","getProvider","init","extraActionsSlice","initializeExtraActions","modalsSlice","setTxSubmittedModal","setNotificationModal","clearTxSubmittedModal","clearNotificationModal","defaultNetwork","id","egldLabel","egldDenomination","decimals","gasPerDataByte","walletConnectDeepLink","walletConnectBridgeAddress","walletAddress","apiAddress","explorerAddress","apiTimeout","network","proxy","timeout","Number","apiProvider","chainID","networkConfigSlice","initializeNetworkConfig","omit","setChainID","setProvider","defaultTransactionErrorMessage","defaultTransactionSuccessMessage","defaultTransactionProcessingMessage","defaultTransactionSubmittedMessage","signTransactionsSlice","setTransactionsDisplayInfo","sessionId","transactionsDisplayInfo","errorMessage","successMessage","processingMessage","submittedMessage","transactionDuration","clearTransactionsInfoForSessionId","clearTransactionsInfo","TransactionTypesEnum","okInHex","areScCallsSuccessful","scResults","success","result","decoded","Buffer","hasOkPart","part","isContract","receiver","data","extractedAddress","getAddressFromDataField","addressIndex","getAddressIndex","parts","pendingBatchTransactionsStates","successBatchTransactionsStates","failBatchTransactionsStates","timedOutBatchTransactionsStates","pendingServerTransactionsStatuses","successServerTransactionsStates","completedServerTransactionsStates","failServerTransactionsStates","getIsTransactionCompleted","status","getIsTransactionPending","isScCall","isPending","isBatchTransactionPending","isServerTransactionPending","getIsTransactionSuccessful","isBatchTransactionSuccessful","isServerTransactionSuccessful","getIsTransactionFailed","isBatchTransactionFailed","isServerTransactionFailed","getIsTransactionTimedOut","isBatchTransactionTimedOut","base64Regex","isStringBase64","string","encodeToBase64","btoa","decodeBase64","atob","isUtf8","i","str","decodePart","decodedPart","hexPart","getAllStringOccurrences","sourceStr","a","parseMultiEsdtTransferData","transactions","contractCallDataIndex","encodedTxCount","rest","txCount","itemIndex","txIndex","transaction","type","index","encodedNonce","tx","scCallData","noData","tokenId","amount","getTokenFromData","tokenTransfer","nftTransfer","encodedToken","encodedAmount","isTokenTransfer","erdLabel","urlSearchParams","params","Object","nextUrlParams","buildReplyUrl","urlParams","url","search","origin","pathname","buildUrlParams","parseTransactionAfterSigning","isLedger","TransactionVersion","TransactionOptions","parsedTransaction","signedTransactions","transactionsToSign","signTransactionsError","transactionsSlice","updateSignedTransaction","updateSignedTransactions","updateSignedTransactionStatus","transactionHash","areTransactionsSuccessful","areTransactionsFailed","setTransactionsToSign","clearSignTransactions","setSignTransactionsError","parsedSignedTransactions","txTimestamp","expiration","acc","transactionsInfoPersistConfig","key","version","storage","sessionStorage","transactionsReducer","blacklist","customReducers","persistReducer","transactionsInfo","rootReducer","combineReducers","networkConfig","extraActions","loginInfo","modals","persistConfig","whitelist","localStorageReducers","configureStore","reducer","middleware","serializableCheck","ignoredActions","ignoredPaths","persistor","persistStore","extraActionsSelector","extraActionsInit","createSelector","newTransaction","rawTransaction","parsedData","value","Balance","gasLimit","gasPrice","options","transactionsSelectors","signedTransactionsSelector","signTransactionsErrorSelector","pendingSignedTransactionsSelector","txBody","successfulTransactionsSelector","completedTransactionsSelector","failedTransactionsSelector","timedOutTransactionsSelector","transactionsToSignSelector","transactionStatusSelector","transactionSessionId","defaultTransactionInfo","transactionsInfoSelectors","transactionDisplayInfoSelector","modalsSliceSelector","txSubmittedModalSelector","notificationModalSelector","getIsLoggedIn","logout","onRedirect","switchTrue","object","defaultValue","obj","cur","checkAddress","addressIsValid","destinationAddress","isValidBach","canTransformToPublicKey","getNetworkProxy","getApiProvider","getAccountProvider","getAccountProviderType","getChainID","getNetworkConfig","getEgldLabel","getIsProviderEqualTo","comparedProviderType","providerType","getAddress","loggedIn","resolve","getAccount","setNonce","getLatestNonce","currentAccountNonce","isNaN","getAccountBalance","accountAddress","setNewAccount","accountData","e","refreshAccount","undefined","isAddressOfMetachain","metachainPrefix","pubKeyPrefix","pubKey","zeroAddress","getShardOfAddress","numShards","maskHigh","parseInt","maskLow","lastByteOfPubKey","logarithmicRest","minp","maxp","minv","maxv","scale","position","ledgerErrorCodes","code","message","DEFAULT_MIN_GAS_LIMIT","configEndpoint","mainnet","testnet","devnet","fallbackConfigurations","gasPriceModifier","defaultGasPrice","defaultGasLimit","denomination","dappInitRoute","walletSignSession","pipe","previous","then","newValue","valueOf","BigNumber","ROUNDING_MODE","ROUND_FLOOR","denominate","input","configDenomination","configDecimals","showLastNonZeroDecimal","addCommas","token","validation","bnBalance","integerPart","decimalPart","bNdecimalPart","decimalPlaces","shownDecimalsAreZero","formatted","formattedBalance","integerPartZero","numericPart","current","zeroPlaceholders","zeros","minAmount","nominate","customDenomination","createBalanceBuilder","TokenType","Fungible","classnames","require","getGeneratedClasses","className","shouldRenderDefaultCss","defaultStyles","defaultClassNames","classNames","wrapperClassName","moment","setItem","expires","String","getItem","item","deserializedItem","JSON","expired","removeItem","clear","defaultContextValue","DappCoreContext","React","useStore","createStoreHook","useDispatch","createDispatchHook","useSelector","createSelectorHook","useExtensionLogin","callbackRoute","redirectAfterLogin","error","setError","useState","isLoading","setIsLoading","dispatch","initiateLogin","ExtensionProvider","encodeURIComponent","providerLoginData","signature","loginToken","extension","loginFailed","useWebWalletLogin","walletLoginData","loginData","ledgerAppErrorText","failInitializeErrorText","defaultAddressesPerPage","useLedgerLogin","addressesPerPage","hwWalletP","startIndex","setStartIndex","accounts","setAccounts","selectedAddress","setSelectedAddress","showAddressList","setShowAddressList","loginType","ledger","onLoginFailed","loginUser","hwWalletProvider","dispatchLoginActions","onConfirmSelectedAddress","fetchAccounts","onStartLogin","onGoToPrevPage","onGoToNextPage","onSelectAddress","useUpdateEffect","effect","dependencies","isInitialMount","useRef","useEffect","useWalletConnectLogin","logoutRoute","heartbeatInterval","wcUri","setWcUri","providerRef","hasWcUri","uriDeepLink","handleHeartbeat","interval","setInterval","clearInterval","generateWcUri","isProviderConnected","customMessage","method","handleOnLogout","handleOnLogin","hasSignature","loginActionData","walletconnect","heartbeatDisconnectInterval","loginProvider","providerHandlers","onClientLogin","onClientLogout","newProvider","walletConnectUri","hasUri","wcUriWithToken","calcTotalFee","minGasLimit","totalFee","fee","chainId","signTransactions","redirectAfterSign","sessionInformation","networkConstants","accountBalance","storeChainId","transactionsPayload","Array","bNtotalFee","bNbalance","hasSufficientFunds","notificationPayload","iconClassName","title","description","hasValidChainId","signTransactionsPayload","ErrorCodesEnum","transformAndSignTransactions","validatedReceiver","addr","transactionsChainId","sender","sendTransactions","areComplexTransactions","txToSign","useTrackTransactionStatus","transactionId","onSuccess","onFail","onCancelled","onTimedOut","onCompleted","transactionsBatch","isFailed","isTimedOut","isSuccessful","isCompleted","isCancelled","useGetPendingTransactions","pendingTransactions","pendingTransactionsArray","hasPendingTransactions","useGetFailedTransactions","failedTransactions","failedTransactionsArray","hasFailedTransactions","useGetSuccessfulTransactions","successfulTransactions","successfulTransactionsArray","hasSuccessfulTransactions","multiTxData","useParseMultiEsdtTransferData","parsedTransactionsByDataField","setParsedTransactions","allTransactions","setAllTransactions","multiTransactionData","multiTxs","newTx","trx","transactionIndex","idx","addTransactionDataToParsedInfo","extractTransactionESDTData","getTxInfoByDataField","useGetActiveTransactionsStatus","timedOutTransactions","completedTransactions","pending","timedOut","fail","completed","hasActiveTransactions","useGetCompletedTransactions","completedTransactionsArray","hasCompletedTransactions","sendSignedTransactions","promises","response","Promise","txHash","getTransactionsByHashes","hashes","responseData","withScResults","hash","previousStatus","txOnNetwork","txResponse","invalidTransaction","results","hasStatusChanged","ProviderInitializer","initWalletLoginProvider","refreshChainID","initializeProvider","fetchAccount","tryAuthenticateWalletUser","wallet","setExtensionProvider","setLedgerProvider","sendSignedTransactionsAsync","getTransactionsByHash","completedTransactionsDelay","OverrideDefaultBehaviourContext","TransactionSender","useContext","sendingRef","clearSignInfo","handleSendTransactions","sessionIds","isSessionIdSigned","shouldSendCurrentSession","transactionsToSend","transactionObject","newStatus","newTransactions","responseHashes","submittedModalPayload","history","document","TransactionStatusTracker","transactionPayload","intervalRef","isFetchingStatusRef","retriesRef","timeoutRefs","manageTimedOutTransactions","checkTransactionStatus","retriesForThisHash","isScCallCompleted","resultWithError","returnMessage","TransactionsTracker","getServerConfiguration","axios","useGetNetworkConfig","useGetNotification","notification","clearNotification","useGetTransactionDisplayInfo","toastId","useParseSignedTransactions","searchData","qs","signSessionId","useSignTransactions","savedCallback","latestNonce","signTransactionsWithProvider","errMessage","onCancel","cancelled","signingDisabled","hasTransactions","onAbort","useGetSignedTransactions","swr","fetcher","res","useGetTokenDetails","tokenDenomination","tokenLabel","tokenAvatar","selectedToken","useSwr","useSignTransactionsWithLedger","currentStep","setCurrentStep","setSignedTransactions","currentTransaction","setCurrentTransaction","waitingForDevice","setWaitingForDevice","isLastTransaction","extractTransactionsInfo","dataField","transactionTokenInfo","isTokenTransaction","sign","newSignedTx","newSignedTransactions","exising","reset","existing","continueWithoutSigning","signTx","nextStep","isFirst","onSignTransaction","onNext","onPrev","useGetSignTransactionsError","useGetAccountInfo","useGetLoginInfo","useGetAccountProvider","getAccountShard","AppInitializer","customNetworkConfig","children","environment","initialized","setInitialized","initializeNetwork","fallbackConfig","serverConfig","onLogin","initializeApp","initializeCustomExtraActions","DappProvider","signWithoutSending","memoizedSendSignedTransactionsAsync","useCallback","memoizedGetTransactionsByHash","context","loading","AuthenticatedRoutesWrapper","routes","unlockRoute","authenticatedRoutesRef","route","isOnAuthenticatedRoute","path","TransactionParameter","withClassNameWrapper","props","denominateInvalid","denominateValid","showLabel","denominatedValue","valueParts","hasNoDecimals","isNotZero","Denominate","DenominateWrapper","denominateProps","fontawesomeFreeSolidIcons","ReactFontawesome","ExplorerLink","page","text","href","target","icon","icons","faSearch","ExtensionLoginButton","buttonClassName","loginButtonText","onInitiateLogin","classes","wrapper","loginText","noExtensionButtonWrapper","noExtensionButtonContent","noExtensionButtonTitle","noExtensionButtonIcon","handleLogin","rel","faArrowRight","onClick","ReactBootstrap","ModalContainer","noSpacer","onClose","show","backdrop","onHide","animation","centered","size","faTimes","PageState","iconClass","dataTestId","iconBgClass","iconSize","generatedClasses","iconContainer","trimHash","keep","start","end","noBalance","AddressRow","setBalance","handleChange","checked","fetchBalance","onChange","role","htmlFor","ledgerWaitingText","AddressTable","cardBody","tableWrapper","tableContent","tableHeader","tableHeaderText","buttonsWrapper","arrowButton","confirmButton","faCircleNotch","disabled","faChevronLeft","faChevronRight","ConfirmAddress","noBorder","LedgerConnect","connectPageContent","wrapContentInsideModal","spinner","getContent","LedgerLoginButton","showLoginModal","setShowLoginModal","handleOpenModal","handleCloseModal","notificationTypesToIcons","defaultIcon","NotificationModal","showModal","onDone","SignWithExtensionModal","handleClose","closeBtn","close","freeSolidIcons","faHourglass","Simple","Combined","small","getIdentifierWithoutNonce","tokenParts","identifier","getDetails","isEgldTransfer","symbol","label","faGem","TokenDetails","Component","process","render","allOccurences","TransactionData","highlight","output","encodedScCall","remainingDataFields","SignStep","transactionData","onCloseClick","signBtnLabel","denominatedAmount","formGroup","formLabel","contentWrapper","tokenWrapper","tokenValue","tokenAmountLabel","tokenAmountValue","dataFormGroup","cancelButton","signButton","tokenlabel","SignWithLedgerModal","container","SignWithWalletConnectModal","hasMultipleTransactions","CustomConfirmScreens","signError","signProps","SessionStorageKeysEnum","setToastsIdsToStorage","ids","getToastsIdsFromStorage","toastsIds","isCrossShardTransaction","receiverAddress","senderShard","senderAddress","receiverShard","IconState","half","Progress","progress","done","ref","removeTxFromSession","toastProgress","hasSessionStoredTx","saveToSession","getInitialData","totalSeconds","remaining","currentRemaining","percentRemaining","setPercentRemaining","maxPercent","perc","int","decrement","style","width","textArea","copyTextToClipboard","navigator","clipboard","fallbackCopyTextToClipboard","CopyButton","copyResult","setCopyResut","handleCopyToClipboard","noSpaces","faCopy","faCheck","Trim","overflow","setOverflow","trimRef","hiddenTextRef","listener","debounce","diff","addWindowResizeListener","TxDetails","statusTransactions","iconSuccess","iconFailed","trimContainer","iconPending","iconSuccessData","iconFailedData","iconPendingData","iconData","invalid","iconSrc","averageTxDurationMs","crossShardRounds","TransactionToast","withTxNonce","shouldRender","setShouldRender","transactionDisplayInfo","accountShard","timedOutMessage","isSameShard","useMemo","prevTxIsSameShard","shardAdjustedDuration","toastFooter","details","toastContainer","toastHeader","closeButton","startTime","endTime","successToastData","hasCloseButton","pendingToastData","failToastData","timedOutToastData","toatsOptionsData","signed","sent","toastDataState","handleDeleteToast","minWidth","setToastsIds","pendingTransactionsFromStore","signedTransactionsFromStore","pendingTransactionsToRender","signedTransactionsToRender","toast","mappedToastsList","currentTx","mapPendingSignedTransactions","newToasts","hasToast","fetchSessionStorageToasts","sessionStorageToastsIds","saveSessionStorageToasts","shouldSaveLocalToasts","platform","qrcode","lead","initLoginWithWalletConnect","shouldLoginUser","qrCodeSvg","setQrCodeSvg","isMobileDevice","card","qrCodeSvgContainer","leadText","mobileLoginButton","generateQRCode","svg","content","root","dangerouslySetInnerHTML","__html","height","WalletConnectLoginButton","WebWalletLoginButton","UnlockPage","loginRoute","LedgerLoginButtonText","WalletConnectLoginButtonText","ExtensionLoginButtonText","WebWalletLoginButtonText","cardContainer"],"mappings":"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","sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import { createAction } from '@reduxjs/toolkit';\nimport { LoginMethodsEnum } from 'types/enums';\n\nexport interface LoginActionPayloadType {\n  address: string;\n  loginMethod: LoginMethodsEnum;\n}\n\nexport const logoutAction = createAction('logout');\n\nexport const loginAction = createAction(\n  'login',\n  (payload: LoginActionPayloadType) => ({ payload })\n);\n","import isEqual from 'lodash/isEqual';\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\nexport const createDeepEqualSelector = createSelectorCreator(\n  defaultMemoize,\n  isEqual\n);\n","import { ChainID } from '@elrondnetwork/erdjs';\nimport { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const networkConfigSelector = (state: RootState) => state.networkConfig;\n\nexport const proxySelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.proxy\n);\n\nexport const providerSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.provider\n);\n\nexport const chainIDSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => new ChainID(state.chainID)\n);\n\nexport const apiProviderSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.apiProvider\n);\n\nexport const walletConnectBridgeAddressSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network.walletConnectBridgeAddress\n);\n\nexport const walletConnectDeepLinkSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network.walletConnectDeepLink\n);\n\nexport const networkSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network\n);\n\nexport const apiNetworkSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.apiAddress\n);\n\nexport const explorerAddressSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.explorerAddress\n);\n\nexport const egldLabelSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.egldLabel\n);\n","export enum TransactionServerStatusesEnum {\n  'pending' = 'pending',\n  'fail' = 'fail',\n  'invalid' = 'invalid',\n  'success' = 'success',\n  'executed' = 'executed',\n  'completed' = 'completed'\n}\n\nexport enum TransactionBatchStatusesEnum {\n  'signed' = 'signed',\n  'cancelled' = 'cancelled',\n  'success' = 'success',\n  'sent' = 'sent',\n  'fail' = 'fail',\n  'timedOut' = 'timedOut'\n}\n\nexport enum LoginMethodsEnum {\n  ledger = 'ledger',\n  walletconnect = 'walletconnect',\n  wallet = 'wallet',\n  extension = 'extension',\n  extra = 'extra',\n  none = ''\n}\n\nexport enum NotificationTypesEnum {\n  warning = 'warning',\n  error = 'error',\n  success = 'success'\n}\n\nexport enum TypesOfSmartContractCallsEnum {\n  MultiESDTNFTTransfer = 'MultiESDTNFTTransfer',\n  ESDTNFTTransfer = 'ESDTNFTTransfer'\n}\n\nexport enum EnvironmentsEnum {\n  testnet = 'testnet',\n  devnet = 'devnet',\n  mainnet = 'mainnet'\n}\n","import { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const accountInfoSelector = (state: RootState) => state.account;\n\nexport const addressSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.address\n);\n\nexport const accountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.account\n);\n\nexport const accountBalanceSelector = createDeepEqualSelector(\n  accountSelector,\n  (account) => account.balance\n);\n\nexport const accountNonceSelector = createDeepEqualSelector(\n  accountSelector,\n  (state) => state?.nonce?.valueOf() || 0\n);\n\nexport const shardSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.shard\n);\n\nexport const ledgerAccountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.ledgerAccount\n);\n\nexport const walletConnectAccountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.walletConnectAccount\n);\n\nexport const isAccountLoadingSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.isAccountLoading\n);\n\nexport const isAccountLoadingErrorSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.accountLoadingError\n);\n","import { LoginMethodsEnum } from 'types/enums';\nimport { RootState } from '../store';\nimport { addressSelector } from './accountInfoSelectors';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const loginInfoSelector = (state: RootState) => state.loginInfo;\n\nexport const loginMethodSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.loginMethod\n);\n\nexport const isLoggedInSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  addressSelector,\n  (state, address) =>\n    state.loginMethod != LoginMethodsEnum.none && Boolean(address)\n);\n\nexport const walletConnectLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.walletConnectLogin\n);\n\nexport const ledgerLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.ledgerLogin\n);\n\nexport const walletLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.walletLogin\n);\n\nexport const loginExpiresAtSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.loginExpiresAt\n);\n","export function getNewLoginExpiresTimestamp() {\n  return new Date().setHours(new Date().getHours() + 24);\n}\n\nexport default getNewLoginExpiresTimestamp;\n","export function optionalRedirect(\n  callbackUrl?: string,\n  shouldRedirect?: boolean\n) {\n  if (shouldRedirect && callbackUrl != null) {\n    setTimeout(() => {\n      if (!window.location.pathname.includes(callbackUrl)) {\n        window.location.href = callbackUrl;\n      }\n    }, 200);\n  }\n}\n","export function getBridgeAddressFromNetwork(\n  walletConnectBridgeAddresses: string[]\n) {\n  return walletConnectBridgeAddresses[\n    Math.floor(Math.random() * walletConnectBridgeAddresses.length)\n  ];\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { getNewLoginExpiresTimestamp } from 'utils/internal';\nimport {\n  loginAction,\n  logoutAction,\n  LoginActionPayloadType\n} from '../commonActions';\n\nexport interface WalletConnectLoginType {\n  loginType: string;\n  callbackRoute: string;\n  logoutRoute: string;\n}\n\nexport interface LedgerLoginType {\n  index: number;\n  loginType: string;\n}\n\nexport interface LoginInfoType {\n  data: any;\n  expires: number;\n}\n\nexport interface TokenLoginType {\n  loginToken: string;\n  signature?: string;\n}\n\nexport interface LoginInfoStateType {\n  loginMethod: LoginMethodsEnum;\n  walletConnectLogin: WalletConnectLoginType | null;\n  ledgerLogin: LedgerLoginType | null;\n  tokenLogin: TokenLoginType | null;\n  walletLogin: LoginInfoType | null;\n  extensionLogin: LoginInfoType | null;\n  loginExpiresAt: number;\n}\n\nconst initialState: LoginInfoStateType = {\n  loginMethod: LoginMethodsEnum.none,\n  walletConnectLogin: null,\n  ledgerLogin: null,\n  tokenLogin: null,\n  walletLogin: null,\n  extensionLogin: null,\n  loginExpiresAt: getNewLoginExpiresTimestamp()\n};\n\nexport const loginInfoSlice = createSlice({\n  name: 'loginInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setLoginMethod: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LoginMethodsEnum>\n    ) => {\n      state.loginMethod = action.payload;\n    },\n    setTokenLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<TokenLoginType>\n    ) => {\n      state.tokenLogin = action.payload;\n    },\n    setTokenLoginSignature: (\n      state: LoginInfoStateType,\n      action: PayloadAction<string>\n    ) => {\n      if (state?.tokenLogin != null) {\n        state.tokenLogin.signature = action.payload;\n      }\n    },\n    setWalletLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LoginInfoType | null>\n    ) => {\n      state.walletLogin = action.payload;\n    },\n    setWalletConnectLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<WalletConnectLoginType | null>\n    ) => {\n      state.walletConnectLogin = action.payload;\n    },\n    setLedgerLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LedgerLoginType | null>\n    ) => {\n      state.ledgerLogin = action.payload;\n    },\n    setLoginExpiresAt: (\n      state: LoginInfoStateType,\n      action: PayloadAction<number>\n    ) => {\n      state.loginExpiresAt = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(\n      loginAction,\n      (\n        state: LoginInfoStateType,\n        action: PayloadAction<LoginActionPayloadType>\n      ) => {\n        state.loginMethod = action.payload.loginMethod;\n        state.loginExpiresAt = getNewLoginExpiresTimestamp();\n      }\n    );\n  }\n});\n\nexport const {\n  setLoginMethod,\n  setWalletConnectLogin,\n  setLedgerLogin,\n  setTokenLogin,\n  setTokenLoginSignature,\n  setWalletLogin,\n  setLoginExpiresAt\n} = loginInfoSlice.actions;\n\nexport default loginInfoSlice.reducer;\n","import { PayloadAction } from '@reduxjs/toolkit';\nimport throttle from 'lodash/throttle';\nimport { logoutAction } from 'redux/commonActions';\nimport {\n  isLoggedInSelector,\n  loginExpiresAtSelector\n} from 'redux/selectors/loginInfoSelectors';\nimport { providerSelector } from 'redux/selectors/networkConfigSelectors';\nimport { setLoginExpiresAt } from 'redux/slices/loginInfoSlice';\nimport { StoreType } from 'redux/store';\nimport { getNewLoginExpiresTimestamp } from 'utils/internal';\n\nconst whitelistedActions = ['loginInfoSlice/setLoginExpiresAt', 'logout'];\n\nconst throttledSetNewToken = throttle((store: StoreType) => {\n  store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n}, 5000);\n\nexport const loginSessionMiddleware: any =\n  (store: StoreType) =>\n  (next: (action: PayloadAction) => void) =>\n  (action: PayloadAction) => {\n    if (whitelistedActions.includes(action.type)) {\n      return next(action);\n    }\n    const appState = store.getState();\n    const loginTimestamp = loginExpiresAtSelector(appState);\n    const isLoggedIn = isLoggedInSelector(appState);\n    if (!isLoggedIn) {\n      return next(action);\n    }\n    if (loginTimestamp == null) {\n      return store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n    }\n    const now = Date.now();\n    const isExpired = loginTimestamp - now < 0;\n    if (isExpired) {\n      return setTimeout(async () => {\n        const provider = providerSelector(store.getState());\n        console.log('session expired');\n        store.dispatch(logoutAction());\n        try {\n          await provider.logout({ callbackUrl: '/' });\n        } catch (err) {\n          console.error('error logging out', err);\n        }\n      }, 1000);\n    } else {\n      throttledSetNewToken(store);\n    }\n    return next(action);\n  };\n\nexport default loginSessionMiddleware;\n","import { Address } from '@elrondnetwork/erdjs';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REHYDRATE } from 'redux-persist';\n\nimport {\n  loginAction,\n  logoutAction,\n  LoginActionPayloadType\n} from '../commonActions';\n\nexport interface AccountType {\n  address: string;\n  balance: string;\n  nonce: number;\n  code?: string;\n  username?: string;\n}\nexport interface LedgerAccountType {\n  index: number;\n  address: string;\n}\n\nexport interface AccountInfoSliceType {\n  address: string;\n  shard?: number;\n  account: AccountType;\n  publicKey: string;\n  ledgerAccount: LedgerAccountType | null;\n  walletConnectAccount: string | null;\n  isAccountLoading: boolean;\n  accountLoadingError: string | null;\n}\n\nexport const emptyAccount: AccountType = {\n  balance: '...',\n  address: '',\n  nonce: 0\n};\n\nconst initialState: AccountInfoSliceType = {\n  address: '',\n  account: emptyAccount,\n  ledgerAccount: null,\n  publicKey: '',\n  walletConnectAccount: null,\n  isAccountLoading: true,\n  accountLoadingError: null\n};\n\nexport const accountInfoSlice = createSlice({\n  name: 'accountInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setAddress: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string>\n    ) => {\n      const address = action.payload;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    },\n    setAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<AccountType>\n    ) => {\n      state.account = action.payload;\n      state.isAccountLoading = false;\n      state.accountLoadingError = null;\n    },\n    setAccountNonce: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<number>\n    ) => {\n      state.account.nonce = action.payload;\n    },\n    setAccountShard: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<number>\n    ) => {\n      state.shard = action.payload;\n    },\n    setLedgerAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<LedgerAccountType | null>\n    ) => {\n      state.ledgerAccount = action.payload;\n    },\n    setWalletConnectAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string | null>\n    ) => {\n      state.walletConnectAccount = action.payload;\n    },\n    setIsAccountLoading: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<boolean>\n    ) => {\n      state.isAccountLoading = action.payload;\n      state.accountLoadingError = null;\n    },\n    setAccountLoadingError: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string | null>\n    ) => {\n      state.accountLoadingError = action.payload;\n      state.isAccountLoading = false;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(\n      loginAction,\n      (\n        state: AccountInfoSliceType,\n        action: PayloadAction<LoginActionPayloadType>\n      ) => {\n        const { address } = action.payload;\n        state.address = address;\n        state.publicKey = new Address(address).hex();\n      }\n    );\n    builder.addCase(REHYDRATE, (state, action: any) => {\n      if (!action.payload?.account) {\n        return;\n      }\n\n      const { account: accountInfo } = action.payload;\n      const { address, shard, account, publicKey } = accountInfo;\n      state.address = address;\n      state.shard = shard;\n      state.account = account;\n      state.publicKey = publicKey;\n    });\n  }\n});\n\nexport const {\n  setAccount,\n  setAddress,\n  setAccountNonce,\n  setAccountShard,\n  setLedgerAccount,\n  setWalletConnectAccount,\n  setIsAccountLoading,\n  setAccountLoadingError\n} = accountInfoSlice.actions;\n\nexport default accountInfoSlice.reducer;\n","import {\n  ExtensionProvider,\n  HWProvider,\n  IDappProvider,\n  SignableMessage,\n  Transaction,\n  WalletConnectProvider,\n  WalletProvider\n} from '@elrondnetwork/erdjs';\nimport { LoginMethodsEnum } from 'types/enums';\n\nexport const DAPP_INIT_ROUTE = '/dapp/init';\n\nexport const getProviderType = (\n  provider: IDappProvider | undefined\n): LoginMethodsEnum => {\n  switch (provider?.constructor) {\n    case WalletProvider:\n      return LoginMethodsEnum.wallet;\n    case WalletConnectProvider:\n      return LoginMethodsEnum.walletconnect;\n    case HWProvider:\n      return LoginMethodsEnum.ledger;\n    case ExtensionProvider:\n      return LoginMethodsEnum.extension;\n    case EmptyProvider:\n      return LoginMethodsEnum.none;\n    default:\n      return LoginMethodsEnum.extra;\n  }\n};\n\nexport const newWalletProvider = (walletAddress: string) =>\n  new WalletProvider(`${walletAddress}${DAPP_INIT_ROUTE}`);\n\nconst notInitializedError = (caller: string) => {\n  return `Unable to perform ${caller}, Provider not initialized`;\n};\n\nexport class EmptyProvider implements IDappProvider {\n  async init() {\n    return false;\n  }\n  login(options?: { callbackUrl?: string; token?: string }): Promise<string> {\n    throw new Error(notInitializedError(`login with options: ${options}`));\n  }\n  async logout(options?: { callbackUrl?: string }): Promise<boolean> {\n    throw new Error(notInitializedError(`logout with options: ${options}`));\n  }\n  async getAddress(): Promise<string> {\n    throw new Error(notInitializedError('getAddress'));\n  }\n  isInitialized(): boolean {\n    return false;\n  }\n  async isConnected(): Promise<boolean> {\n    return false;\n  }\n  async sendTransaction(\n    transaction: Transaction,\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction> {\n    throw new Error(\n      notInitializedError(\n        `sendTransaction with transactions: ${transaction} options: ${options}`\n      )\n    );\n  }\n  async signTransaction(\n    transaction: Transaction,\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction> {\n    throw new Error(\n      notInitializedError(\n        `signTransaction with transactions: ${transaction} options: ${options}`\n      )\n    );\n  }\n  async signTransactions(\n    transactions: Transaction[],\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction[]> {\n    throw new Error(\n      notInitializedError(\n        `signTransactions with transactions: ${transactions} options: ${options}`\n      )\n    );\n  }\n  async signMessage(message: SignableMessage): Promise<SignableMessage> {\n    throw new Error(notInitializedError(`signTransactions with ${message}`));\n  }\n}\n\nexport const emptyProvider = new EmptyProvider();\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { ExtraActionsType } from 'types';\nimport { emptyProvider } from 'utils/provider';\n\ntype ExtraActionsSliceState = ExtraActionsType;\n\nconst initialState: ExtraActionsSliceState = {\n  log: () => null,\n  getProvider: () => emptyProvider,\n  init: () => null\n};\n\nexport const extraActionsSlice = createSlice({\n  name: 'extraActionsSlice',\n  initialState,\n  reducers: {\n    initializeExtraActions: (\n      state: ExtraActionsSliceState,\n      action: PayloadAction<ExtraActionsSliceState>\n    ) => {\n      return { ...state, ...action.payload };\n    }\n  }\n});\n\nexport const { initializeExtraActions } = extraActionsSlice.actions;\n\nexport default extraActionsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { NotificationTypesEnum } from 'types';\nimport { logoutAction } from '../commonActions';\n\nexport interface TxSubmittedModal {\n  sessionId: string;\n  submittedMessage: string;\n}\n\nexport interface NotificationModal {\n  type: NotificationTypesEnum;\n  iconClassName: string;\n  title: string;\n  description: string;\n}\n\nexport interface ModalsSliceState {\n  txSubmittedModal?: TxSubmittedModal;\n  notificationModal?: NotificationModal;\n}\n\nconst initialState: ModalsSliceState = {};\n\nexport const modalsSlice = createSlice({\n  name: 'modalsSlice',\n  initialState,\n  reducers: {\n    setTxSubmittedModal: (\n      state: ModalsSliceState,\n      action: PayloadAction<TxSubmittedModal>\n    ) => {\n      state.txSubmittedModal = action.payload;\n    },\n    setNotificationModal: (\n      state: ModalsSliceState,\n      action: PayloadAction<NotificationModal>\n    ) => {\n      state.notificationModal = action.payload;\n    },\n    clearTxSubmittedModal: (state: ModalsSliceState) => {\n      state.txSubmittedModal = undefined;\n    },\n    clearNotificationModal: (state: ModalsSliceState) => {\n      state.notificationModal = undefined;\n    }\n  },\n\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n  }\n});\n\nexport const {\n  setTxSubmittedModal,\n  setNotificationModal,\n  clearTxSubmittedModal,\n  clearNotificationModal\n} = modalsSlice.actions;\n\nexport default modalsSlice.reducer;\n","import {\n  IDappProvider,\n  IProvider,\n  IApiProvider,\n  ProxyProvider,\n  ApiProvider\n} from '@elrondnetwork/erdjs';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport omit from 'lodash/omit';\nimport {\n  AccountInfoSliceNetworkType,\n  BaseNetworkType,\n  NetworkType\n} from 'types';\nimport { getBridgeAddressFromNetwork } from 'utils/internal';\nimport { emptyProvider } from 'utils/provider';\nimport { logoutAction } from '../commonActions';\n\nexport const defaultNetwork: AccountInfoSliceNetworkType = {\n  id: 'not-configured',\n  name: 'NOT CONFIGURED',\n  egldLabel: '',\n  egldDenomination: '18',\n  decimals: '4',\n  gasPerDataByte: '1500',\n  walletConnectDeepLink: '',\n  walletConnectBridgeAddress: '',\n  walletAddress: '',\n\n  apiAddress: '',\n  explorerAddress: '',\n  apiTimeout: '4000'\n};\n\nexport interface NetworkConfigStateType {\n  provider: IDappProvider;\n  proxy: IProvider;\n  apiProvider: IApiProvider;\n  network: AccountInfoSliceNetworkType;\n  chainID: string;\n}\n\nconst initialState: NetworkConfigStateType = {\n  network: defaultNetwork,\n  proxy: new ProxyProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  apiProvider: new ApiProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  provider: emptyProvider,\n  chainID: '-1'\n};\n\nexport const networkConfigSlice = createSlice({\n  name: 'appConfig',\n  initialState: initialState,\n  reducers: {\n    initializeNetworkConfig: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<NetworkType>\n    ) => {\n      const walletConnectBridgeAddress = getBridgeAddressFromNetwork(\n        action.payload.walletConnectBridgeAddresses\n      );\n      const network: BaseNetworkType = omit(\n        action.payload,\n        'walletConnectBridgeAddresses'\n      );\n      const { apiAddress } = network;\n\n      if (apiAddress) {\n        state.proxy = new ProxyProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n        state.apiProvider = new ApiProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n      }\n      state.network = {\n        ...state.network,\n        ...network,\n        walletConnectBridgeAddress\n      };\n    },\n    setChainID: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<string>\n    ) => {\n      state.chainID = action.payload;\n    },\n    setProvider: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<IDappProvider>\n    ) => {\n      state.provider = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, (state) => {\n      state.provider = initialState.provider;\n    });\n  }\n});\n\nexport const { initializeNetworkConfig, setChainID, setProvider } =\n  networkConfigSlice.actions;\n\nexport default networkConfigSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { TransactionsDisplayInfoType } from 'types/transactions';\nimport { logoutAction } from '../commonActions';\n\nexport interface StateType {\n  [sessionId: string]: TransactionsDisplayInfoType;\n}\n\nexport interface SetTransactionsInfoPayloadType {\n  sessionId: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n}\n\nexport const defaultTransactionErrorMessage = 'Transaction failed';\nexport const defaultTransactionSuccessMessage = 'Transaction successful';\nexport const defaultTransactionProcessingMessage = 'Processing transaction';\nexport const defaultTransactionSubmittedMessage = 'Transaction submitted';\n\nconst initialState: StateType = {};\n\nexport const signTransactionsSlice = createSlice({\n  name: 'transactionsInfo',\n  initialState,\n  reducers: {\n    setTransactionsDisplayInfo(\n      state: StateType,\n      action: PayloadAction<SetTransactionsInfoPayloadType>\n    ) {\n      const { sessionId, transactionsDisplayInfo } = action.payload;\n      if (sessionId != null) {\n        state[sessionId] = {\n          errorMessage:\n            transactionsDisplayInfo?.errorMessage ||\n            defaultTransactionErrorMessage,\n          successMessage:\n            transactionsDisplayInfo?.successMessage ||\n            defaultTransactionSuccessMessage,\n          processingMessage:\n            transactionsDisplayInfo?.processingMessage ||\n            defaultTransactionProcessingMessage,\n          submittedMessage:\n            transactionsDisplayInfo?.submittedMessage ||\n            defaultTransactionSubmittedMessage,\n          transactionDuration: transactionsDisplayInfo?.transactionDuration\n        };\n      }\n    },\n    clearTransactionsInfoForSessionId(\n      state: StateType,\n      action: PayloadAction<string | undefined>\n    ) {\n      if (action.payload != null) {\n        delete state[action.payload];\n      }\n    },\n    clearTransactionsInfo: () => initialState\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n  }\n});\n\nexport const {\n  clearTransactionsInfo,\n  setTransactionsDisplayInfo,\n  clearTransactionsInfoForSessionId\n} = signTransactionsSlice.actions;\n\nexport default signTransactionsSlice.reducer;\n","import { Address, Transaction } from '@elrondnetwork/erdjs';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from './enums';\n\nexport interface TransactionsToSignType {\n  transactions: RawTransactionType[];\n  callbackRoute: string;\n  redirectAfterSign: boolean;\n  sessionId: string;\n  sessionInformation?: any;\n}\n\nexport interface SignedTransactionsBodyType {\n  transactions?: SignedTransactionType[];\n  status?: TransactionBatchStatusesEnum;\n  errorMessage?: string;\n  sessionInformation?: any;\n}\n\nexport interface SignedTransactionsType {\n  [sessionId: string]: SignedTransactionsBodyType;\n}\n\nexport interface TransactionParameter {\n  sender: Address;\n  receiver: Address;\n  functionName: string;\n  inputParameters: string[];\n  outputParameters: string[];\n}\n\nexport interface RawTransactionType {\n  signature?: string;\n  value: string;\n  receiver: string;\n  gasPrice: number;\n  gasLimit: number;\n  sender: string;\n  nonce: number;\n  data: string;\n  chainID: string;\n  version?: number;\n  options?: number;\n}\n\nexport interface SignedTransactionType extends RawTransactionType {\n  hash: string;\n  status: TransactionServerStatusesEnum;\n  errorMessage?: string;\n}\n\nexport interface TxDataTokenType {\n  tokenId: string;\n  amount: string;\n  receiver: string;\n  type?: MultiEsdtTxType['type'] | '';\n  nonce?: string;\n  multiTxData?: string;\n}\n\nexport type TxsDataTokensType = Record<string, TxDataTokenType> | undefined;\n\ninterface MultiEsdtType {\n  type:\n    | TransactionTypesEnum.esdtTransaction\n    | TransactionTypesEnum.nftTransaction;\n  receiver: string;\n  token?: string;\n  nonce?: string;\n  amount?: string;\n  data: string;\n}\n\ninterface MultiEsdtScCallType {\n  type: TransactionTypesEnum.scCall;\n  receiver: string;\n  token?: string;\n  nonce?: string;\n  amount?: string;\n  data: string;\n}\n\nexport type MultiEsdtTxType = MultiEsdtType | MultiEsdtScCallType;\n\nexport type MultiSignTxType = {\n  multiTxData?: string;\n  transactionIndex: number;\n  transaction: Transaction;\n};\n\nexport interface TokenOptionType {\n  name: string;\n  identifier: string;\n  balance: string;\n  decimals: number;\n  collection?: string;\n  avatar?: string;\n}\n\nexport interface SimpleTransactionType {\n  value: string;\n  receiver: string;\n  data?: string;\n  gasPrice?: number;\n  gasLimit?: number;\n  chainID?: string;\n  version?: number;\n  options?: number;\n}\n\nexport interface TransactionsDisplayInfoType {\n  errorMessage?: string;\n  successMessage?: string;\n  processingMessage?: string;\n  submittedMessage?: string;\n  transactionDuration?: number;\n}\n\nexport interface SendSimpleTransactionPropsType {\n  transactions: SimpleTransactionType[];\n  minGasLimit?: number;\n}\n\nexport interface SendTransactionsPropsType {\n  transactions:\n    | Transaction\n    | SimpleTransactionType\n    | (Transaction | SimpleTransactionType)[];\n  redirectAfterSign?: boolean;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n  minGasLimit?: number;\n  sessionInformation?: any;\n}\n\nexport interface SignTransactionsPropsType {\n  transactions: Transaction[] | Transaction;\n  minGasLimit?: number;\n  redirectAfterSign?: boolean;\n  callbackRoute?: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n  sessionInformation?: any;\n}\n\nexport enum TransactionTypesEnum {\n  MultiESDTNFTTransfer = 'MultiESDTNFTTransfer',\n  ESDTTransfer = 'ESDTTransfer',\n  ESDTNFTTransfer = 'ESDTNFTTransfer',\n  esdtTransaction = 'esdtTransaction',\n  nftTransaction = 'nftTransaction',\n  scCall = 'scCall'\n}\n\nexport interface ActiveLedgerTransactionType {\n  transaction: Transaction;\n  transactionTokenInfo: TxDataTokenType;\n  isTokenTransaction: boolean;\n  dataField: string;\n}\n\nexport interface SmartContractResult {\n  hash: string;\n  timestamp: number;\n  nonce: number;\n  gasLimit: number;\n  gasPrice: number;\n  value: string;\n  sender: string;\n  receiver: string;\n  data: string;\n  prevTxHash: string;\n  originalTxHash: string;\n  callType: string;\n  miniBlockHash: string;\n  returnMessage: string;\n}\n\nexport interface SignModalPropsType {\n  handleClose: () => void;\n  error: string | null;\n  callbackRoute?: string;\n  transactions: Transaction[];\n  className?: string;\n}\n","import { Address } from '@elrondnetwork/erdjs';\nimport { SmartContractResult, TypesOfSmartContractCallsEnum } from 'types';\n\nconst okInHex = '6f6b';\n\nexport function areScCallsSuccessful(scResults?: SmartContractResult[]) {\n  if (!scResults) {\n    return true;\n  }\n  let success = false;\n  scResults.forEach((result) => {\n    if (result?.data) {\n      const decoded = Buffer.from(result.data, 'base64').toString().split('@');\n      const hasOkPart = Boolean(decoded.find((part) => part === okInHex));\n      if (hasOkPart) {\n        success = true;\n        return;\n      }\n    }\n  });\n  return success;\n}\n\nexport function isContract(receiver: string, data = ''): boolean {\n  try {\n    const extractedAddress = getAddressFromDataField({ receiver, data });\n    if (!extractedAddress) {\n      return false;\n    }\n    return new Address(extractedAddress).isContractAddress();\n  } catch (err) {\n    console.log('err', err);\n    return false;\n  }\n}\n\nexport function getAddressFromDataField({\n  receiver,\n  data\n}: {\n  receiver: string;\n  data: string;\n}) {\n  try {\n    if (!data) {\n      return receiver;\n    }\n    const addressIndex = getAddressIndex(data);\n    const parts = data.split('@');\n    return addressIndex > -1 ? parts[addressIndex] : receiver;\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction getAddressIndex(data: string) {\n  return data.includes(TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer)\n    ? 1\n    : data.includes(TypesOfSmartContractCallsEnum.ESDTNFTTransfer)\n    ? 4\n    : -1;\n}\n\nexport default isContract;\n","import {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\n\nexport const pendingBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.sent\n];\nexport const successBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.success\n];\n\nexport const failBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.fail,\n  TransactionBatchStatusesEnum.cancelled,\n  TransactionBatchStatusesEnum.timedOut\n];\n\nexport const timedOutBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.timedOut\n];\n\nexport const pendingServerTransactionsStatuses = [\n  TransactionServerStatusesEnum.pending\n];\n\nexport const successServerTransactionsStates = [\n  TransactionServerStatusesEnum.success\n];\n\nexport const completedServerTransactionsStates = [\n  TransactionServerStatusesEnum.completed\n];\n\nexport const failServerTransactionsStates = [\n  TransactionServerStatusesEnum.fail,\n  TransactionServerStatusesEnum.invalid\n];\n\nexport function getIsTransactionCompleted(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return completedServerTransactionsStates.includes(\n    status as TransactionServerStatusesEnum\n  );\n}\n\nexport function getIsTransactionPending(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum,\n  isScCall = false\n) {\n  const isPending =\n    status != null &&\n    (isBatchTransactionPending(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionPending(status as TransactionServerStatusesEnum));\n  return isScCall\n    ? isPending ||\n        (getIsTransactionSuccessful(status) &&\n          !getIsTransactionCompleted(status))\n    : isPending;\n}\n\nexport function getIsTransactionSuccessful(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    (isBatchTransactionSuccessful(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionSuccessful(status as TransactionServerStatusesEnum))\n  );\n}\n\nexport function getIsTransactionFailed(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    (isBatchTransactionFailed(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionFailed(status as TransactionServerStatusesEnum))\n  );\n}\n\nexport function getIsTransactionTimedOut(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    isBatchTransactionTimedOut(status as TransactionBatchStatusesEnum)\n  );\n}\n\nexport function isBatchTransactionPending(\n  status?: TransactionBatchStatusesEnum\n) {\n  return status != null && pendingBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionSuccessful(\n  status: TransactionBatchStatusesEnum\n) {\n  return status != null && successBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionFailed(status: TransactionBatchStatusesEnum) {\n  return status != null && failBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionTimedOut(\n  status?: TransactionBatchStatusesEnum\n) {\n  return status != null && timedOutBatchTransactionsStates.includes(status);\n}\n\nexport function isServerTransactionPending(\n  status?: TransactionServerStatusesEnum\n) {\n  return status != null && pendingServerTransactionsStatuses.includes(status);\n}\nexport function isServerTransactionSuccessful(\n  status: TransactionServerStatusesEnum\n) {\n  return status != null && successServerTransactionsStates.includes(status);\n}\n\nexport function isServerTransactionFailed(\n  status: TransactionServerStatusesEnum\n) {\n  return status != null && failServerTransactionsStates.includes(status);\n}\n","const base64Regex =\n  /(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)/;\n\nexport function isStringBase64(string: string) {\n  return base64Regex.test(string);\n}\n\nexport function encodeToBase64(string: string) {\n  return btoa(string);\n}\n\nexport function decodeBase64(string: string) {\n  return atob(string);\n}\n","const isUtf8 = (str: string) => {\n  for (let i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) > 127) return false;\n  }\n  return true;\n};\n\nexport function decodePart(part: string) {\n  let decodedPart = part;\n\n  try {\n    const hexPart = Buffer.from(part, 'hex').toString().trim();\n\n    if (isUtf8(hexPart) && hexPart.length > 1) {\n      decodedPart = hexPart;\n    }\n  } catch (error) {}\n\n  return decodedPart;\n}\n\nexport default decodePart;\n","export const getAllStringOccurrences = (sourceStr: string, searchStr: string) =>\n  [...sourceStr.matchAll(new RegExp(searchStr, 'gi'))].map((a) => a.index);\n","import BigNumber from 'bignumber.js';\nimport { MultiEsdtTxType, TransactionTypesEnum } from 'types/transactions';\nimport { decodePart } from 'utils/decoders';\nimport { getAllStringOccurrences } from '../getAllStringOccurrences';\n\n// TODO: add tests\nexport function parseMultiEsdtTransferData(data?: string) {\n  const transactions: MultiEsdtTxType[] = [];\n  let contractCallDataIndex = 0;\n  try {\n    if (\n      data?.startsWith(TransactionTypesEnum.MultiESDTNFTTransfer) &&\n      data?.includes('@')\n    ) {\n      const [, receiver, encodedTxCount, ...rest] = data?.split('@');\n      if (receiver) {\n        const txCount = new BigNumber(encodedTxCount, 16).toNumber();\n\n        let itemIndex = 0;\n        for (let txIndex = 0; txIndex < txCount; txIndex++) {\n          const transaction: MultiEsdtTxType = {\n            type: TransactionTypesEnum.nftTransaction,\n            data: '',\n            receiver\n          };\n\n          for (let index = 0; index < 3; index++) {\n            switch (index) {\n              case 0:\n                transaction.token = decodePart(rest[itemIndex]);\n                transaction.data = rest[itemIndex];\n                break;\n              case 1: {\n                const encodedNonce =\n                  rest[itemIndex] && rest[itemIndex].length\n                    ? rest[itemIndex]\n                    : '';\n                if (encodedNonce) {\n                  transaction.nonce = encodedNonce;\n                } else {\n                  transaction.type = TransactionTypesEnum.esdtTransaction;\n                }\n                transaction.data = `${transaction.data}@${rest[itemIndex]}`;\n                break;\n              }\n              case 2:\n                transaction.amount = new BigNumber(\n                  rest[itemIndex],\n                  16\n                ).toString(10);\n                transaction.data = `${transaction.data}@${rest[itemIndex]}`;\n                break;\n              default:\n                break;\n            }\n            contractCallDataIndex = itemIndex + 1;\n            itemIndex++;\n          }\n          transactions[txIndex] = transaction;\n        }\n        if (\n          transactions.length !== txCount ||\n          transactions.some(\n            (tx) => getAllStringOccurrences(tx.data, '@').length !== 2\n          ) ||\n          transactions.some((tx) => tx.data.startsWith('@'))\n        ) {\n          return [];\n        }\n        if (rest[contractCallDataIndex]) {\n          let scCallData = rest[contractCallDataIndex];\n          for (let i = contractCallDataIndex + 1; i < rest.length; i++) {\n            scCallData += '@' + rest[i];\n          }\n          transactions[txCount] = {\n            type: TransactionTypesEnum.scCall,\n            data: scCallData,\n            receiver\n          };\n        }\n      }\n    }\n  } catch (err) {\n    return transactions;\n  }\n  return transactions;\n}\n\nexport default parseMultiEsdtTransferData;\n","import BigNumber from 'bignumber.js';\nimport { TransactionTypesEnum } from '../../types/transactions';\n\nconst noData = {\n  tokenId: '',\n  amount: ''\n};\n\n// TODO: add tests\nexport function getTokenFromData(data?: string): {\n  tokenId: string;\n  amount: string;\n} {\n  const tokenTransfer = data?.includes(TransactionTypesEnum.ESDTTransfer);\n  const nftTransfer = data?.includes(TransactionTypesEnum.ESDTNFTTransfer);\n\n  if (data != null && (tokenTransfer || nftTransfer)) {\n    try {\n      const encodedToken = data.split('@')[1];\n      const encodedAmount = data.split('@')[tokenTransfer ? 2 : 3];\n      const tokenId = Buffer.from(encodedToken, 'hex').toString('ascii');\n\n      if (tokenId) {\n        const amount = new BigNumber(\n          '0x' + encodedAmount.replace('0x', '')\n        ).toString(10);\n        return {\n          tokenId,\n          amount\n        };\n      } else {\n        return noData;\n      }\n    } catch (e) {\n      return noData;\n    }\n  }\n  return noData;\n}\nexport default getTokenFromData;\n","export function isTokenTransfer({\n  tokenId,\n  erdLabel\n}: {\n  tokenId: string | undefined;\n  erdLabel: string;\n}) {\n  return Boolean(tokenId && tokenId !== erdLabel);\n}\n\nexport default isTokenTransfer;\n","function buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams as any);\n\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n\n  return { nextUrlParams, params };\n}\n\ninterface ReplyUrlType {\n  callbackUrl: string;\n  urlParams?: { [key: string]: string };\n}\n\nexport function buildReplyUrl({ callbackUrl, urlParams = {} }: ReplyUrlType) {\n  let url = callbackUrl;\n  if (Object.entries(urlParams).length > 0) {\n    const { search, origin, pathname } = new URL(callbackUrl);\n    const { nextUrlParams } = buildUrlParams(search, urlParams);\n    url = `${origin}${pathname}?${nextUrlParams}`;\n  }\n  return url;\n}\n\nexport default buildReplyUrl;\n","import {\n  Transaction,\n  TransactionOptions,\n  TransactionVersion\n} from '@elrondnetwork/erdjs';\nimport { TransactionServerStatusesEnum } from 'types/enums';\n\nexport function parseTransactionAfterSigning(\n  transaction: Transaction,\n  isLedger = false\n) {\n  // TODO: REMOVE\n  //#region REMOVE when options is available in erdjs getTransactionsFromWalletUrl\n  if (isLedger) {\n    transaction.version = TransactionVersion.withTxHashSignVersion();\n    transaction.options = TransactionOptions.withTxHashSignOptions();\n  }\n  //#endregion\n  const parsedTransaction = transaction.toPlainObject();\n  parsedTransaction.hash = transaction.getHash().toString();\n  parsedTransaction.status = TransactionServerStatusesEnum.pending;\n  return parsedTransaction;\n}\n\nexport default parseTransactionAfterSigning;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REHYDRATE } from 'redux-persist';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport {\n  SignedTransactionsType,\n  SignedTransactionType,\n  TransactionsToSignType\n} from 'types/transactions';\nimport { isContract } from 'utils/smartContracts';\nimport {\n  getIsTransactionFailed,\n  getIsTransactionSuccessful,\n  getIsTransactionCompleted\n} from 'utils/transactions';\nimport { logoutAction } from '../commonActions';\n\nexport interface UpdateSignedTransactionsPayloadType {\n  sessionId: string;\n  status: TransactionBatchStatusesEnum;\n  errorMessage?: string;\n  transactions?: SignedTransactionType[];\n}\n\nexport interface UpdateSignedTransactionStatusPayloadType {\n  sessionId: string;\n  transactionHash: string;\n  status: TransactionServerStatusesEnum;\n  errorMessage?: string;\n}\n\nexport interface TransactionsSliceStateType {\n  signedTransactions: SignedTransactionsType;\n  transactionsToSign: TransactionsToSignType | null;\n  signTransactionsError: string | null;\n}\n\nconst initialState: TransactionsSliceStateType = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null\n};\n\nexport const transactionsSlice = createSlice({\n  name: 'transactionsSlice',\n  initialState,\n  reducers: {\n    updateSignedTransaction: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<SignedTransactionsType>\n    ) => {\n      state.signedTransactions = {\n        ...state.signedTransactions,\n        ...action.payload\n      };\n    },\n    updateSignedTransactions: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<UpdateSignedTransactionsPayloadType>\n    ) => {\n      const { sessionId, status, errorMessage, transactions } = action.payload;\n      const transaction = state.signedTransactions[sessionId];\n      if (transaction != null) {\n        state.signedTransactions[sessionId].status = status;\n        if (errorMessage != null) {\n          state.signedTransactions[sessionId].errorMessage = errorMessage;\n        }\n        if (transactions != null) {\n          state.signedTransactions[sessionId].transactions = transactions;\n        }\n      }\n    },\n    updateSignedTransactionStatus: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<UpdateSignedTransactionStatusPayloadType>\n    ) => {\n      const { sessionId, status, errorMessage, transactionHash } =\n        action.payload;\n      const transactions = state.signedTransactions?.[sessionId]?.transactions;\n      if (transactions != null) {\n        state.signedTransactions[sessionId].transactions = transactions.map(\n          (transaction) => {\n            if (transaction.hash === transactionHash) {\n              return {\n                ...transaction,\n                status,\n                errorMessage\n              };\n            }\n            return transaction;\n          }\n        );\n        const areTransactionsSuccessful = state.signedTransactions[\n          sessionId\n        ]?.transactions?.every((transaction) => {\n          const isScCall = isContract(transaction.receiver, transaction.data);\n          return isScCall\n            ? getIsTransactionCompleted(transaction.status)\n            : getIsTransactionSuccessful(transaction.status);\n        });\n\n        const areTransactionsFailed = state.signedTransactions[\n          sessionId\n        ]?.transactions?.every((transaction) =>\n          getIsTransactionFailed(transaction.status)\n        );\n        if (areTransactionsSuccessful) {\n          state.signedTransactions[sessionId].status =\n            TransactionBatchStatusesEnum.success;\n        }\n        if (areTransactionsFailed) {\n          state.signedTransactions[sessionId].status =\n            TransactionBatchStatusesEnum.fail;\n        }\n      }\n    },\n    setTransactionsToSign: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<TransactionsToSignType>\n    ) => {\n      state.transactionsToSign = action.payload;\n      state.signTransactionsError = null;\n    },\n    clearSignTransactions: (state) => {\n      state.transactionsToSign = initialState.transactionsToSign;\n      state.signTransactionsError = null;\n    },\n    setSignTransactionsError: (state, action: PayloadAction<string | null>) => {\n      state.signTransactionsError = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(REHYDRATE, (state, action: any) => {\n      if (!action.payload?.transactions) {\n        return;\n      }\n\n      const { signedTransactions } = action.payload.transactions;\n      const parsedSignedTransactions = Object.entries(\n        signedTransactions\n      ).reduce((acc, [sessionId, transaction]) => {\n        const txTimestamp: any = new Date(sessionId);\n        const expiration: any = new Date();\n        expiration.setHours(expiration.getHours() + 5);\n        const isExpired = expiration - txTimestamp > 0;\n        if (!isExpired) {\n          acc[sessionId] = transaction;\n        }\n        return acc;\n      }, {});\n      if (signedTransactions != null) {\n        state.signedTransactions = parsedSignedTransactions;\n      }\n    });\n  }\n});\n\nexport const {\n  updateSignedTransaction,\n  updateSignedTransactionStatus,\n  updateSignedTransactions,\n  setTransactionsToSign,\n  clearSignTransactions,\n  setSignTransactionsError\n} = transactionsSlice.actions;\n\nexport default transactionsSlice.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { persistReducer } from 'redux-persist';\nimport sessionStorage from 'redux-persist/lib/storage/session';\nimport account from './slices/accountInfoSlice';\nimport extraActions from './slices/extraActionsSlice';\nimport loginInfo from './slices/loginInfoSlice';\nimport modals from './slices/modalsSlice';\nimport networkConfig from './slices/networkConfigSlice';\nimport transactionsInfo from './slices/transactionsInfoSlice';\nimport transactions from './slices/transactionsSlice';\n\n//#region custom reducers\nconst transactionsInfoPersistConfig = {\n  key: 'dapp-core-transactionsInfo',\n  version: 1,\n  storage: sessionStorage\n};\nconst transactionsReducer = {\n  key: 'dapp-core-transactions',\n  version: 1,\n  storage: sessionStorage,\n  blacklist: ['transactionsToSign']\n};\nconst customReducers = {\n  transactions: persistReducer(transactionsReducer, transactions),\n  transactionsInfo: persistReducer(\n    transactionsInfoPersistConfig,\n    transactionsInfo\n  )\n};\n//#endregion\n\nconst rootReducer = combineReducers({\n  ...customReducers,\n  account,\n  networkConfig,\n  extraActions,\n  loginInfo,\n  modals\n});\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport loginSessionMiddleware from './middlewares/loginSessionMiddleware';\nimport rootReducer from './reducers';\n\nconst persistConfig = {\n  key: 'dapp-core-store',\n  version: 1,\n  storage,\n  whitelist: ['account', 'loginInfo', 'toasts', 'modals']\n};\n\nconst localStorageReducers = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: localStorageReducers,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [\n          FLUSH,\n          REHYDRATE,\n          PAUSE,\n          PERSIST,\n          PURGE,\n          REGISTER,\n          'appConfig/setProvider',\n          'accountInfoSlice/setAccount',\n          'accountInfoSlice/setAccountNonce',\n          'extraActionsSlice/initializeExtraActions'\n        ],\n        ignoredPaths: [\n          'networkConfig.proxy',\n          'networkConfig.apiProvider',\n          'networkConfig.provider',\n          'payload.nonce',\n          'account.account.nonce',\n          // extra actions\n          'extraActions.log',\n          'payload.log',\n          'payload.onLogin',\n\n          'extraActions.getProvider',\n          'extraActions.init'\n        ]\n      }\n    }).concat(loginSessionMiddleware)\n});\n\nexport const persistor = persistStore(store);\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type StoreType = typeof store;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createSelector } from 'reselect';\nimport { RootState } from '../store';\n\nexport const extraActionsSelector = (state: RootState) => state.extraActions;\n\nexport const extraActionsInit = createSelector(\n  extraActionsSelector,\n  (state) => state.init\n);\n","import {\n  Transaction,\n  GasLimit,\n  GasPrice,\n  Address,\n  TransactionPayload,\n  Balance,\n  ChainID,\n  TransactionVersion\n} from '@elrondnetwork/erdjs';\nimport { Nonce, TransactionOptions } from '@elrondnetwork/erdjs/out';\nimport { RawTransactionType } from 'types/transactions';\n\nexport default function newTransaction(rawTransaction: RawTransactionType) {\n  const { data } = rawTransaction;\n  const parsedData = data ? atob(data) : '';\n  return new Transaction({\n    value: Balance.fromString(rawTransaction.value),\n    data: new TransactionPayload(parsedData),\n    nonce: new Nonce(rawTransaction.nonce),\n    receiver: new Address(rawTransaction.receiver),\n    gasLimit: new GasLimit(rawTransaction.gasLimit),\n    gasPrice: new GasPrice(rawTransaction.gasPrice),\n    chainID: new ChainID(rawTransaction.chainID),\n    ...(rawTransaction.version\n      ? { version: new TransactionVersion(rawTransaction.version) }\n      : {}),\n    ...(rawTransaction.options\n      ? { options: new TransactionOptions(rawTransaction.options) }\n      : {})\n  });\n}\n","import { Transaction } from '@elrondnetwork/erdjs/out';\nimport newTransaction from 'models/newTransaction';\nimport { SignedTransactionsType } from 'types/transactions';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending,\n  getIsTransactionSuccessful,\n  getIsTransactionTimedOut\n} from 'utils/transactions';\nimport { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport interface TransactionsToSignReturnType {\n  callbackRoute: string;\n  sessionId: string;\n  redirectAfterSign: boolean;\n  transactions: Transaction[];\n  sessionInformation?: any;\n}\n\nexport const transactionsSelectors = (state: RootState) => state.transactions;\n\nexport const signedTransactionsSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state) => state.signedTransactions\n);\n\nexport const signTransactionsErrorSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state) => state.signTransactionsError\n);\n\nexport const pendingSignedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionPending(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const successfulTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionSuccessful(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const completedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionCompleted(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const failedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionFailed(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const timedOutTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionTimedOut(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const transactionsToSignSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state): TransactionsToSignReturnType | null => {\n    if (state?.transactionsToSign == null) {\n      return null;\n    }\n    return {\n      ...state.transactionsToSign,\n      transactions:\n        state?.transactionsToSign?.transactions.map((tx) =>\n          newTransaction(tx)\n        ) || []\n    };\n  }\n);\n\nexport const transactionStatusSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (_: RootState, transactionSessionId: string | null) => transactionSessionId,\n  (\n    signedTransactions: SignedTransactionsType,\n    transactionSessionId: string | null\n  ) =>\n    transactionSessionId != null\n      ? signedTransactions?.[transactionSessionId] || {}\n      : {}\n);\n","import { createDeepEqualSelector } from 'redux/selectors/helpers';\nimport {\n  defaultTransactionErrorMessage,\n  defaultTransactionProcessingMessage,\n  defaultTransactionSuccessMessage\n} from 'redux/slices';\nimport { RootState } from '../store';\n\nconst defaultTransactionInfo = {\n  errorMessage: defaultTransactionErrorMessage,\n  successMessage: defaultTransactionSuccessMessage,\n  processingMessage: defaultTransactionProcessingMessage\n};\n\nexport const transactionsInfoSelectors = (state: RootState) =>\n  state.transactionsInfo;\n\nexport const transactionDisplayInfoSelector = createDeepEqualSelector(\n  transactionsInfoSelectors,\n  (_: RootState, transactionSessionId: string | null) => transactionSessionId,\n  (transactionsDisplayInfo: any, transactionSessionId: string | null) =>\n    transactionSessionId != null\n      ? transactionsDisplayInfo?.[Number(transactionSessionId)] ||\n        defaultTransactionInfo\n      : defaultTransactionInfo\n);\n","import { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const modalsSliceSelector = (state: RootState) => state.modals;\n\nexport const txSubmittedModalSelector = createDeepEqualSelector(\n  modalsSliceSelector,\n  (state) => state.txSubmittedModal\n);\n\nexport const notificationModalSelector = createDeepEqualSelector(\n  modalsSliceSelector,\n  (state) => state.notificationModal\n);\n","import { isLoggedInSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getIsLoggedIn() {\n  return isLoggedInSelector(store.getState());\n}\n","import { logoutAction } from 'redux/commonActions';\nimport { providerSelector } from 'redux/selectors/networkConfigSelectors';\nimport { store } from 'redux/store';\nimport { getIsLoggedIn } from 'utils/getIsLoggedIn';\n\nexport async function logout(\n  callbackUrl?: string,\n  onRedirect?: (callbackUrl?: string) => void\n) {\n  const provider = providerSelector(store.getState());\n  const isLoggedIn = getIsLoggedIn();\n  if (!isLoggedIn) {\n    return;\n  }\n  store.dispatch(logoutAction());\n  try {\n    await provider.logout({ callbackUrl });\n    if (callbackUrl) {\n      if (onRedirect) {\n        onRedirect(callbackUrl);\n      } else {\n        window.location.href = callbackUrl;\n      }\n    }\n  } catch (err) {\n    console.error('error logging out', err);\n  }\n}\n","export function buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams: any = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams);\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n  return { nextUrlParams, params };\n}\n","interface SwitchTrueType {\n  default: any;\n  [key: string]: any;\n}\n\ntype ReturnKeys = 'true' | 'false';\n\nexport function switchTrue(object: SwitchTrueType) {\n  const { default: defaultValue, ...rest } = object;\n  const obj = { default: defaultValue, ...rest };\n  const result = Object.keys(obj).reduce((acc, cur) => {\n    return {\n      ...acc,\n      [cur === 'default' ? 'true' : cur]: (obj as any)[cur as ReturnKeys]\n    };\n  }, {} as Record<ReturnKeys, any>);\n  return result['true'];\n}\n","import { Address } from '@elrondnetwork/erdjs';\n\nfunction canTransformToPublicKey(address: string) {\n  try {\n    const checkAddress = new Address(address);\n    return Boolean(checkAddress.bech32());\n  } catch {\n    return false;\n  }\n}\n\nexport function addressIsValid(destinationAddress: string) {\n  const isValidBach =\n    destinationAddress?.startsWith('erd') &&\n    destinationAddress.length === 62 &&\n    /^\\w+$/.test(destinationAddress);\n\n  return isValidBach && canTransformToPublicKey(destinationAddress);\n}\n","import { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getNetworkProxy() {\n  return proxySelector(store.getState());\n}\n","import { apiProviderSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getApiProvider() {\n  return apiProviderSelector(store.getState());\n}\n","import { providerSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getAccountProvider() {\n  return providerSelector(store.getState());\n}\n","import { getProviderType } from 'utils/provider';\nimport { getAccountProvider } from './getAccountProvider';\n\nexport function getAccountProviderType() {\n  const provider = getAccountProvider();\n  return getProviderType(provider);\n}\n","import { chainIDSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getChainID() {\n  return chainIDSelector(store.getState());\n}\n","import { networkSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getNetworkConfig() {\n  return networkSelector(store.getState());\n}\n","import { egldLabelSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getEgldLabel() {\n  return egldLabelSelector(store.getState());\n}\n","import { getAccountProviderType } from './getAccountProviderType';\n\nexport function getIsProviderEqualTo(comparedProviderType: any) {\n  const providerType = getAccountProviderType();\n  return providerType === comparedProviderType;\n}\n","import {\n  addressSelector,\n  isLoggedInSelector,\n  providerSelector,\n  walletLoginSelector\n} from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { getIsProviderEqualTo } from 'utils/network';\nimport { addressIsValid } from './addressIsValid';\n\nexport function getAddress(): Promise<string> {\n  const { search } = window.location;\n  const appState = store.getState();\n  const provider = providerSelector(appState);\n  const address = addressSelector(appState);\n  const loggedIn = isLoggedInSelector(appState);\n  const walletLogin = walletLoginSelector(appState);\n\n  if (getIsProviderEqualTo(LoginMethodsEnum.ledger) && loggedIn) {\n    return new Promise((resolve) => {\n      resolve(address);\n    });\n  }\n\n  return !getIsProviderEqualTo(LoginMethodsEnum.none) &&\n    !getIsProviderEqualTo(LoginMethodsEnum.wallet) &&\n    !getIsProviderEqualTo(LoginMethodsEnum.extra)\n    ? // TODO: does not take into account ledger locked see link for details:\n      // https://github.com/ElrondNetwork/dapp/blob/d5c57695a10055f20d387ba064b6843606789ee9/src/helpers/accountMethods.tsx#L21\n      provider.getAddress()\n    : new Promise((resolve) => {\n        if (walletLogin != null) {\n          const urlSearchParams = new URLSearchParams(search);\n          const params = Object.fromEntries(urlSearchParams as any);\n          if (addressIsValid(params.address)) {\n            resolve(params.address);\n          }\n        }\n        if (loggedIn) {\n          resolve(address);\n        }\n        resolve('');\n      });\n}\n\nexport default getAddress;\n","import { Address } from '@elrondnetwork/erdjs';\nimport { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getAccount(address: string) {\n  const proxy = proxySelector(store.getState());\n  return proxy.getAccount(new Address(address));\n}\n\nexport default getAccount;\n","import { setAccountNonce } from 'redux/slices';\nimport { store } from 'redux/store';\n\n// this is is needed to allow the users to set the nonce dynamically from outside the library\n// without getting access to store.dispatch function\nexport function setNonce(nonce: number) {\n  store.dispatch(setAccountNonce(nonce));\n}\n","import { AccountOnNetwork } from '@elrondnetwork/erdjs';\nimport { accountNonceSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getLatestNonce(account: AccountOnNetwork) {\n  const appState = store.getState();\n  const currentAccountNonce = accountNonceSelector(appState);\n  return currentAccountNonce && !isNaN(currentAccountNonce)\n    ? Math.max(currentAccountNonce, account.nonce.valueOf())\n    : account.nonce.valueOf();\n}\n\nexport default getLatestNonce;\n","import { accountSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { getAccount } from './getAccount';\n\nexport async function getAccountBalance(address?: string) {\n  let accountAddress = address;\n  if (accountAddress == null) {\n    const account = accountSelector(store.getState());\n    accountAddress = account.address;\n  }\n  const account = await getAccount(accountAddress);\n  return account.balance.toString();\n}\n","import { providerSelector } from 'redux/selectors';\nimport { setAccount } from 'redux/slices';\nimport { store } from 'redux/store';\nimport getAccount from './getAccount';\nimport getAddress from './getAddress';\nimport getLatestNonce from './getLatestNonce';\n\nconst setNewAccount = async () => {\n  try {\n    const address = await getAddress();\n    try {\n      const account = await getAccount(address);\n      const accountData = {\n        balance: account.balance.toString(),\n        address,\n        nonce: getLatestNonce(account)\n      };\n      store.dispatch(setAccount(accountData));\n      return accountData;\n    } catch (e) {\n      console.error('Failed getting account ', e);\n    }\n  } catch (e) {\n    console.error('Failed getting address ', e);\n  }\n  return null;\n};\n\nexport async function refreshAccount() {\n  const provider = providerSelector(store.getState());\n  if (provider.isInitialized()) {\n    return setNewAccount();\n  } else {\n    try {\n      const initialized = await provider.init();\n      if (!initialized) {\n        return;\n      }\n      return setNewAccount();\n    } catch (e) {\n      console.error('Failed initializing provider ', e);\n    }\n  }\n  return undefined;\n}\n","const isAddressOfMetachain = (pubKey: Buffer) => {\n  // prettier-ignore\n  const metachainPrefix = Buffer.from([\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n  ]);\n  const pubKeyPrefix = pubKey.slice(0, metachainPrefix.length);\n  if (pubKeyPrefix.equals(metachainPrefix)) {\n    return true;\n  }\n  const zeroAddress = Buffer.alloc(32).fill(0);\n  return pubKey.equals(zeroAddress);\n};\nexport const getShardOfAddress = (hexPubKey: any) => {\n  try {\n    const numShards = 3;\n    const maskHigh = parseInt('11', 2);\n    const maskLow = parseInt('01', 2);\n    const pubKey = Buffer.from(hexPubKey, 'hex');\n    const lastByteOfPubKey = pubKey[31];\n    if (isAddressOfMetachain(pubKey)) {\n      return 4294967295;\n    }\n    let shard = lastByteOfPubKey & maskHigh;\n    if (shard > numShards - 1) {\n      shard = lastByteOfPubKey & maskLow;\n    }\n    return shard;\n  } catch (err) {\n    return -1;\n  }\n};\n","export const logarithmicRest = (position: number) => {\n  const minp = 0;\n  const maxp = 10;\n\n  const minv = Math.log(0.005);\n  const maxv = Math.log(2);\n\n  const scale = (maxv - minv) / (maxp - minp);\n\n  return Math.exp(minv + scale * (position - minp));\n};\n","const ledgerErrorCodes = {\n  0x9000: {\n    code: 'codeSuccess',\n    message: 'Success'\n  },\n  0x6985: {\n    code: 'ERR_USER_DENIED',\n    message: 'Rejected by user'\n  },\n  0x6d00: {\n    code: 'ERR_UNKNOWN_INSTRUCTION',\n    message: 'Unknown instruction'\n  },\n  0x6e00: {\n    code: 'ERR_WRONG_CLA',\n    message: 'Wrong CLA'\n  },\n  0x6e01: {\n    code: 'ERR_INVALID_ARGUMENTS',\n    message: 'Invalid arguments'\n  },\n  0x6e02: {\n    code: 'ERR_INVALID_MESSAGE',\n    message: 'Invalid message'\n  },\n  0x6e03: {\n    code: 'ERR_INVALID_P1',\n    message: 'Invalid P1'\n  },\n  0x6e04: {\n    code: 'ERR_MESSAGE_TOO_LONG',\n    message: 'Message too long'\n  },\n  0x6e05: {\n    code: 'ERR_RECEIVER_TOO_LONG',\n    message: 'Receiver too long'\n  },\n  0x6e06: {\n    code: 'ERR_AMOUNT_TOO_LONG',\n    message: 'Amount too long'\n  },\n  0x6e07: {\n    code: 'ERR_CONTRACT_DATA_DISABLED',\n    message: 'Contract data disabled in app options'\n  },\n  0x6e08: {\n    code: 'ERR_MESSAGE_INCOMPLETE',\n    message: 'Message incomplete'\n  },\n  0x6e10: {\n    code: 'ERR_SIGNATURE_FAILED',\n    message: 'Signature failed'\n  },\n  0x6e09: {\n    code: 'ERR_WRONG_TX_VERSION',\n    message: 'Wrong TX version'\n  },\n  0x6e0a: {\n    code: 'ERR_NONCE_TOO_LONG',\n    message: 'Nonce too long'\n  },\n  0x6e0b: {\n    code: 'ERR_INVALID_AMOUNT',\n    message: 'Invalid amount'\n  },\n  0x6e0c: {\n    code: 'ERR_INVALID_FEE',\n    message: 'Invalid fee'\n  },\n  0x6e0d: {\n    code: 'ERR_PRETTY_FAILED',\n    message: 'Pretty failed'\n  },\n  0x6e0e: {\n    code: 'ERR_DATA_TOO_LONG',\n    message: 'Data too long'\n  },\n  0x6e0f: {\n    code: 'ERR_WRONG_TX_OPTIONS',\n    message: 'Invalid transaction options'\n  },\n  0x6e11: {\n    code: 'ERR_SIGN_TX_DEPRECATED',\n    message:\n      'Regular transaction signing is deprecated in this version. Use hash signing.'\n  }\n};\n\nexport default ledgerErrorCodes;\n","import { EnvironmentsEnum, NetworkType } from 'types';\n\nexport const DEFAULT_MIN_GAS_LIMIT = 50_000;\n\nexport const configEndpoint: Record<EnvironmentsEnum, string> = {\n  mainnet: 'https://api.elrond.com/dapp/config',\n  testnet: 'https://testnet-api.elrond.com/dapp/config',\n  devnet: 'https://devnet-api.elrond.com/dapp/config'\n};\n\nexport const fallbackConfigurations: Record<string, NetworkType> = {\n  devnet: {\n    id: 'devnet',\n    name: 'Devnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://devnet-wallet.elrond.com',\n    apiAddress: 'https://devnet-api.elrond.com',\n    explorerAddress: 'http://devnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  testnet: {\n    id: 'testnet',\n    name: 'Testnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://testnet-wallet.elrond.com',\n    apiAddress: 'https://testnet-api.elrond.com',\n    explorerAddress: 'http://testnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  mainnet: {\n    id: 'mainnet',\n    name: 'Mainnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://wallet.elrond.com',\n    apiAddress: 'https://api.elrond.com',\n    explorerAddress: 'https://explorer.elrond.com',\n    apiTimeout: '4000'\n  }\n};\n","import * as ledgerErrorCodes from './ledgerErrorCodes';\nimport * as networkConstants from './network';\n\nexport { networkConstants, ledgerErrorCodes };\n\nexport const gasPriceModifier = '0.01';\nexport const gasPerDataByte = '1500';\nexport const gasLimit = '50000';\nexport const defaultGasPrice = 1_000_000_000;\nexport const defaultGasLimit = 60_000_000;\nexport const denomination = 18;\nexport const decimals = 4;\n\nexport const dappInitRoute = '/dapp/init';\nexport const walletSignSession = 'signSession';\n","export function pipe<ValueType>(previous: ValueType) {\n  return {\n    if: function (condition: boolean) {\n      if (condition) {\n        return {\n          then: (newValue: ValueType | ((prop: ValueType) => ValueType)) =>\n            // if a callback is passed, callback is executed with previous value\n            newValue instanceof Function\n              ? pipe(newValue(previous))\n              : pipe(newValue)\n        };\n      } else {\n        return {\n          then: () => pipe(previous)\n        };\n      }\n    },\n\n    then: (newValue: ValueType | ((prop: ValueType) => ValueType)) =>\n      newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue),\n\n    valueOf: function () {\n      return previous;\n    }\n  };\n}\nexport default pipe;\n","import { validation } from '@elrondnetwork/dapp-utils';\nimport { Balance, Token } from '@elrondnetwork/erdjs';\nimport BigNumber from 'bignumber.js';\nimport {\n  denomination as configDenomination,\n  decimals as configDecimals\n} from 'constants/index';\nimport pipe from './pipe';\n\nBigNumber.config({ ROUNDING_MODE: BigNumber.ROUND_FLOOR });\n\nexport function denominate({\n  input,\n  denomination = configDenomination,\n  decimals = configDecimals,\n  showLastNonZeroDecimal = true,\n  addCommas = false\n}: {\n  input: string | Balance;\n  denomination?: number;\n  decimals?: number;\n  showLastNonZeroDecimal?: boolean;\n  addCommas?: boolean;\n}) {\n  const token = new Token({ decimals: denomination });\n\n  if (typeof input === 'string' && !validation.stringIsInteger(input, false)) {\n    throw new Error('Invalid input');\n  }\n\n  return (\n    pipe(input as string)\n      // denominate\n      .if(typeof input === 'string')\n      .then(() =>\n        new Balance(token, 0, new BigNumber(input as string)).toDenominated()\n      )\n\n      .if(input.constructor === Balance)\n      .then(() => (input as Balance).toDenominated())\n\n      // format\n      .then((current) => {\n        const bnBalance = new BigNumber(current);\n\n        if (bnBalance.isZero()) {\n          return '0';\n        }\n        const balance = bnBalance.toString(10);\n        const [integerPart, decimalPart] = balance.split('.');\n        const bNdecimalPart = new BigNumber(decimalPart || 0);\n\n        const decimalPlaces = pipe(0)\n          .if(Boolean(decimalPart && showLastNonZeroDecimal))\n          .then(() => Math.max(decimalPart.length, decimals))\n\n          .if(bNdecimalPart.isZero() && !showLastNonZeroDecimal)\n          .then(0)\n\n          .if(Boolean(decimalPart && !showLastNonZeroDecimal))\n          .then(() => Math.min(decimalPart.length, decimals))\n\n          .valueOf();\n\n        const shownDecimalsAreZero =\n          decimalPart &&\n          decimals >= 1 &&\n          decimals <= decimalPart.length &&\n          bNdecimalPart.isGreaterThan(0) &&\n          new BigNumber(decimalPart.substring(0, decimals)).isZero();\n\n        const formatted = bnBalance.toFormat(decimalPlaces);\n\n        const formattedBalance = pipe(balance)\n          .if(addCommas)\n          .then(formatted)\n\n          .if(Boolean(shownDecimalsAreZero) && !showLastNonZeroDecimal)\n          .then((current) => {\n            const integerPartZero = new BigNumber(integerPart).isZero();\n            const [numericPart] = current.split('.');\n\n            const zeroPlaceholders = new Array(decimals - 1).fill(0);\n            const zeros = [...zeroPlaceholders, 0].join('');\n            const minAmount = [...zeroPlaceholders, 1].join(''); // 00..1\n\n            if (integerPartZero) {\n              return `<${numericPart}.${minAmount}`;\n            } else {\n              return `${numericPart}.${zeros}`;\n            }\n          })\n\n          .valueOf();\n\n        return formattedBalance;\n      })\n\n      .valueOf()\n  );\n}\nexport default denominate;\n","import {\n  createBalanceBuilder,\n  Token,\n  TokenType\n} from '@elrondnetwork/erdjs/out';\nimport { denomination as configDenomination } from 'constants/index';\n\nexport function nominate(input: string, customDenomination?: number) {\n  const balance = createBalanceBuilder(\n    new Token({\n      decimals: customDenomination || configDenomination,\n      type: TokenType.Fungible\n    })\n  );\n  return balance(input).toString();\n}\n\nexport default nominate;\n","let classnames: any = {};\ntry {\n  classnames = require('classnames');\n} catch (err) {}\n\nexport default classnames;\n","import classNames from 'optionalPackages/classnames';\n\nexport function getGeneratedClasses(\n  className: string,\n  shouldRenderDefaultCss: boolean,\n  defaultStyles: Record<string, string>\n) {\n  return Object.entries(defaultStyles).reduce(\n    (acc, [key, defaultClassNames]) => {\n      acc[key] = classNames?.(\n        `${className}_${key}`,\n        shouldRenderDefaultCss && (defaultClassNames as string)\n      );\n      return acc;\n    },\n    {}\n  ) as any;\n}\n","export const wrapperClassName = 'dapp-core-ui-component';\nexport default wrapperClassName;\n","let moment: any = {};\ntry {\n  moment = require('moment');\n} catch (err) {}\n\nexport default moment;\n","import moment from 'optionalPackages/moment';\n\nexport type SessionKeyType = 'address' | 'shard' | 'toasts' | 'toastProgress';\ntype ExpiresType = number | false;\n\nexport const setItem = ({\n  key,\n  data,\n  expires\n}: {\n  key: SessionKeyType;\n  data: any;\n  expires: ExpiresType;\n}) => {\n  sessionStorage.setItem(\n    String(key),\n    JSON.stringify({\n      expires,\n      data\n    })\n  );\n};\n\nexport const getItem = (key: SessionKeyType): any => {\n  const item = sessionStorage.getItem(String(key));\n  if (!item) {\n    return null;\n  }\n\n  const deserializedItem = JSON.parse(item);\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (\n    !deserializedItem.hasOwnProperty('expires') ||\n    !deserializedItem.hasOwnProperty('data')\n  ) {\n    return null;\n  }\n\n  const expired = moment().unix() >= deserializedItem.expires;\n  if (expired) {\n    sessionStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nexport const removeItem = (key: SessionKeyType) =>\n  sessionStorage.removeItem(String(key));\n\nexport const clear = () => sessionStorage.clear();\n\nexport const storage = {\n  setItem,\n  getItem,\n  removeItem,\n  clear\n};\n\nexport default storage;\n","import React from 'react';\nimport {\n  createDispatchHook,\n  createSelectorHook,\n  createStoreHook\n} from 'react-redux';\n\nconst defaultContextValue: any = null;\nexport const DappCoreContext = React.createContext(defaultContextValue);\n\nexport const useStore = createStoreHook(DappCoreContext);\nexport const useDispatch = createDispatchHook(DappCoreContext);\nexport const useSelector = createSelectorHook(DappCoreContext);\n","import { useState } from 'react';\nimport { ExtensionProvider } from '@elrondnetwork/erdjs';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector } from 'redux/selectors';\nimport { setProvider, setTokenLogin } from 'redux/slices';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { optionalRedirect } from 'utils/internal';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\ninterface UseExtensionLoginPropsType {\n  callbackRoute: string;\n  token?: string;\n  redirectAfterLogin?: boolean;\n}\n\nexport type UseExtensionLoginReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType\n];\n\nexport const useExtensionLogin = ({\n  callbackRoute,\n  token,\n  redirectAfterLogin = false\n}: UseExtensionLoginPropsType): UseExtensionLoginReturnType => {\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const dispatch = useDispatch();\n  async function initiateLogin() {\n    setIsLoading(true);\n    const provider: ExtensionProvider = ExtensionProvider.getInstance();\n\n    try {\n      const isSuccessfullyInitialized: boolean = await provider.init();\n\n      if (!isSuccessfullyInitialized) {\n        console.warn(\n          'Something went wrong trying to redirect to wallet login..'\n        );\n        return;\n      }\n\n      const callbackUrl: string = encodeURIComponent(\n        `${window.location.origin}${callbackRoute}`\n      );\n      const providerLoginData = {\n        callbackUrl,\n        ...(token && { token })\n      };\n\n      await provider.login(providerLoginData);\n\n      dispatch(setProvider(provider));\n\n      const { signature, address } = provider.account;\n      if (signature) {\n        dispatch(\n          setTokenLogin({\n            loginToken: String(token),\n            signature\n          })\n        );\n      }\n      dispatch(\n        loginAction({ address, loginMethod: LoginMethodsEnum.extension })\n      );\n      optionalRedirect(callbackRoute, redirectAfterLogin);\n    } catch (error) {\n      console.error('error loging in', error);\n      // TODO: can be any or typed error\n      setError('error logging in' + (error as any).message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const loginFailed = Boolean(error);\n  return [\n    initiateLogin,\n    {\n      loginFailed,\n      error,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    }\n  ];\n};\n","import { useState } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector, networkSelector } from 'redux/selectors';\nimport { setWalletLogin } from 'redux/slices';\nimport { store } from 'redux/store';\nimport { newWalletProvider } from 'utils';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\ninterface UseWebWalletLoginPropsType {\n  callbackRoute: string;\n  token?: string;\n}\n\nexport type UseWebWalletLoginReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType\n];\n\nexport const useWebWalletLogin = ({\n  callbackRoute,\n  token\n}: UseWebWalletLoginPropsType): UseWebWalletLoginReturnType => {\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  async function initiateLogin() {\n    try {\n      setIsLoading(true);\n      const appState = store.getState();\n      const network = networkSelector(appState);\n      const provider = newWalletProvider(network.walletAddress);\n\n      const now = new Date();\n      const expires: number = now.setMinutes(now.getMinutes() + 3) / 1000;\n      const walletLoginData = {\n        data: {},\n        expires: expires\n      };\n\n      store.dispatch(setWalletLogin(walletLoginData));\n\n      const callbackUrl: string = encodeURIComponent(\n        `${window.location.origin}${callbackRoute}`\n      );\n      const loginData = {\n        callbackUrl: callbackUrl,\n        ...(token && { token })\n      };\n\n      await provider.login(loginData);\n    } catch (error) {\n      console.error(error);\n      setError('error logging in' + (error as any).message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const loginFailed = error != null;\n\n  return [\n    initiateLogin,\n    {\n      error,\n      loginFailed,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    }\n  ];\n};\n\nexport default useWebWalletLogin;\n","import React from 'react';\nimport { HWProvider } from '@elrondnetwork/erdjs';\nimport { ledgerErrorCodes } from 'constants/index';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  isLoggedInSelector,\n  ledgerAccountSelector,\n  proxySelector\n} from 'redux/selectors';\nimport {\n  setLedgerAccount,\n  setLedgerLogin,\n  setProvider,\n  setTokenLogin\n} from 'redux/slices';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { optionalRedirect } from 'utils/internal';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\nconst ledgerAppErrorText = 'Check if Elrond app is open on Ledger';\nconst failInitializeErrorText =\n  'Could not initialise ledger app, make sure Elrond app is open';\n\nconst defaultAddressesPerPage = 10;\n\nexport interface UseLedgerLoginPropsType {\n  callbackRoute: string;\n  addressesPerPage?: number;\n  token?: string;\n  redirectAfterLogin?: boolean;\n}\n\nexport interface SelectedAddress {\n  address: string;\n  index: number;\n}\n\nexport interface LedgerLoginHookCustomStateType {\n  accounts: string[];\n  showAddressList: boolean;\n  startIndex: number;\n  selectedAddress: SelectedAddress | null;\n\n  onGoToPrevPage: () => void;\n  onGoToNextPage: () => void;\n  onSelectAddress: (address: SelectedAddress | null) => void;\n  onConfirmSelectedAddress: () => void;\n}\n\nexport type LedgerLoginHookReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType,\n  LedgerLoginHookCustomStateType\n];\n\nexport function useLedgerLogin({\n  callbackRoute,\n  token,\n  addressesPerPage = defaultAddressesPerPage,\n  redirectAfterLogin = false\n}: UseLedgerLoginPropsType): LedgerLoginHookReturnType {\n  const ledgerAccount = useSelector(ledgerAccountSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const proxy = useSelector(proxySelector);\n  const dispatch = useDispatch();\n  const [error, setError] = React.useState('');\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const hwWalletP = new HWProvider(proxy);\n  const [startIndex, setStartIndex] = React.useState(0);\n  const [accounts, setAccounts] = React.useState<string[]>([]);\n  const [selectedAddress, setSelectedAddress] =\n    React.useState<SelectedAddress | null>(null);\n\n  const [showAddressList, setShowAddressList] = React.useState(false);\n\n  function dispatchLoginActions({\n    provider,\n    address,\n    index,\n    signature\n  }: {\n    provider: HWProvider;\n    address: string;\n    index: number;\n    signature?: string;\n  }) {\n    dispatch(setProvider(provider));\n\n    dispatch(setLedgerLogin({ index, loginType: LoginMethodsEnum.ledger }));\n\n    if (signature) {\n      dispatch(\n        setTokenLogin({\n          loginToken: String(token),\n          signature\n        })\n      );\n    }\n    dispatch(loginAction({ address, loginMethod: LoginMethodsEnum.ledger }));\n    optionalRedirect(callbackRoute, redirectAfterLogin);\n  }\n\n  const onLoginFailed = (err: any, customMessage?: string) => {\n    if (err.statusCode in ledgerErrorCodes) {\n      setError(\n        (ledgerErrorCodes as any)[err.statusCode].message + customMessage\n      );\n    }\n    setIsLoading(false);\n    console.warn(err);\n    dispatch(setLedgerAccount(null));\n  };\n\n  async function loginUser(hwWalletProvider: HWProvider) {\n    if (selectedAddress == null) {\n      return false;\n    }\n    const { index } = selectedAddress;\n\n    if (token) {\n      try {\n        const loginInfo = await hwWalletProvider.tokenLogin({\n          token: Buffer.from(`${token}{}`),\n          addressIndex: index\n        });\n        dispatchLoginActions({\n          address: loginInfo.address,\n          provider: hwWalletProvider,\n          index: index,\n          signature: loginInfo.signature.hex()\n        });\n      } catch (err) {\n        onLoginFailed(err, '. Update Elrond App to continue.');\n      }\n    } else {\n      try {\n        const address = await hwWalletProvider.login({ addressIndex: index });\n        dispatchLoginActions({\n          address,\n          provider: hwWalletProvider,\n          index\n        });\n      } catch (err) {\n        onLoginFailed(err);\n        return false;\n      }\n    }\n    return true;\n  }\n\n  async function onConfirmSelectedAddress() {\n    try {\n      setIsLoading(true);\n      if (selectedAddress == null) {\n        return false;\n      }\n      const { address, index } = selectedAddress;\n      dispatch(\n        setLedgerAccount({\n          index,\n          address\n        })\n      );\n      const hwWalletProvider = new HWProvider(proxy);\n      const initialized = await hwWalletProvider.init();\n      if (!initialized) {\n        setError(failInitializeErrorText);\n        console.warn(failInitializeErrorText);\n        return false;\n      }\n      setIsLoading(false);\n      await loginUser(hwWalletProvider);\n    } catch (err) {\n      if ((err as any).statusCode in ledgerErrorCodes) {\n        setError((ledgerErrorCodes as any)[(err as any).statusCode].message);\n      }\n      console.warn(failInitializeErrorText, err);\n    } finally {\n      setIsLoading(false);\n    }\n    setShowAddressList(false);\n    return true;\n  }\n\n  async function fetchAccounts() {\n    try {\n      setIsLoading(true);\n      const initialized = await hwWalletP.init();\n      if (!initialized) {\n        setError(failInitializeErrorText);\n        console.warn(failInitializeErrorText);\n        setIsLoading(false);\n        return;\n      }\n      const accounts = await hwWalletP.getAccounts(\n        startIndex,\n        addressesPerPage\n      );\n      setAccounts(accounts);\n      setIsLoading(false);\n    } catch (err) {\n      if ((err as any).statusCode in ledgerErrorCodes) {\n        setError((ledgerErrorCodes as any)[(err as any).statusCode].message);\n      } else {\n        setError(ledgerAppErrorText);\n      }\n      console.error('error', err);\n      setIsLoading(false);\n    }\n  }\n\n  async function onStartLogin() {\n    setError('');\n    try {\n      setIsLoading(true);\n      if (ledgerAccount != null) {\n        const hwWalletP = new HWProvider(proxy);\n        const initialized = await hwWalletP.init();\n        if (!initialized) {\n          console.warn(failInitializeErrorText);\n          return;\n        }\n        const address = await hwWalletP.login();\n        dispatch(setProvider(hwWalletP));\n        dispatch(\n          loginAction({ address, loginMethod: LoginMethodsEnum.ledger })\n        );\n        optionalRedirect(callbackRoute, redirectAfterLogin);\n      } else {\n        if (accounts?.length > 0) {\n          setShowAddressList(true);\n        } else {\n          await fetchAccounts();\n          setShowAddressList(true);\n        }\n      }\n    } catch (error) {\n      console.error('error ', error);\n      setError(ledgerAppErrorText);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  function onSelectAddress(newSelectedAddress: SelectedAddress | null) {\n    setSelectedAddress(newSelectedAddress);\n  }\n\n  function onGoToNextPage() {\n    setSelectedAddress(null);\n    setStartIndex((current) => current + 1);\n  }\n\n  function onGoToPrevPage() {\n    setSelectedAddress(null);\n    setStartIndex((current) => (current === 0 ? 0 : current - 1));\n  }\n\n  React.useEffect(() => {\n    fetchAccounts();\n  }, [startIndex]);\n  const loginFailed = Boolean(error);\n  return [\n    onStartLogin,\n    {\n      loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed,\n      error,\n      isLoading: isLoading && !loginFailed\n    },\n    {\n      accounts,\n      showAddressList,\n      startIndex,\n      selectedAddress,\n\n      onGoToPrevPage,\n      onGoToNextPage,\n      onSelectAddress,\n      onConfirmSelectedAddress\n    }\n  ];\n}\n","import { useRef, useEffect } from 'react';\n\nexport function useUpdateEffect(effect: any, dependencies: any[] = []) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { WalletConnectProvider } from '@elrondnetwork/erdjs';\n\nimport { useUpdateEffect } from 'hooks/useUpdateEffect';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  isLoggedInSelector,\n  providerSelector,\n  proxySelector,\n  walletConnectBridgeAddressSelector,\n  walletConnectDeepLinkSelector\n} from 'redux/selectors';\nimport {\n  setProvider,\n  setTokenLogin,\n  setTokenLoginSignature,\n  setWalletConnectLogin\n} from 'redux/slices';\n\nimport { LoginMethodsEnum } from 'types/enums';\nimport { logout } from 'utils';\nimport { optionalRedirect } from 'utils/internal';\nimport Timeout = NodeJS.Timeout;\nimport { LoginHookGenericStateType } from '../types';\n\ninterface InitWalletConnectType {\n  callbackRoute: string;\n  logoutRoute: string;\n  token?: string;\n  shouldLoginUser?: boolean;\n  redirectAfterLogin?: boolean;\n}\n\nexport interface WalletConnectLoginHookCustomStateType {\n  uriDeepLink: string | null;\n  walletConnectUri?: string;\n}\n\nexport type WalletConnectLoginHookReturnType = [\n  (loginProvider?: boolean) => void,\n  LoginHookGenericStateType,\n  WalletConnectLoginHookCustomStateType\n];\n\nexport const useWalletConnectLogin = ({\n  callbackRoute,\n  logoutRoute,\n  token,\n  redirectAfterLogin = false\n}: InitWalletConnectType): WalletConnectLoginHookReturnType => {\n  const dispatch = useDispatch();\n  const heartbeatInterval = 15000;\n\n  const [error, setError] = useState<string>('');\n  const [wcUri, setWcUri] = useState<string>('');\n\n  const proxy = useSelector(proxySelector);\n\n  const provider: any = useSelector(providerSelector);\n  const walletConnectBridgeAddress = useSelector(\n    walletConnectBridgeAddressSelector\n  );\n  const walletConnectDeepLink = useSelector(walletConnectDeepLinkSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const providerRef = useRef<any>(provider);\n\n  let heartbeatDisconnectInterval: Timeout;\n\n  const hasWcUri = Boolean(wcUri);\n  const isLoading = !hasWcUri;\n  const uriDeepLink = hasWcUri\n    ? `${walletConnectDeepLink}?wallet-connect=${encodeURIComponent(wcUri)}`\n    : null;\n\n  useEffect(() => {\n    handleHeartbeat();\n\n    const interval = setInterval(() => {\n      handleHeartbeat();\n    }, heartbeatInterval);\n\n    return () => clearInterval(interval);\n  }, [provider]);\n\n  useUpdateEffect(() => {\n    generateWcUri();\n  }, [token]);\n\n  useUpdateEffect(() => {\n    providerRef.current = provider;\n  }, [provider]);\n\n  async function handleHeartbeat() {\n    const isProviderConnected = Boolean(\n      providerRef.current?.walletConnector?.connected\n    );\n    if (!isProviderConnected) {\n      return;\n    }\n\n    const customMessage = {\n      method: 'heartbeat',\n      params: {}\n    };\n\n    try {\n      await providerRef.current.sendCustomMessage(customMessage);\n    } catch (error) {\n      console.error('Connection lost', error);\n      handleOnLogout();\n    }\n  }\n\n  async function handleOnLogin() {\n    try {\n      const provider = providerRef.current;\n      if (isLoggedIn) {\n        return;\n      }\n      if (provider == null) {\n        return;\n      }\n      const address = await provider.getAddress();\n      const signature = await provider.getSignature();\n      const hasSignature = Boolean(signature);\n      const loginActionData = {\n        address: address,\n        loginMethod: LoginMethodsEnum.walletconnect\n      };\n\n      const loginData = {\n        logoutRoute: logoutRoute,\n        loginType: 'walletConnect',\n        callbackRoute: callbackRoute\n      };\n\n      if (hasSignature) {\n        dispatch(setWalletConnectLogin(loginData));\n        dispatch(setTokenLoginSignature(signature));\n      } else {\n        dispatch(setWalletConnectLogin(loginData));\n      }\n      dispatch(loginAction(loginActionData));\n\n      provider.walletConnector.on('heartbeat', () => {\n        clearInterval(heartbeatDisconnectInterval);\n        heartbeatDisconnectInterval = setInterval(() => {\n          console.log('Maiar Wallet Connection Lost');\n          handleOnLogout();\n          clearInterval(heartbeatDisconnectInterval);\n        }, 150000);\n      });\n\n      optionalRedirect(callbackRoute, redirectAfterLogin);\n    } catch (err) {\n      setError('Invalid address');\n      console.error(err);\n    }\n  }\n\n  const handleOnLogout = () => {\n    logout(callbackRoute);\n  };\n\n  async function initiateLogin(loginProvider = true) {\n    if (\n      !walletConnectBridgeAddress ||\n      providerRef?.current?.isInitialized?.()\n    ) {\n      return;\n    }\n\n    const providerHandlers = {\n      onClientLogin: handleOnLogin,\n      onClientLogout: handleOnLogout\n    };\n\n    const newProvider = new WalletConnectProvider(\n      proxy,\n      walletConnectBridgeAddress,\n      providerHandlers\n    );\n\n    await newProvider.init();\n    dispatch(setProvider(newProvider));\n    providerRef.current = newProvider;\n    if (loginProvider) {\n      generateWcUri();\n    }\n  }\n\n  async function generateWcUri() {\n    if (!walletConnectBridgeAddress) {\n      return;\n    }\n\n    const walletConnectUri: string | undefined =\n      await providerRef.current?.login();\n    const hasUri = Boolean(walletConnectUri);\n\n    if (!hasUri) {\n      return;\n    }\n\n    if (!token) {\n      setWcUri(walletConnectUri as string);\n      return;\n    }\n\n    const wcUriWithToken = `${walletConnectUri}&token=${token}`;\n\n    setWcUri(wcUriWithToken);\n    dispatch(setTokenLogin({ loginToken: token }));\n  }\n\n  const loginFailed = error != null;\n  return [\n    initiateLogin,\n    {\n      error,\n      loginFailed,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    },\n    { uriDeepLink, walletConnectUri: wcUri }\n  ];\n};\n\nexport default useWalletConnectLogin;\n","import { operations } from '@elrondnetwork/dapp-utils';\nimport { Transaction } from '@elrondnetwork/erdjs/out';\nimport BigNumber from 'bignumber.js';\nimport { gasPerDataByte, gasPriceModifier } from 'constants/index';\n\nexport function calcTotalFee(transactions: Transaction[], minGasLimit: number) {\n  let totalFee = new BigNumber(0);\n\n  transactions.forEach((tx) => {\n    const fee = operations.calculateFeeLimit({\n      gasPerDataByte,\n      gasPriceModifier,\n      minGasLimit: String(minGasLimit),\n      gasLimit: tx.getGasLimit().valueOf().toString(),\n      gasPrice: tx.getGasPrice().valueOf().toString(),\n      data: tx.getData().toString(),\n      chainId: tx.getChainID().valueOf()\n    });\n    totalFee = totalFee.plus(new BigNumber(fee));\n  });\n\n  return totalFee;\n}\n","import { validation } from '@elrondnetwork/dapp-utils';\nimport BigNumber from 'bignumber.js';\nimport { networkConstants } from 'constants/index';\n\nimport { accountBalanceSelector, chainIDSelector } from 'redux/selectors';\nimport {\n  setTransactionsToSign,\n  setNotificationModal,\n  setTransactionsDisplayInfo\n} from 'redux/slices';\nimport { store } from 'redux/store';\nimport { NotificationTypesEnum, SignTransactionsPropsType } from 'types';\nimport { SendTransactionReturnType } from './sendTransactions';\nimport { calcTotalFee } from './utils';\n\nexport function signTransactions({\n  transactions,\n  callbackRoute = window.location.pathname,\n  redirectAfterSign = true,\n  sessionInformation,\n  minGasLimit = networkConstants.DEFAULT_MIN_GAS_LIMIT,\n  transactionsDisplayInfo\n}: SignTransactionsPropsType): SendTransactionReturnType {\n  const appState = store.getState();\n  const sessionId = Date.now().toString();\n  const accountBalance = accountBalanceSelector(appState);\n  const storeChainId = chainIDSelector(appState);\n\n  const transactionsPayload = Array.isArray(transactions)\n    ? transactions\n    : [transactions];\n  const bNtotalFee = calcTotalFee(transactionsPayload, minGasLimit);\n  const bNbalance = new BigNumber(\n    validation.stringIsFloat(accountBalance) ? accountBalance : '0'\n  );\n  const hasSufficientFunds = bNbalance.minus(bNtotalFee).isGreaterThan(0);\n\n  if (!hasSufficientFunds) {\n    const notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Insufficient EGLD funds',\n      description: 'Current EGLD balance cannot cover the transaction fees.'\n    };\n\n    store.dispatch(setNotificationModal(notificationPayload));\n    return { error: 'insufficient funds', sessionId: null };\n  }\n\n  const hasValidChainId = transactionsPayload?.every(\n    (tx) => tx.getChainID().valueOf() === storeChainId.valueOf()\n  );\n  if (!hasValidChainId) {\n    const notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Network change detected',\n      description: 'The application tried to change the transaction network'\n    };\n    store.dispatch(setNotificationModal(notificationPayload));\n    return { error: 'Invalid ChainID', sessionId: null };\n  }\n\n  const signTransactionsPayload = {\n    sessionId,\n    callbackRoute,\n    redirectAfterSign,\n    sessionInformation,\n    transactions: transactionsPayload.map((tx) => tx.toPlainObject())\n  };\n\n  store.dispatch(setTransactionsToSign(signTransactionsPayload));\n  store.dispatch(\n    setTransactionsDisplayInfo({ sessionId, transactionsDisplayInfo })\n  );\n  return { sessionId };\n}\n\nexport default signTransactions;\n","import { Address, Transaction } from '@elrondnetwork/erdjs/out';\nimport { defaultGasPrice, defaultGasLimit } from 'constants/index';\nimport newTransaction from 'models/newTransaction';\nimport { addressSelector, chainIDSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { SendSimpleTransactionPropsType } from 'types';\nimport { getAccount, getLatestNonce } from 'utils';\nimport { encodeToBase64, isStringBase64 } from 'utils/decoders/base64Utils';\n\nenum ErrorCodesEnum {\n  'invalidReceiver' = 'Invalid Receiver address',\n  'unknownError' = 'Unknown Error. Please check the transactions and try again'\n}\n\nexport async function transformAndSignTransactions({\n  transactions\n}: SendSimpleTransactionPropsType): Promise<Transaction[]> {\n  const address = addressSelector(store.getState());\n  const account = await getAccount(address);\n  const nonce = getLatestNonce(account);\n  return transactions.map((tx) => {\n    const {\n      value,\n      receiver,\n      data = '',\n      chainID,\n      version,\n      options,\n      gasPrice = defaultGasPrice,\n      gasLimit = defaultGasLimit\n    } = tx;\n    let validatedReceiver = receiver;\n\n    try {\n      const addr = new Address(receiver);\n      validatedReceiver = addr.hex();\n    } catch (err) {\n      throw ErrorCodesEnum.invalidReceiver;\n    }\n\n    const storeChainId = chainIDSelector(store.getState()).valueOf().toString();\n    const transactionsChainId = chainID || storeChainId;\n    return newTransaction({\n      value,\n      receiver: validatedReceiver,\n      data: isStringBase64(data) ? data : encodeToBase64(data),\n      gasPrice,\n      gasLimit,\n      nonce: Number(nonce.valueOf().toString()),\n      sender: new Address(address).hex(),\n      chainID: transactionsChainId,\n      version,\n      options\n    });\n  });\n}\n\nexport default transformAndSignTransactions;\n","import { Transaction } from '@elrondnetwork/erdjs/out';\nimport { SendTransactionsPropsType, SimpleTransactionType } from 'types';\nimport { signTransactions } from './signTransactions';\nimport transformAndSignTransactions from './transformAndSignTransactions';\n\nexport interface SendTransactionReturnType {\n  error?: string;\n  sessionId: string | null;\n}\n\nexport async function sendTransactions({\n  transactions,\n  transactionsDisplayInfo,\n  redirectAfterSign = true,\n  sessionInformation,\n  minGasLimit\n}: SendTransactionsPropsType): Promise<SendTransactionReturnType> {\n  try {\n    const transactionsPayload = Array.isArray(transactions)\n      ? transactions\n      : [transactions];\n\n    const areComplexTransactions = transactionsPayload.every(\n      (tx) => Object.getPrototypeOf(tx).toPlainObject != null\n    );\n    let txToSign = transactionsPayload;\n    if (!areComplexTransactions) {\n      txToSign = await transformAndSignTransactions({\n        transactions: transactionsPayload as SimpleTransactionType[],\n        minGasLimit\n      });\n    }\n\n    return signTransactions({\n      transactions: txToSign as Transaction[],\n      minGasLimit,\n      redirectAfterSign,\n      sessionInformation,\n      transactionsDisplayInfo\n    });\n  } catch (err) {\n    console.error('error signing transaction', err as any);\n    return { error: err as any, sessionId: null };\n  }\n}\n\nexport default sendTransactions;\n","import { useEffect } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { transactionStatusSelector } from 'redux/selectors';\nimport { RootState } from 'redux/store';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending,\n  getIsTransactionSuccessful,\n  getIsTransactionTimedOut\n} from 'utils';\n\nexport interface UseTrackTransactionStatusArgsType {\n  transactionId: string | null;\n  onSuccess?: (transactionId: string | null) => void;\n  onFail?: (transactionId: string | null, errorMessage?: string) => void;\n  onTimedOut?: (transactionId: string | null) => void;\n  onCancelled?: (transactionId: string | null) => void;\n  onCompleted?: (transactionId: string | null) => void;\n}\n\nexport function useTrackTransactionStatus({\n  transactionId,\n  onSuccess,\n  onFail,\n  onCancelled,\n  onTimedOut,\n  onCompleted\n}: UseTrackTransactionStatusArgsType) {\n  const transactionsBatch = useSelector((state: RootState) =>\n    transactionStatusSelector(state, transactionId)\n  );\n\n  const { status, transactions, errorMessage } = transactionsBatch;\n\n  const isPending = getIsTransactionPending(status);\n  const isFailed = getIsTransactionFailed(status);\n  const isTimedOut = getIsTransactionTimedOut(status);\n  const isSuccessful = getIsTransactionSuccessful(status);\n  const isCompleted = getIsTransactionCompleted(status);\n\n  const isCancelled = status === TransactionBatchStatusesEnum.cancelled;\n\n  useEffect(() => {\n    if (isSuccessful && onSuccess) {\n      onSuccess(transactionId);\n    }\n  }, [isSuccessful]);\n  useEffect(() => {\n    if (isCompleted && onCompleted) {\n      onCompleted(transactionId);\n    }\n  }, [isCompleted]);\n\n  useEffect(() => {\n    if (isFailed && onFail) {\n      onFail(transactionId, errorMessage);\n    }\n  }, [isFailed]);\n\n  useEffect(() => {\n    if (isCancelled && onCancelled) {\n      onCancelled(transactionId);\n    }\n  }, [isCancelled]);\n\n  useEffect(() => {\n    if (isTimedOut) {\n      if (onTimedOut) {\n        onTimedOut(transactionId);\n      } else {\n        onFail?.(transactionId, 'timeout');\n      }\n    }\n  }, [isTimedOut]);\n\n  if (transactionId == null) {\n    return {};\n  }\n\n  if (transactionsBatch == null) {\n    return { errorMessage: 'No transaction to track' };\n  }\n\n  return {\n    isPending,\n    isSuccessful,\n    isFailed,\n    isCancelled,\n    isCompleted,\n    errorMessage,\n    status,\n    transactions\n  };\n}\n\nexport default useTrackTransactionStatus;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { pendingSignedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetPendingTransactionsReturnType {\n  pendingTransactions: SignedTransactionsType;\n  pendingTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasPendingTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetPendingTransactions(): useGetPendingTransactionsReturnType {\n  const pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  const pendingTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(pendingTransactions);\n  const hasPendingTransactions = pendingTransactionsArray?.length > 0;\n  return {\n    pendingTransactions,\n    pendingTransactionsArray,\n    hasPendingTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { failedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetFailedTransactionsReturnType {\n  failedTransactions: SignedTransactionsType;\n  failedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasFailedTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetFailedTransactions(): useGetFailedTransactionsReturnType {\n  const failedTransactions = useSelector(failedTransactionsSelector);\n  const failedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(failedTransactions);\n  const hasFailedTransactions = failedTransactionsArray?.length > 0;\n  return {\n    failedTransactions,\n    failedTransactionsArray,\n    hasFailedTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { successfulTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetSuccessfulTransactionsReturnType {\n  successfulTransactions: SignedTransactionsType;\n  successfulTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasSuccessfulTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetSuccessfulTransactions(): useGetSuccessfulTransactionsReturnType {\n  const successfulTransactions = useSelector(successfulTransactionsSelector);\n  const successfulTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(successfulTransactions);\n  const hasSuccessfulTransactions = successfulTransactionsArray?.length > 0;\n  return {\n    successfulTransactions,\n    successfulTransactionsArray,\n    hasSuccessfulTransactions\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport {\n  MultiSignTxType,\n  TxDataTokenType,\n  TxsDataTokensType\n} from 'types/transactions';\nimport { getTokenFromData } from 'utils';\nimport parseMultiEsdtTransferData from 'utils/transactions/parseMultiEsdtTransferData';\n\nconst defaultTransactionInfo: TxDataTokenType = {\n  tokenId: '',\n  amount: '',\n  type: '',\n  multiTxData: '',\n  receiver: ''\n};\n\ninterface UseParseMultiEsdtTransferDataPropsType {\n  transactions?: Transaction[];\n}\n\ninterface UseParseMultiEsdtTransferDataReturnType {\n  parsedTransactionsByDataField: TxsDataTokensType;\n  getTxInfoByDataField: (\n    data: string,\n    multiTransactionData?: string\n  ) => TxDataTokenType;\n  allTransactions: MultiSignTxType[];\n}\n\nexport function useParseMultiEsdtTransferData({\n  transactions\n}: UseParseMultiEsdtTransferDataPropsType): UseParseMultiEsdtTransferDataReturnType {\n  const [parsedTransactionsByDataField, setParsedTransactions] =\n    useState<TxsDataTokensType>({});\n  const [allTransactions, setAllTransactions] = useState<MultiSignTxType[]>([]);\n\n  function addTransactionDataToParsedInfo(\n    data: string,\n    txInfo: TxDataTokenType\n  ) {\n    setParsedTransactions((existing) => ({\n      ...existing,\n      [data]: txInfo\n    }));\n  }\n\n  function getTxInfoByDataField(\n    data: string,\n    multiTransactionData?: string\n  ): TxDataTokenType {\n    if (parsedTransactionsByDataField == null) {\n      return defaultTransactionInfo;\n    }\n\n    if (data in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[data];\n    }\n\n    if (\n      multiTransactionData != null &&\n      String(multiTransactionData) in parsedTransactionsByDataField\n    ) {\n      return parsedTransactionsByDataField[multiTransactionData];\n    }\n\n    return defaultTransactionInfo;\n  }\n\n  function extractTransactionESDTData() {\n    if (transactions && transactions.length > 0) {\n      const allTransactions: MultiSignTxType[] = [];\n      transactions.forEach((transaction, transactionIndex) => {\n        const multiTxs = parseMultiEsdtTransferData(\n          transaction.getData().toString()\n        );\n\n        if (multiTxs.length > 0) {\n          multiTxs.forEach((trx, idx) => {\n            const newTx: MultiSignTxType = {\n              transaction,\n              multiTxData: trx.data,\n              transactionIndex: idx\n            };\n            addTransactionDataToParsedInfo(trx.data, {\n              tokenId: trx.token ? trx.token : '',\n              amount: trx.amount ? trx.amount : '',\n              type: trx.type,\n              nonce: trx.nonce ? trx.nonce : '',\n              multiTxData: trx.data,\n              receiver: trx.receiver\n            });\n            allTransactions.push(newTx);\n          });\n        } else {\n          const { tokenId, amount } = getTokenFromData(\n            transaction.getData().toString()\n          );\n\n          if (tokenId) {\n            addTransactionDataToParsedInfo(transaction.getData().toString(), {\n              tokenId,\n              amount,\n              receiver: transaction.getReceiver().bech32()\n            });\n          }\n          allTransactions.push({ transaction, transactionIndex });\n        }\n      });\n      setAllTransactions(allTransactions);\n    }\n  }\n\n  useEffect(() => {\n    extractTransactionESDTData();\n  }, [transactions]);\n\n  return {\n    parsedTransactionsByDataField,\n    getTxInfoByDataField,\n    allTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport {\n  completedTransactionsSelector,\n  failedTransactionsSelector,\n  pendingSignedTransactionsSelector,\n  signedTransactionsSelector,\n  successfulTransactionsSelector,\n  timedOutTransactionsSelector\n} from 'redux/selectors';\n\ninterface useGetActiveTransactionsStatusReturnType {\n  pending: boolean;\n  timedOut: boolean;\n  fail: boolean;\n  success: boolean;\n  completed: boolean;\n  hasActiveTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetActiveTransactionsStatus(): useGetActiveTransactionsStatusReturnType {\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const timedOutTransactions = useSelector(timedOutTransactionsSelector);\n  const failedTransactions = useSelector(failedTransactionsSelector);\n  const successfulTransactions = useSelector(successfulTransactionsSelector);\n  const pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  const completedTransactions = useSelector(completedTransactionsSelector);\n\n  const pending = Object.keys(pendingTransactions)?.length > 0;\n\n  const timedOut = !pending && Object.keys(timedOutTransactions)?.length > 0;\n\n  const fail =\n    !pending && !timedOut && Object.keys(failedTransactions)?.length > 0;\n\n  const success =\n    !pending &&\n    !timedOut &&\n    !fail &&\n    Object.keys(successfulTransactions).length > 0;\n\n  const completed =\n    !pending &&\n    !timedOut &&\n    !fail &&\n    Object.keys(completedTransactions).length > 0;\n  const hasActiveTransactions = Object.keys(signedTransactions).length > 0;\n  return {\n    pending,\n    timedOut,\n    fail,\n    success,\n    completed,\n    hasActiveTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { completedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetCompletedTransactionsReturnType {\n  completedTransactions: SignedTransactionsType;\n  completedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasCompletedTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetCompletedTransactions(): useGetCompletedTransactionsReturnType {\n  const completedTransactions = useSelector(completedTransactionsSelector);\n  const completedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(completedTransactions);\n  const hasCompletedTransactions = completedTransactionsArray?.length > 0;\n  return {\n    completedTransactions,\n    completedTransactionsArray,\n    hasCompletedTransactions\n  };\n}\n","import { Transaction } from '@elrondnetwork/erdjs';\nimport { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport type SendSignedTransactionsReturnType = string[];\n\nexport async function sendSignedTransactions(\n  signedTransactions: Transaction[]\n): Promise<SendSignedTransactionsReturnType> {\n  const proxy = proxySelector(store.getState());\n  const promises = signedTransactions.map((transaction) => {\n    return proxy.sendTransaction(transaction);\n  });\n  const response = await Promise.all(promises);\n\n  return response.map((txHash) => Buffer.from(txHash.hash).toString('hex'));\n}\n","import axios from 'axios';\nimport { networkConfigSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { SmartContractResult, TransactionServerStatusesEnum } from 'types';\nimport { decodeBase64 } from 'utils';\n\nexport type GetTransactionsByHashesReturnType = {\n  hash: string;\n  invalidTransaction: boolean;\n  status: TransactionServerStatusesEnum;\n  results: SmartContractResult[];\n  receiver: string;\n  data: string;\n  previousStatus: string;\n  hasStatusChanged: boolean;\n}[];\n\nexport type PendingTransactionsType = {\n  hash: string;\n  previousStatus: string;\n}[];\n\nexport async function getTransactionsByHashes(\n  pendingTransactions: PendingTransactionsType\n): Promise<GetTransactionsByHashesReturnType> {\n  const networkConfig = networkConfigSelector(store.getState());\n  const hashes = pendingTransactions.map((tx) => tx.hash);\n  const { data: responseData } = await axios.get(\n    `${networkConfig.network.apiAddress}/transactions`,\n    {\n      params: {\n        hashes: hashes.join(','),\n        withScResults: true\n      }\n    }\n  );\n  return pendingTransactions.map(({ hash, previousStatus }) => {\n    const txOnNetwork = responseData.find(\n      (txResponse: any) => txResponse.txHash === hash\n    );\n    let data = txOnNetwork?.data;\n    try {\n      data = decodeBase64(data);\n    } catch (err) {}\n    return {\n      hash,\n      data,\n      invalidTransaction: txOnNetwork == null,\n      status: txOnNetwork.status,\n      results: txOnNetwork.results,\n      receiver: txOnNetwork?.receiver,\n      previousStatus,\n      hasStatusChanged: status !== previousStatus\n    };\n  });\n}\n","import { useEffect } from 'react';\nimport { HWProvider, ExtensionProvider } from '@elrondnetwork/erdjs';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  loginMethodSelector,\n  walletConnectLoginSelector,\n  networkSelector,\n  proxySelector,\n  walletLoginSelector,\n  addressSelector,\n  ledgerAccountSelector,\n  ledgerLoginSelector,\n  isLoggedInSelector\n} from 'redux/selectors';\nimport { extraActionsSelector } from 'redux/selectors/extraActionsSelectors';\nimport {\n  setAccount,\n  setIsAccountLoading,\n  setAccountLoadingError,\n  setLedgerAccount,\n  setProvider,\n  setWalletLogin,\n  setChainID\n} from 'redux/slices';\nimport { useWalletConnectLogin } from 'services/login/useWalletConnectLogin';\nimport { LoginMethodsEnum } from 'types/enums';\nimport {\n  newWalletProvider,\n  getAddress,\n  getAccount,\n  getLatestNonce,\n  logout\n} from 'utils';\n\nexport default function ProviderInitializer() {\n  const network = useSelector(networkSelector);\n  const walletConnectLogin = useSelector(walletConnectLoginSelector);\n  const loginMethod = useSelector(loginMethodSelector);\n  const walletLogin = useSelector(walletLoginSelector);\n  const { getProvider } = useSelector(extraActionsSelector);\n  const address = useSelector(addressSelector);\n  const ledgerAccount = useSelector(ledgerAccountSelector);\n  const ledgerLogin = useSelector(ledgerLoginSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  const proxy = useSelector(proxySelector);\n  const dispatch = useDispatch();\n\n  const { callbackRoute, logoutRoute } = walletConnectLogin\n    ? walletConnectLogin\n    : { callbackRoute: '', logoutRoute: '' };\n\n  const [initWalletLoginProvider] = useWalletConnectLogin({\n    callbackRoute,\n    logoutRoute\n  });\n\n  useEffect(() => {\n    refreshChainID();\n  }, [network]);\n\n  useEffect(() => {\n    initializeProvider();\n  }, [loginMethod]);\n\n  useEffect(() => {\n    fetchAccount();\n  }, [address, ledgerLogin, isLoggedIn]);\n\n  function refreshChainID() {\n    proxy\n      .getNetworkConfig()\n      .then((networkConfig) => {\n        dispatch(setChainID(networkConfig.ChainID.valueOf()));\n      })\n      .catch((e) => {\n        console.error('To do ', e);\n      });\n  }\n\n  async function fetchAccount() {\n    dispatch(setIsAccountLoading(true));\n    if (address && isLoggedIn) {\n      try {\n        const account = await getAccount(address);\n        dispatch(\n          setAccount({\n            balance: account.balance.toString(),\n            address,\n            nonce: account.nonce.valueOf()\n          })\n        );\n        if (ledgerAccount == null && ledgerLogin != null) {\n          dispatch(\n            setLedgerAccount({\n              index: ledgerLogin.index,\n              address\n            })\n          );\n        }\n      } catch (e) {\n        dispatch(setAccountLoadingError('Failed getting account'));\n        console.error('Failed getting account ', e);\n      }\n    }\n    dispatch(setIsAccountLoading(false));\n  }\n\n  async function tryAuthenticateWalletUser() {\n    try {\n      if (walletLogin != null) {\n        const provider = newWalletProvider(network.walletAddress);\n        const address = await getAddress();\n        if (address) {\n          dispatch(setProvider(provider));\n          dispatch(\n            loginAction({ address, loginMethod: LoginMethodsEnum.wallet })\n          );\n          const account = await getAccount(address);\n          dispatch(\n            setAccount({\n              balance: account.balance.toString(),\n              address,\n              nonce: getLatestNonce(account)\n            })\n          );\n        }\n        dispatch(setWalletLogin(null));\n      }\n    } catch (e) {\n      console.error('Failed authenticating wallet user ', e);\n    }\n  }\n\n  function setLedgerProvider() {\n    const hwWalletP = new HWProvider(proxy);\n    hwWalletP\n      .init()\n      .then((success: any) => {\n        if (!success) {\n          console.warn('Could not initialise ledger app');\n          logout();\n          return;\n        }\n        dispatch(setProvider(hwWalletP));\n      })\n      .catch((err) => {\n        console.error('Could not initialise ledger app', err);\n        logout();\n      });\n  }\n\n  async function setExtensionProvider() {\n    try {\n      const address = await getAddress();\n      const provider = ExtensionProvider.getInstance().setAddress(address);\n      const success = await provider.init();\n\n      if (success) {\n        dispatch(setProvider(provider));\n      } else {\n        console.error(\n          'Could not initialise extension, make sure Elrond wallet extension is installed.'\n        );\n      }\n    } catch (err) {\n      console.error('Unable to login to ExtensionProvider', err);\n    }\n  }\n\n  function initializeProvider() {\n    if (loginMethod == null) {\n      return;\n    }\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger: {\n        setLedgerProvider();\n        break;\n      }\n\n      case LoginMethodsEnum.walletconnect: {\n        initWalletLoginProvider(false);\n        break;\n      }\n      case LoginMethodsEnum.wallet: {\n        const provider = newWalletProvider(network.walletAddress);\n        dispatch(setProvider(provider));\n        break;\n      }\n\n      case LoginMethodsEnum.extension: {\n        setExtensionProvider();\n        break;\n      }\n\n      case LoginMethodsEnum.extra: {\n        const provider = getProvider();\n        dispatch(setProvider(provider));\n        break;\n      }\n\n      case LoginMethodsEnum.none: {\n        tryAuthenticateWalletUser();\n        break;\n      }\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n","import React from 'react';\nimport {\n  getTransactionsByHashes,\n  sendSignedTransactions\n} from 'APICalls/transactions';\nimport { OverrideDefaultBehaviourContextValueType } from './types';\n\nconst defaultValue: OverrideDefaultBehaviourContextValueType = {\n  sendSignedTransactionsAsync: sendSignedTransactions,\n  getTransactionsByHash: getTransactionsByHashes,\n  completedTransactionsDelay: 0\n};\n\nconst OverrideDefaultBehaviourContext = React.createContext(defaultValue);\n\nexport default OverrideDefaultBehaviourContext;\n","import React, { useContext, useRef } from 'react';\nimport { Address } from '@elrondnetwork/erdjs';\nimport { Signature } from '@elrondnetwork/erdjs/out/signature';\n\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport newTransaction from 'models/newTransaction';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { signedTransactionsSelector } from 'redux/selectors';\nimport { accountSelector } from 'redux/selectors';\nimport {\n  setTxSubmittedModal,\n  clearSignTransactions,\n  updateSignedTransactions\n} from 'redux/slices';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport { setNonce } from 'utils';\n\nconst TransactionSender = () => {\n  const account = useSelector(accountSelector);\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const { sendSignedTransactionsAsync } = useContext(\n    OverrideDefaultBehaviourContext\n  );\n  const sendingRef = useRef(false);\n\n  const dispatch = useDispatch();\n\n  const clearSignInfo = () => {\n    dispatch(clearSignTransactions());\n    sendingRef.current = false;\n  };\n  async function handleSendTransactions() {\n    const sessionIds = Object.keys(signedTransactions);\n    for (const sessionId of sessionIds) {\n      if (!sessionId) {\n        continue;\n      }\n\n      try {\n        const isSessionIdSigned =\n          signedTransactions[sessionId].status ===\n          TransactionBatchStatusesEnum.signed;\n        const shouldSendCurrentSession =\n          isSessionIdSigned && !sendingRef.current;\n        if (!shouldSendCurrentSession) {\n          continue;\n        }\n        const { transactions } = signedTransactions[sessionId];\n\n        if (!transactions) {\n          continue;\n        }\n        sendingRef.current = true;\n        const transactionsToSend = transactions.map((tx) => {\n          const address = new Address(tx.sender);\n          const transactionObject = newTransaction(tx);\n          const signature = new Signature(tx.signature);\n\n          transactionObject.applySignature(signature, address);\n          return transactionObject;\n        });\n        const responseHashes = await sendSignedTransactionsAsync(\n          transactionsToSend\n        );\n\n        const newStatus = TransactionServerStatusesEnum.pending;\n        const newTransactions = transactions.map((transaction) => {\n          if (responseHashes.includes(transaction.hash)) {\n            return { ...transaction, status: newStatus };\n          }\n\n          return transaction;\n        });\n\n        const submittedModalPayload = {\n          sessionId,\n          submittedMessage: 'submitted'\n        };\n\n        dispatch(setTxSubmittedModal(submittedModalPayload));\n        dispatch(\n          updateSignedTransactions({\n            sessionId,\n            status: TransactionBatchStatusesEnum.sent,\n            transactions: newTransactions\n          })\n        );\n        clearSignInfo();\n        setNonce(account.nonce + transactions.length);\n\n        history.pushState({}, document.title, '?');\n      } catch (error) {\n        console.error('Unable to send transactions', error);\n        dispatch(\n          updateSignedTransactions({\n            sessionId,\n            status: TransactionBatchStatusesEnum.fail,\n            errorMessage: (error as any).message\n          })\n        );\n        clearSignInfo();\n      } finally {\n        sendingRef.current = false;\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    handleSendTransactions();\n  }, [signedTransactions, account]);\n\n  return null;\n};\n\nexport default TransactionSender;\n","import { useContext, useEffect, useRef } from 'react';\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport { useDispatch } from 'redux/DappProviderContext';\nimport {\n  updateSignedTransactions,\n  updateSignedTransactionStatus\n} from 'redux/slices';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport { SignedTransactionsBodyType } from 'types/transactions';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending\n} from 'utils';\nimport { refreshAccount } from 'utils/account';\nimport { isContract, areScCallsSuccessful } from 'utils/smartContracts';\n\ninterface RetriesType {\n  [hash: string]: number;\n}\n\ninterface TransactionStatusTrackerPropsType {\n  sessionId: string;\n  transactionPayload: SignedTransactionsBodyType;\n}\n\nexport function TransactionStatusTracker({\n  sessionId,\n  transactionPayload: { transactions, status }\n}: TransactionStatusTrackerPropsType) {\n  const dispatch = useDispatch();\n  const intervalRef = useRef<any>(null);\n  const isFetchingStatusRef = useRef(false);\n  const retriesRef = useRef<RetriesType>({});\n  const timeoutRefs = useRef<string[]>([]);\n  const { getTransactionsByHash, completedTransactionsDelay } = useContext(\n    OverrideDefaultBehaviourContext\n  );\n\n  const isPending = sessionId != null && getIsTransactionPending(status);\n  const manageTimedOutTransactions = () => {\n    dispatch(\n      updateSignedTransactions({\n        sessionId,\n        status: TransactionBatchStatusesEnum.timedOut\n      })\n    );\n  };\n\n  const checkTransactionStatus = async () => {\n    try {\n      if (!isPending || transactions == null) {\n        return;\n      }\n      isFetchingStatusRef.current = true;\n\n      const pendingTransactions = transactions.reduce(\n        (\n          acc: { hash: string; previousStatus: string }[],\n          { receiver, data, status, hash }\n        ) => {\n          const isScCall = isContract(receiver, data);\n          if (\n            hash != null &&\n            !timeoutRefs.current.includes(hash) &&\n            getIsTransactionPending(status, isScCall)\n          ) {\n            acc.push({ hash, previousStatus: status });\n          }\n          return acc;\n        },\n        []\n      );\n\n      if (pendingTransactions?.length === 0) {\n        isFetchingStatusRef.current = false;\n        return;\n      }\n      const serverTransactions = await getTransactionsByHash(\n        pendingTransactions\n      );\n      for (const {\n        hash,\n        status,\n        results,\n        invalidTransaction,\n        receiver,\n        data,\n        hasStatusChanged\n      } of serverTransactions) {\n        try {\n          const isScCall = isContract(receiver, data);\n          const retriesForThisHash = retriesRef.current[hash];\n          if (retriesForThisHash > 30) {\n            // consider transaction as stuck after 1 minute\n            manageTimedOutTransactions();\n            return;\n          }\n          if (!invalidTransaction) {\n            if (!getIsTransactionPending(status)) {\n              if (isScCall && !getIsTransactionCompleted(status)) {\n                const isScCallCompleted = areScCallsSuccessful(results);\n                if (isScCallCompleted) {\n                  timeoutRefs.current.push(hash);\n                  setTimeout(\n                    () =>\n                      dispatch(\n                        updateSignedTransactionStatus({\n                          sessionId,\n                          status: TransactionServerStatusesEnum.completed,\n                          transactionHash: hash\n                        })\n                      ),\n                    completedTransactionsDelay\n                  );\n                }\n              }\n\n              if (hasStatusChanged) {\n                dispatch(\n                  updateSignedTransactionStatus({\n                    sessionId,\n                    status,\n                    transactionHash: hash\n                  })\n                );\n              }\n\n              refreshAccount();\n\n              if (getIsTransactionFailed(status)) {\n                const resultWithError = results.find(\n                  (scResult) => scResult?.returnMessage !== ''\n                );\n\n                dispatch(\n                  updateSignedTransactionStatus({\n                    transactionHash: hash,\n                    sessionId,\n                    status: TransactionServerStatusesEnum.fail,\n                    errorMessage: resultWithError?.returnMessage\n                  })\n                );\n                dispatch(\n                  updateSignedTransactions({\n                    sessionId,\n                    status: TransactionBatchStatusesEnum.fail,\n                    errorMessage: resultWithError?.returnMessage\n                  })\n                );\n              }\n            } else {\n              retriesRef.current[hash] = retriesRef.current[hash]\n                ? retriesRef.current[hash] + 1\n                : 1;\n            }\n          } else {\n            retriesRef.current[hash] = retriesRef.current[hash]\n              ? retriesRef.current[hash] + 1\n              : 1;\n          }\n        } catch (error) {\n          console.error(error);\n          manageTimedOutTransactions();\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    if (isPending) {\n      intervalRef.current = setInterval(() => {\n        checkTransactionStatus();\n      }, 2000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n    return () => {\n      clearInterval(intervalRef.current);\n    };\n  }, [isPending]);\n  return null;\n}\n\nexport default TransactionStatusTracker;\n","import React from 'react';\nimport { useGetPendingTransactions } from 'services/transactions';\nimport { SignedTransactionsBodyType } from 'types/transactions';\nimport TransactionStatusTracker from './TransactionStatusTracker';\n\nexport function TransactionsTracker() {\n  const { pendingTransactionsArray } = useGetPendingTransactions();\n\n  return (\n    <React.Fragment>\n      {pendingTransactionsArray.map(([sessionId, transactionPayload]) => (\n        <TransactionStatusTracker\n          key={sessionId}\n          sessionId={sessionId}\n          transactionPayload={transactionPayload as SignedTransactionsBodyType}\n        />\n      ))}\n    </React.Fragment>\n  );\n}\n\nexport default TransactionsTracker;\n","import axios from 'axios';\nimport { configEndpoint } from 'constants/network';\n\nexport async function getServerConfiguration(environment: string) {\n  try {\n    const { data } = await axios.get(configEndpoint[environment]);\n    if (data != null) {\n      return data;\n    }\n  } catch (err) {\n    console.error('error fetching configuration for ', environment);\n    return null;\n  }\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { networkConfigSelector } from 'redux/selectors';\n\nexport const useGetNetworkConfig = () => {\n  return useSelector(networkConfigSelector);\n};\n\nexport default useGetNetworkConfig;\n","import { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { notificationModalSelector } from 'redux/selectors';\nimport { clearNotificationModal } from 'redux/slices';\n\nexport function useGetNotification() {\n  const notification = useSelector(notificationModalSelector);\n  const dispatch = useDispatch();\n  const clearNotification = () => dispatch(clearNotificationModal());\n  return { notification, clearNotification };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { transactionDisplayInfoSelector } from 'redux/selectors';\nimport { RootState } from 'redux/store';\n\nexport function useGetTransactionDisplayInfo(toastId: string | null) {\n  return useSelector((state: RootState) =>\n    transactionDisplayInfoSelector(state, toastId)\n  );\n}\n","import React from 'react';\nimport { WalletProvider } from '@elrondnetwork/erdjs';\nimport qs from 'qs';\nimport { dappInitRoute, walletSignSession } from 'constants/index';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { networkSelector } from 'redux/selectors';\nimport { updateSignedTransaction } from 'redux/slices';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport { parseTransactionAfterSigning } from 'utils';\n\nexport function useParseSignedTransactions() {\n  const { search } = window.location;\n  const network = useSelector(networkSelector);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (search != null) {\n      const searchData = qs.parse(search.replace('?', ''));\n\n      if (searchData && walletSignSession in searchData) {\n        const signSessionId: number = (searchData as any)[walletSignSession];\n\n        const signedTransactions = new WalletProvider(\n          `${network.walletAddress}${dappInitRoute}`\n        ).getTransactionsFromWalletUrl();\n        if (signedTransactions.length > 0) {\n          dispatch(\n            updateSignedTransaction({\n              [signSessionId.toString()]: {\n                status: TransactionBatchStatusesEnum.signed,\n                transactions: signedTransactions.map((tx) =>\n                  parseTransactionAfterSigning(tx)\n                )\n              }\n            })\n          );\n        }\n      }\n    }\n  }, [search]);\n}\n\nexport default useParseSignedTransactions;\n","import { useEffect, useRef, useState } from 'react';\nimport {\n  Address,\n  Nonce,\n  Transaction,\n  ExtensionProvider\n} from '@elrondnetwork/erdjs';\nimport { walletSignSession } from 'constants/index';\nimport { useParseSignedTransactions } from 'hooks/transactions/useParseSignedTransactions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  addressSelector,\n  providerSelector,\n  proxySelector\n} from 'redux/selectors';\nimport { transactionsToSignSelector } from 'redux/selectors';\nimport {\n  clearSignTransactions,\n  clearTransactionsInfoForSessionId,\n  updateSignedTransaction\n} from 'redux/slices';\nimport { LoginMethodsEnum, TransactionBatchStatusesEnum } from 'types/enums';\nimport { getLatestNonce, getProviderType } from 'utils';\nimport { buildReplyUrl } from 'utils';\nimport { parseTransactionAfterSigning } from 'utils';\n\nexport function useSignTransactions() {\n  const provider = useSelector(providerSelector);\n  const proxy = useSelector(proxySelector);\n  const address = useSelector(addressSelector);\n  const transactionsToSign = useSelector(transactionsToSignSelector);\n  const savedCallback = useRef('/');\n  const dispatch = useDispatch();\n  const [error, setError] = useState<string | null>(null);\n\n  useParseSignedTransactions();\n\n  const providerType = getProviderType(provider);\n\n  function clearSignInfo(sessionId?: string) {\n    dispatch(clearSignTransactions());\n    dispatch(clearTransactionsInfoForSessionId(sessionId));\n\n    if (provider instanceof ExtensionProvider) {\n      ExtensionProvider.getInstance()?.cancelAction?.();\n    }\n  }\n\n  function onCancel(e: string, sessionId?: string) {\n    //this is triggered by abort action, so no need to show error again\n    if (e !== 'Transaction cancelled') {\n      setError(e);\n    }\n    clearSignInfo(sessionId);\n  }\n\n  function onAbort(sessionId?: string) {\n    setError(null);\n    clearSignInfo(sessionId);\n  }\n\n  const signTransactions = async () => {\n    if (transactionsToSign) {\n      const { sessionId, transactions, callbackRoute } = transactionsToSign;\n      //the callback will go to undefined if the transaction is cancelled, so we save the most recent one for a valid transaction\n      savedCallback.current = callbackRoute;\n      try {\n        if (provider == null) {\n          console.error(\n            'You need a signer/valid signer to send a transaction, use either WalletProvider, LedgerProvider or WalletConnect'\n          );\n          return;\n        }\n\n        const proxyAccount = await proxy.getAccount(new Address(address));\n        const latestNonce = getLatestNonce(proxyAccount);\n\n        transactions.forEach((tx: Transaction, i: number) => {\n          tx.setNonce(new Nonce(latestNonce + i));\n        });\n\n        switch (providerType) {\n          case LoginMethodsEnum.wallet:\n            const callbackUrl = buildReplyUrl({\n              callbackUrl: `${window.location.origin}${callbackRoute}`,\n              urlParams: { [walletSignSession]: sessionId }\n            });\n\n            dispatch(clearSignTransactions());\n            provider.signTransactions(transactions, {\n              callbackUrl: encodeURIComponent(callbackUrl)\n            });\n\n            break;\n          case LoginMethodsEnum.extension:\n          case LoginMethodsEnum.walletconnect:\n          case LoginMethodsEnum.extra:\n            signTransactionsWithProvider();\n            break;\n        }\n      } catch (err) {\n        const errMessage = 'error when signing';\n        console.error(errMessage, err);\n        onCancel(err?.message || errMessage, sessionId);\n        dispatch(\n          updateSignedTransaction({\n            [sessionId]: {\n              status: TransactionBatchStatusesEnum.cancelled\n            }\n          })\n        );\n      }\n    }\n  };\n\n  async function signTransactionsWithProvider() {\n    try {\n      const {\n        sessionId,\n        transactions,\n        callbackRoute,\n        sessionInformation,\n        redirectAfterSign\n      } = transactionsToSign!;\n      if (transactions?.length) {\n        const initialized = await provider.init();\n        if (!initialized) {\n          return;\n        }\n        try {\n          const signedTransactions: Transaction[] =\n            await provider.signTransactions(transactions);\n\n          const signingDisabled =\n            !signedTransactions ||\n            (signedTransactions &&\n              Object.keys(signedTransactions).length !== transactions?.length);\n          if (!signingDisabled && signedTransactions) {\n            dispatch(\n              updateSignedTransaction({\n                [sessionId]: {\n                  status: TransactionBatchStatusesEnum.signed,\n                  sessionInformation,\n                  transactions: Object.values(signedTransactions).map((tx) =>\n                    parseTransactionAfterSigning(tx)\n                  )\n                }\n              })\n            );\n            if (\n              redirectAfterSign &&\n              !window.location.pathname.includes(callbackRoute)\n            ) {\n              window.location.href = callbackRoute;\n            }\n          }\n        } catch (err) {\n          console.error('error signing transaction', err);\n          onCancel(err.message, sessionId);\n        }\n      }\n    } catch (err) {\n      console.error('error signing transaction', err);\n      onCancel(err.message);\n    }\n  }\n\n  useEffect(() => {\n    if (transactionsToSign?.sessionId) {\n      signTransactions();\n    }\n  }, [transactionsToSign?.sessionId]);\n  const hasTransactions = transactionsToSign?.transactions;\n  return {\n    onAbort,\n    error,\n    hasTransactions,\n    transactions: transactionsToSign?.transactions,\n    sessionId: transactionsToSign?.sessionId,\n    callbackRoute: savedCallback.current\n  };\n}\n\nexport default useSignTransactions;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { signedTransactionsSelector } from 'redux/selectors';\n\nexport function useGetSignedTransactions() {\n  return useSelector(signedTransactionsSelector);\n}\n\nexport default useGetSignedTransactions;\n","let swr: any = {};\ntry {\n  swr = require('swr');\n} catch (err) {}\n\nexport default swr;\n","import useGetNetworkConfig from 'hooks/useGetNetworkConfig';\n\nimport useSwr from 'optionalPackages/swr';\n\ninterface TokenOptionType {\n  tokenLabel: string;\n  tokenDenomination: number;\n  tokenAvatar: string;\n  error?: string;\n}\n\ninterface TokenInfoResponse {\n  identifier: string;\n  name: string;\n  ticker: string;\n  decimals: number;\n  assets: {\n    description: string;\n    status: string;\n    svgUrl: string;\n  };\n}\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json());\n\nexport function useGetTokenDetails({\n  tokenId\n}: {\n  tokenId: string;\n}): TokenOptionType {\n  const { network } = useGetNetworkConfig();\n  if (!tokenId) {\n    return {\n      tokenDenomination: Number(network.egldDenomination),\n      tokenLabel: '',\n      tokenAvatar: ''\n    };\n  }\n  const {\n    data: selectedToken,\n    error\n  }: { data?: TokenInfoResponse; error?: string } = useSwr(\n    `${network.apiAddress}/tokens/${tokenId}`,\n    fetcher\n  );\n\n  const tokenDenomination = selectedToken\n    ? selectedToken?.decimals\n    : Number(network.egldDenomination);\n  const tokenLabel = selectedToken ? selectedToken?.name : '';\n  const tokenAvatar = selectedToken ? `${selectedToken?.assets?.svgUrl}` : '';\n\n  return { tokenDenomination, tokenLabel, tokenAvatar, error };\n}\n\nexport default useGetTokenDetails;\n","import { useEffect, useState } from 'react';\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  egldLabelSelector,\n  providerSelector,\n  transactionsToSignSelector\n} from 'redux/selectors';\nimport {\n  clearSignTransactions,\n  setSignTransactionsError,\n  updateSignedTransaction\n} from 'redux/slices/transactionsSlice';\nimport { useParseMultiEsdtTransferData } from 'services/transactions/hooks/useParseMultiEsdtTransferData';\nimport { ActiveLedgerTransactionType, MultiSignTxType } from 'types';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport { isTokenTransfer } from 'utils';\nimport { parseTransactionAfterSigning } from 'utils';\n\ninterface UseSignTransactionsWithLedgerPropsType {\n  onCancel: () => void;\n}\n\ntype LedgerSignedTransactions = Record<number, Transaction>;\n\ninterface UseSignTransactionsWithLedgerReturnType {\n  allTransactions: MultiSignTxType[];\n  onSignTransaction: () => void;\n  onNext: () => void;\n  onPrev: () => void;\n  onAbort: () => void;\n  waitingForDevice: boolean;\n  isLastTransaction: boolean;\n  currentStep: number;\n  callbackRoute?: string;\n  signedTransactions?: LedgerSignedTransactions;\n  currentTransaction: ActiveLedgerTransactionType | null;\n}\n\nexport function useSignTransactionsWithLedger({\n  onCancel\n}: UseSignTransactionsWithLedgerPropsType): UseSignTransactionsWithLedgerReturnType {\n  const transactionsToSign = useSelector(transactionsToSignSelector);\n\n  const { sessionId, transactions, callbackRoute, redirectAfterSign } =\n    transactionsToSign || {};\n  const [currentStep, setCurrentStep] = useState(0);\n  const [signedTransactions, setSignedTransactions] =\n    useState<LedgerSignedTransactions>();\n  const { getTxInfoByDataField, allTransactions } =\n    useParseMultiEsdtTransferData({ transactions });\n  const [currentTransaction, setCurrentTransaction] =\n    useState<ActiveLedgerTransactionType | null>(null);\n  const provider = useSelector(providerSelector);\n  const egldLabel = useSelector(egldLabelSelector);\n  const [waitingForDevice, setWaitingForDevice] = useState(false);\n  const dispatch = useDispatch();\n\n  const isLastTransaction = currentStep === allTransactions.length - 1;\n\n  useEffect(() => {\n    extractTransactionsInfo();\n  }, [currentStep, allTransactions]);\n\n  function extractTransactionsInfo() {\n    const tx = allTransactions[currentStep];\n    if (tx == null) {\n      return;\n    }\n    const { transaction, multiTxData } = tx;\n    const dataField = transaction.getData().toString();\n    const transactionTokenInfo = getTxInfoByDataField(\n      transaction.getData().toString(),\n      multiTxData\n    );\n    const { tokenId } = transactionTokenInfo;\n\n    const isTokenTransaction = Boolean(\n      tokenId && isTokenTransfer({ tokenId, erdLabel: egldLabel })\n    );\n\n    setCurrentTransaction({\n      transaction,\n      transactionTokenInfo,\n      isTokenTransaction,\n      dataField\n    });\n  }\n\n  function reset() {\n    setCurrentStep(0);\n    setSignedTransactions(undefined);\n    setWaitingForDevice(false);\n  }\n\n  async function sign() {\n    try {\n      if (currentTransaction == null || sessionId == null) {\n        return;\n      }\n      setWaitingForDevice(true);\n      const signedTx = await provider.signTransaction(\n        currentTransaction.transaction\n      );\n      const newSignedTx = { [currentStep]: signedTx };\n      const newSignedTransactions: any = signedTransactions\n        ? { ...signedTransactions, ...newSignedTx }\n        : newSignedTx;\n      setSignedTransactions(newSignedTransactions);\n      if (!isLastTransaction) {\n        setCurrentStep((exising) => exising + 1);\n      } else if (newSignedTransactions) {\n        dispatch(clearSignTransactions());\n        dispatch(\n          updateSignedTransaction({\n            [sessionId]: {\n              status: TransactionBatchStatusesEnum.signed,\n              transactions: Object.values(newSignedTransactions).map((tx) =>\n                parseTransactionAfterSigning(tx as Transaction, true)\n              )\n            }\n          })\n        );\n        reset();\n        if (\n          callbackRoute != null &&\n          redirectAfterSign &&\n          !window.location.pathname.includes(callbackRoute)\n        ) {\n          window.location.href = callbackRoute;\n        }\n      }\n    } catch (err) {\n      console.error(err, 'sign error');\n      reset();\n      dispatch(setSignTransactionsError(err.message));\n    }\n  }\n\n  function signTx() {\n    try {\n      if (currentTransaction == null) {\n        return;\n      }\n      const signature = currentTransaction.transaction.getSignature();\n      if (signature) {\n        if (!isLastTransaction) {\n          setCurrentStep((exising) => exising + 1);\n        }\n      } else {\n        // currently code doesn't reach here because getSignature throws error if none is found\n        sign();\n      }\n    } catch {\n      // the only way to check if tx has signature is with try catch\n      sign();\n    }\n  }\n\n  function onAbort() {\n    if (isFirst) {\n      dispatch(clearSignTransactions());\n      if (callbackRoute != null && redirectAfterSign) {\n        window.location.href = callbackRoute;\n      }\n    } else {\n      setCurrentStep((existing) => existing - 1);\n    }\n  }\n\n  const continueWithoutSigning =\n    currentTransaction?.transactionTokenInfo?.type &&\n    currentTransaction?.transactionTokenInfo?.multiTxData &&\n    !currentTransaction?.dataField.endsWith(\n      currentTransaction?.transactionTokenInfo?.multiTxData\n    );\n\n  function onSignTransaction() {\n    if (continueWithoutSigning) {\n      setCurrentStep((exising) => exising + 1);\n    } else {\n      signTx();\n    }\n  }\n\n  function onNext() {\n    setCurrentStep((current) => {\n      const nextStep = current + 1;\n      if (nextStep > allTransactions?.length) {\n        return current;\n      }\n      return nextStep;\n    });\n  }\n\n  function onPrev() {\n    if (currentStep === 0) {\n      onCancel();\n    }\n    setCurrentStep((current) => {\n      const nextStep = current - 1;\n      if (nextStep < 0) {\n        return current;\n      }\n      return nextStep;\n    });\n  }\n\n  const isFirst = currentStep === 0;\n\n  return {\n    allTransactions,\n    onSignTransaction,\n    onNext,\n    onPrev,\n    waitingForDevice,\n    onAbort,\n    isLastTransaction,\n    callbackRoute,\n    currentStep,\n    signedTransactions,\n    currentTransaction\n  };\n}\n\nexport default useSignTransactionsWithLedger;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { signTransactionsErrorSelector } from 'redux/selectors';\n\nexport const useGetSignTransactionsError = () => {\n  return useSelector(signTransactionsErrorSelector);\n};\n\nexport default useGetSignTransactionsError;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { accountInfoSelector } from 'redux/selectors';\n\nexport const useGetAccountInfo = () => {\n  return useSelector(accountInfoSelector);\n};\n\nexport default useGetAccountInfo;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector, loginInfoSelector } from 'redux/selectors';\n\nexport const useGetLoginInfo = () => {\n  const loginInfo = useSelector(loginInfoSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  return { ...loginInfo, isLoggedIn };\n};\n\nexport default useGetLoginInfo;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { providerSelector } from 'redux/selectors';\nimport { getProviderType } from 'utils';\n\nexport const useGetAccountProvider = () => {\n  const provider = useSelector(providerSelector);\n  const providerType = getProviderType(provider);\n  return { provider, providerType };\n};\n\nexport default useGetAccountProvider;\n","import axios from 'axios';\nimport {\n  addressSelector,\n  networkSelector,\n  shardSelector\n} from 'redux/selectors';\n\nimport { setAccountShard } from 'redux/slices';\nimport { store } from 'redux/store';\n\nexport default async function getAccountShard() {\n  const appState = store.getState();\n  const network = networkSelector(appState);\n  const address = addressSelector(appState);\n  const shard = shardSelector(appState);\n\n  try {\n    if (shard == null && address) {\n      const { data: account } = await axios.get(\n        `${network.apiAddress}/accounts/${address}`\n      );\n      store.dispatch(setAccountShard(account.shard));\n      return account.shard;\n    } else {\n      return shard;\n    }\n  } catch (err) {\n    console.error(err);\n    return null;\n  }\n}\n","import { useEffect, useState } from 'react';\nimport { Address } from '@elrondnetwork/erdjs/out';\nimport { getServerConfiguration } from 'APICalls/configuration/getServerConfiguration';\nimport { fallbackConfigurations } from 'constants/network';\nimport { useGetAccountInfo } from 'hooks';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch } from 'redux/DappProviderContext';\nimport { initializeExtraActions } from 'redux/slices/extraActionsSlice';\nimport { initializeNetworkConfig } from 'redux/slices/networkConfigSlice';\nimport { CustomNetworkType, EnvironmentsEnum, ExtraActionsType } from 'types';\nimport { logout } from 'utils';\nimport getAccountShard from 'utils/account/getAccountShard';\n\ninterface AppInitializerPropsType {\n  customNetworkConfig?: CustomNetworkType;\n  children: any;\n  environment: EnvironmentsEnum;\n  extraActions?: ExtraActionsType;\n}\n\nexport function AppInitializer({\n  customNetworkConfig = {},\n  children,\n  environment,\n  extraActions\n}: AppInitializerPropsType) {\n  const [initialized, setInitialized] = useState(false);\n  const account = useGetAccountInfo();\n  const { address, publicKey } = account;\n  const dispatch = useDispatch();\n\n  async function initializeNetwork() {\n    const fallbackConfig = fallbackConfigurations[environment];\n    if (fallbackConfig != null) {\n      dispatch(\n        initializeNetworkConfig({ ...fallbackConfig, ...customNetworkConfig })\n      );\n    }\n    const serverConfig = await getServerConfiguration(environment);\n    if (serverConfig != null) {\n      dispatch(\n        initializeNetworkConfig({ ...serverConfig, ...customNetworkConfig })\n      );\n    }\n  }\n\n  function initializeCustomExtraActions() {\n    if (extraActions != null) {\n      try {\n        extraActions?.init({\n          onLogin: (address, loginMethod) => {\n            dispatch(loginAction({ address, loginMethod }));\n          },\n          log: (word) => {\n            console.log('dapp log: ', word);\n          }\n        });\n        dispatch(initializeExtraActions(extraActions));\n      } catch (err) {\n        console.error('Unable to initalize extraActions', err);\n      }\n    }\n  }\n\n  async function initializeApp() {\n    initializeCustomExtraActions();\n    await initializeNetwork();\n    setInitialized(true);\n\n    //sync redux with shardId from server\n    getAccountShard();\n  }\n\n  useEffect(() => {\n    if (address) {\n      const pubKey = new Address(address).hex();\n      if (pubKey !== publicKey) {\n        logout();\n      }\n    }\n  }, [address, publicKey]);\n\n  useEffect(() => {\n    initializeApp();\n  }, [customNetworkConfig, environment]);\n\n  return initialized ? children : null;\n}\n\nexport default AppInitializer;\n","import React, { useCallback } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport {\n  getTransactionsByHashes,\n  sendSignedTransactions\n} from 'APICalls/transactions';\nimport ProviderInitializer from 'components/ProviderInitializer';\nimport TransactionSender from 'components/TransactionSender';\nimport TransactionsTracker from 'components/TransactionsTracker';\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport {\n  GetTransactionsByHashesType,\n  SendSignedTransactionsAsyncType\n} from 'contexts/types';\nimport { DappCoreContext } from 'redux/DappProviderContext';\nimport { CustomNetworkType, EnvironmentsEnum, ExtraActionsType } from 'types';\nimport AppInitializer from 'wrappers/AppInitializer';\n\nimport { store, persistor } from './store';\n\ninterface DappProviderPropsType {\n  children: React.ReactChildren | React.ReactElement;\n  customNetworkConfig?: CustomNetworkType;\n  extraActions?: ExtraActionsType;\n  completedTransactionsDelay?: number;\n  signWithoutSending?: boolean;\n  environment: 'testnet' | 'mainnet' | 'devnet';\n  sendSignedTransactionsAsync?: SendSignedTransactionsAsyncType;\n  getTransactionsByHash?: GetTransactionsByHashesType;\n}\n\nexport const DappProvider = ({\n  children,\n  customNetworkConfig = {},\n  extraActions,\n  completedTransactionsDelay = 0,\n  signWithoutSending = false,\n  environment,\n  sendSignedTransactionsAsync = sendSignedTransactions,\n  getTransactionsByHash = getTransactionsByHashes\n}: DappProviderPropsType) => {\n  const memoizedSendSignedTransactionsAsync = useCallback(\n    sendSignedTransactionsAsync,\n    []\n  );\n\n  const memoizedGetTransactionsByHash = useCallback(getTransactionsByHash, []);\n  return (\n    <Provider context={DappCoreContext} store={store}>\n      <PersistGate persistor={persistor} loading={null}>\n        <OverrideDefaultBehaviourContext.Provider\n          value={{\n            sendSignedTransactionsAsync: memoizedSendSignedTransactionsAsync,\n            getTransactionsByHash: memoizedGetTransactionsByHash,\n            completedTransactionsDelay\n          }}\n        >\n          <AppInitializer\n            environment={environment as EnvironmentsEnum}\n            customNetworkConfig={customNetworkConfig}\n            extraActions={extraActions}\n          >\n            <ProviderInitializer />\n            {!signWithoutSending && <TransactionSender />}\n            <TransactionsTracker />\n            {children}\n          </AppInitializer>\n        </OverrideDefaultBehaviourContext.Provider>\n      </PersistGate>\n    </Provider>\n  );\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport {\n  isAccountLoadingSelector,\n  isLoggedInSelector,\n  walletLoginSelector\n} from 'redux/selectors';\n\nimport { RouteType } from 'types';\n\nconst AuthenticatedRoutesWrapper = ({\n  children,\n  routes,\n  unlockRoute,\n  onRedirect\n}: {\n  children: React.ReactNode;\n  routes: RouteType[];\n  unlockRoute: string;\n  onRedirect?: (unlockRoute?: string) => void;\n}) => {\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  const isAccountLoading = useSelector(isAccountLoadingSelector);\n\n  const walletLogin = useSelector(walletLoginSelector);\n  const { pathname } = window.location;\n\n  const authenticatedRoutesRef = useRef(\n    routes.filter((route) => Boolean(route.authenticatedRoute))\n  );\n\n  const isOnAuthenticatedRoute = authenticatedRoutesRef.current.some(\n    ({ path }) => pathname === path\n  );\n\n  const shouldRedirect =\n    isOnAuthenticatedRoute && !isLoggedIn && walletLogin == null;\n\n  if (isAccountLoading || walletLogin) {\n    return null;\n  }\n\n  if (shouldRedirect) {\n    if (onRedirect) {\n      onRedirect(unlockRoute);\n    } else {\n      window.location.href = unlockRoute;\n    }\n    return null;\n  }\n\n  return <React.Fragment>{children}</React.Fragment>;\n};\n\nexport default AuthenticatedRoutesWrapper;\n","import { Address } from '@elrondnetwork/erdjs';\n\nexport class TransactionParameter {\n  sender: Address;\n  receiver: Address;\n  functionName: string;\n  inputParameters: string[];\n  outputParameters: string[];\n\n  constructor(\n    sender: Address,\n    receiver: Address,\n    functionName: string,\n    inputParameters: string[],\n    outputParameters: string[]\n  ) {\n    this.sender = sender;\n    this.receiver = receiver;\n    this.functionName = functionName;\n    this.inputParameters = inputParameters;\n    this.outputParameters = outputParameters;\n  }\n}\n","import React from 'react';\nimport { wrapperClassName } from 'utils';\n\nexport const withClassNameWrapper =\n  (Component: any) =>\n  ({ ...props }) =>\n    (\n      <span className={wrapperClassName}>\n        <Component {...props} />\n      </span>\n    );\n","import React from 'react';\nimport { validation } from '@elrondnetwork/dapp-utils';\nimport {\n  denomination as configDenomination,\n  decimals as configDecimals\n} from 'constants/index';\nimport { denominate, getEgldLabel } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nexport interface DenominateType {\n  value: string;\n  showLastNonZeroDecimal?: boolean;\n  showLabel?: boolean;\n  token?: string;\n  decimals?: number;\n  denomination?: number;\n  'data-testid'?: string;\n}\n\nconst denominateInvalid = (props: DenominateType) => {\n  return (\n    <span\n      data-testid={\n        props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n      }\n    >\n      <span className='int-amount'>...</span>\n    </span>\n  );\n};\n\nconst denominateValid = (props: DenominateType, erdLabel: string) => {\n  const { value, showLastNonZeroDecimal = false, showLabel = true } = props;\n  const decimals =\n    props.decimals !== undefined ? props.decimals : configDecimals;\n  const denomination =\n    props.denomination !== undefined ? props.denomination : configDenomination;\n\n  const denominatedValue = denominate({\n    input: value,\n    denomination,\n    decimals,\n    showLastNonZeroDecimal,\n    addCommas: true\n  });\n\n  const valueParts = denominatedValue.split('.');\n  const hasNoDecimals = valueParts.length === 1;\n  const isNotZero = denominatedValue !== '0';\n\n  if (decimals > 0 && hasNoDecimals && isNotZero) {\n    let zeros = '';\n\n    for (let i = 1; i <= decimals; i++) {\n      zeros = zeros + '0';\n    }\n\n    valueParts.push(zeros);\n  }\n\n  return (\n    <span\n      data-testid={\n        props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n      }\n    >\n      <span className='int-amount'>{valueParts[0]}</span>\n      {valueParts.length > 1 && (\n        <span className='decimals'>.{valueParts[1]}</span>\n      )}\n      {showLabel && (\n        <span className={`symbol ${props.token ? 'text-muted' : ''}`}>\n          &nbsp;{props.token ? props.token : erdLabel}\n        </span>\n      )}\n    </span>\n  );\n};\n\nconst Denominate = (props: DenominateType & { egldLabel?: string }) => {\n  const { value } = props;\n\n  return !validation.stringIsInteger(value)\n    ? denominateInvalid(props)\n    : denominateValid(props, props.egldLabel || '');\n};\n\nconst DenominateWrapper = (props: DenominateType) => {\n  const egldLabel = getEgldLabel();\n  const denominateProps = { ...props, egldLabel };\n  return <Denominate {...denominateProps} />;\n};\n\nexport default withClassNameWrapper(DenominateWrapper);\n","let fontawesomeFreeSolidIcons: any = {};\ntry {\n  fontawesomeFreeSolidIcons = require('@fortawesome/free-solid-svg-icons');\n} catch (err) {}\n\nexport default fontawesomeFreeSolidIcons;\n","let ReactFontawesome: any = {};\ntry {\n  ReactFontawesome = require('@fortawesome/react-fontawesome');\n} catch (err) {}\n\nexport default ReactFontawesome;\n","import React from 'react';\nimport { useGetNetworkConfig } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nconst ExplorerLink = ({\n  page,\n  text,\n  className\n}: {\n  page: string;\n  text?: any;\n  className?: string;\n}) => {\n  const {\n    network: { explorerAddress }\n  } = useGetNetworkConfig();\n  return (\n    <a\n      href={`${explorerAddress}${page}`}\n      {...{\n        target: '_blank'\n      }}\n      className={`link-style ${className}`}\n    >\n      {text ? (\n        <React.Fragment>{text}</React.Fragment>\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon\n          icon={icons.faSearch}\n          className='text-secondary'\n        />\n      )}\n    </a>\n  );\n};\n\nexport default withClassNameWrapper(ExplorerLink);\n","import React from 'react';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { useExtensionLogin } from 'services';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { ExtensionLoginButtonPropsType } from './types';\n\nconst ExtensionLoginButton: (\n  props: ExtensionLoginButtonPropsType\n) => JSX.Element = ({\n  token,\n  className = 'extension-login',\n  children,\n  callbackRoute,\n  buttonClassName,\n  loginButtonText = 'Maiar DeFi Wallet',\n  redirectAfterLogin = false,\n  shouldRenderDefaultCss = true\n}) => {\n  const [onInitiateLogin] = useExtensionLogin({\n    callbackRoute,\n    token,\n    redirectAfterLogin\n  });\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n      buttonClassName != null ? buttonClassName : ''\n    }`,\n    loginText: 'text-left',\n    noExtensionButtonWrapper: 'btn btn-unlock d-inline-block',\n    noExtensionButtonContent:\n      'd-flex justify-content-between align-items-center',\n    noExtensionButtonTitle: 'title',\n    noExtensionButtonIcon: ''\n  });\n\n  const handleLogin = () => {\n    onInitiateLogin();\n  };\n\n  return !window.elrondWallet ? (\n    <a\n      rel='noreferrer'\n      href='https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en'\n      target='_blank'\n      className={classes.noExtensionButtonWrapper}\n    >\n      <div className={classes.noExtensionButtonContent}>\n        <div className={classes.noExtensionButtonTitle}>Maiar DeFi Wallet</div>\n        <ReactFontawesome.FontAwesomeIcon\n          className={classes.noExtensionButtonIcon}\n          icon={ReactFontawesome.faArrowRight}\n        />\n      </div>\n    </a>\n  ) : (\n    <button onClick={handleLogin} className={classes.wrapper}>\n      {children || <span className={classes.loginText}>{loginButtonText}</span>}\n    </button>\n  );\n};\n\nexport default withClassNameWrapper(ExtensionLoginButton);\n","let ReactBootstrap: any = {};\ntry {\n  ReactBootstrap = require('react-bootstrap');\n} catch (err) {}\n\nexport default ReactBootstrap;\n","import React from 'react';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { wrapperClassName } from 'utils';\n\nconst ModalContainer = ({\n  children,\n  noSpacer,\n  className,\n  title,\n  onClose\n}: {\n  children: React.ReactNode;\n  noSpacer?: boolean;\n  className?: string;\n  title: React.ReactNode;\n  onClose?: () => void;\n}) => {\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={onClose}\n      className={`modal-container ${\n        className ? className : ''\n      } ${wrapperClassName}`}\n      animation={false}\n      centered\n    >\n      <div className='modal-card card w-100'>\n        <div className='card-title h5 mb-0'>\n          <div className='d-flex justify-content-between align-items-center pt-spacer px-spacer mb-0'>\n            <div className={'px-3'}>{title}</div>\n            <button\n              type='button'\n              className='btn btn-light px-3 py-2'\n              onClick={onClose}\n            >\n              <ReactFontawesome.FontAwesomeIcon\n                size='lg'\n                icon={icons.faTimes}\n              />\n            </button>\n          </div>\n        </div>\n\n        <div\n          className={`modal-card-body text-center ${\n            noSpacer ? 'p-0' : 'p-spacer'\n          }`}\n        >\n          {children}\n        </div>\n      </div>\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default ModalContainer;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\nimport classNames from 'classnames';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { PageStateProps } from './types';\n\nexport const PageState = ({\n  icon,\n  title,\n  action,\n  iconClass,\n  dataTestId,\n  description,\n  iconBgClass,\n  iconSize = '5x',\n  className = 'page-state',\n  shouldRenderDefaultCss = true\n}: PageStateProps) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: 'state m-auto p-4 text-center',\n      iconContainer: classNames('icon-state mx-auto', {\n        [`${iconBgClass}`]: Boolean(iconBgClass)\n      }),\n      iconClass: classNames(iconClass != null && iconClass),\n      title: 'h4 my-4',\n      description: 'mb-3'\n    }\n  );\n\n  return (\n    <div className={generatedClasses.wrapper} data-testid={dataTestId}>\n      {icon && (\n        <span className={generatedClasses.iconContainer}>\n          <ReactFontawesome.FontAwesomeIcon\n            icon={icon}\n            className={generatedClasses.iconClass}\n            size={iconSize}\n          />\n        </span>\n      )}\n      {title && <p className={generatedClasses.title}>{title}</p>}\n      {description && (\n        <div className={generatedClasses.description}>{description}</div>\n      )}\n      {action && <React.Fragment>{action}</React.Fragment>}\n    </div>\n  );\n};\n\nexport default withClassNameWrapper(PageState);\n","import React from 'react';\n\nimport Denominate from 'UI/Denominate';\nimport { getAccountBalance } from 'utils';\n\ninterface AddressRowType {\n  selectedAddress?: string;\n  index: number;\n  address: string;\n  onSelectAddress: (address: { address: string; index: number } | null) => void;\n}\n\n// TODO: why not use Trim component?\nconst trimHash = (hash: string, keep = 10) => {\n  const start = hash.substring(0, keep);\n  const end = hash.substring(hash.length - keep);\n  return `${start}...${end}`;\n};\n\nconst noBalance = '...';\n\nconst AddressRow = ({\n  address,\n  index,\n  selectedAddress,\n  onSelectAddress\n}: AddressRowType) => {\n  const [balance, setBalance] = React.useState(noBalance);\n\n  const handleChange = (e: React.SyntheticEvent) => {\n    const { checked } = e.target as HTMLInputElement;\n    if (checked) {\n      onSelectAddress({ address, index });\n    }\n  };\n\n  const fetchBalance = async () => {\n    try {\n      const balance = await getAccountBalance(address);\n      setBalance(balance);\n    } catch (err) {\n      console.error('error fetching balance', balance);\n    }\n  };\n\n  React.useEffect(() => {\n    fetchBalance();\n  }, []);\n\n  return (\n    <tr>\n      <td className='text-left'>\n        <div className='d-flex align-items-start text-left form-check'>\n          <input\n            type='radio'\n            id={`check_${index}`}\n            data-testid={`check_${index}`}\n            onChange={handleChange}\n            role='button'\n            checked={selectedAddress === address}\n            className='form-check-input mr-1'\n          />\n          <label\n            htmlFor={`check_${index}`}\n            role='button'\n            data-testid={`label_${index}`}\n            className='form-check-label text-nowrap trim-size-xl m-0'\n          >\n            <div className='d-flex align-items-center text-nowrap trim'>\n              <span>{trimHash(address)}</span>\n            </div>\n          </label>\n        </div>\n      </td>\n      <td className='text-left'>\n        <Denominate value={balance} />\n      </td>\n      <td className='text-left'>{index}</td>\n    </tr>\n  );\n};\n\nexport default AddressRow;\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses } from 'utils';\n\nimport AddressRow from './AddressRow';\n\nconst ledgerWaitingText = 'Waiting for device';\n\nconst addressesPerPage = 10;\n\ninterface AddressTablePropsType {\n  loading: boolean;\n  accounts: string[];\n  startIndex: number;\n  selectedAddress?: string;\n  className: string;\n  shouldRenderDefaultCss: boolean;\n  onSelectAddress: (address: { address: string; index: number } | null) => void;\n  onGoToPrevPage: () => void;\n  onGoToNextPage: () => void;\n  onConfirmSelectedAddress: () => void;\n}\n\nconst AddressTable = ({\n  loading,\n  accounts,\n  startIndex,\n  selectedAddress,\n  onGoToPrevPage,\n  onGoToNextPage,\n  onConfirmSelectedAddress,\n  onSelectAddress,\n  shouldRenderDefaultCss = true,\n  className = 'ledger-address-table'\n}: AddressTablePropsType) => {\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'card my-4 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    tableWrapper: 'table-responsive',\n    tableContent: 'table m-0 border-bottom',\n    tableHeader: 'py-2 text-semibold border-bottom',\n    tableHeaderText: 'text-left border-0',\n    buttonsWrapper: 'd-flex justify-content-center pager mt-2',\n    arrowButton: 'btn btn-link mx-2',\n    confirmButton: 'btn btn-primary px-4 mt-4'\n  });\n  switch (true) {\n    case loading:\n      return (\n        <PageState\n          className={className}\n          icon={icons.faCircleNotch}\n          iconClass='fa-spin text-primary'\n          title={ledgerWaitingText}\n        />\n      );\n    default:\n      return (\n        <React.Fragment>\n          <div className='m-auto'>\n            <div className={classes.wrapper}>\n              <div className={classes.cardBody}>\n                <div\n                  className={classes.tableWrapper}\n                  data-testid='ledgerAddresses'\n                >\n                  <table className={classes.tableContent}>\n                    <thead className={classes.tableHeader}>\n                      <tr>\n                        <th className={classes.tableHeaderText}>Address</th>\n                        <th className={classes.tableHeaderText}>Balance</th>\n                        <th className={classes.tableHeaderText}>#</th>\n                      </tr>\n                    </thead>\n                    <tbody data-testid='addressesTable'>\n                      {accounts.map((address, index) => {\n                        const key = index + startIndex * addressesPerPage;\n                        return (\n                          <AddressRow\n                            key={key}\n                            address={address}\n                            index={key}\n                            selectedAddress={selectedAddress}\n                            onSelectAddress={onSelectAddress}\n                          />\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <div className={classes.buttonsWrapper}>\n                  <button\n                    type='button'\n                    className={classes.arrowButton}\n                    onClick={onGoToPrevPage}\n                    data-testid='prevBtn'\n                    disabled={startIndex === 0}\n                  >\n                    <ReactFontawesome.FontAwesomeIcon\n                      size='sm'\n                      icon={icons.faChevronLeft}\n                    />{' '}\n                    Prev\n                  </button>\n                  <button\n                    type='button'\n                    className={classes.arrowButton}\n                    onClick={onGoToNextPage}\n                    data-testid='nextBtn'\n                  >\n                    Next{' '}\n                    <ReactFontawesome.FontAwesomeIcon\n                      size='sm'\n                      icon={icons.faChevronRight}\n                    />\n                  </button>\n                </div>\n                <button\n                  className={classes.confirmButton}\n                  disabled={selectedAddress === ''}\n                  onClick={onConfirmSelectedAddress}\n                  data-testid='confirmBtn'\n                >\n                  Confirm\n                </button>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      );\n  }\n};\n\nexport default AddressTable;\n","import React from 'react';\nimport { useGetAccountInfo } from 'hooks';\n\nconst ConfirmAddress = ({\n  token,\n  noBorder\n}: {\n  token?: string;\n  noBorder?: boolean;\n}) => {\n  const { ledgerAccount } = useGetAccountInfo();\n  return (\n    <div className='m-auto'>\n      <div className={`card my-4 text-center ${noBorder ? 'border-0' : ''}`}>\n        <div className='card-body p-4 mx-lg-4'>\n          <h4 className='mb-4'>Confirm Ledger Address</h4>\n          <p>For security, please confirm that your address: </p>\n          <p className='lead border rounded p-2'>\n            {ledgerAccount ? ledgerAccount.address : ''}\n          </p>\n          {token && (\n            <React.Fragment>\n              <p>and Auth Token</p>\n              <p className='lead border rounded p-2'>{`${token}{}`}</p>\n            </React.Fragment>\n          )}\n          <p className='m-0'>\n            {token\n              ? 'are the one shown on your Ledger device screen now.'\n              : 'is the one shown on your Ledger device screen now.'}\n          </p>\n\n          <p>Select Approve on your device to confirm.</p>\n          <p>\n            Or, if it does not match, close this page and{' '}\n            <a\n              href='https://help.elrond.com/en/'\n              {...{\n                target: '_blank'\n              }}\n            >\n              contact support\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmAddress;\n","import React from 'react';\nimport { ReactComponent as LedgerLogo } from '../assets/ledger-nano.svg';\n\nconst LedgerConnect = ({\n  onClick,\n  error,\n  connectPageContent\n}: {\n  onClick: () => void;\n  error: string;\n  connectPageContent?: React.ReactNode;\n}) => {\n  return (\n    <div className='m-auto login-container'>\n      <div className='card my-4 text-center'>\n        <div className='card-body p-4 mx-lg-4'>\n          {connectPageContent ? (\n            <React.Fragment>{connectPageContent}</React.Fragment>\n          ) : (\n            <React.Fragment>\n              <LedgerLogo className='mb-4' />\n              <h4 className='mb-4'>Connect Ledger</h4>\n              <p className='lead mb-4'>\n                Unlock your device &amp; open the Elrond App.\n              </p>\n            </React.Fragment>\n          )}\n\n          <div>\n            {error && (\n              <p className='text-danger d-flex justify-content-center align-items-center'>\n                {error}\n              </p>\n            )}\n            <button\n              className='btn btn-primary px-4'\n              onClick={onClick}\n              data-testid='connectBtn'\n            >\n              Connect Ledger\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LedgerConnect;\n","import React from 'react';\nimport { useGetAccountInfo } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport { useLedgerLogin } from 'services';\nimport ModalContainer from 'UI/ModalContainer';\n\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport AddressTable from './AddressTable';\nimport ConfirmAddress from './ConfirmAddress';\nimport LedgerConnect from './LedgerConnect';\n\nconst ledgerWaitingText = 'Waiting for device';\n\ninterface LedgerLoginContainerPropsType {\n  callbackRoute: string;\n  className?: string;\n  shouldRenderDefaultCss?: boolean;\n  wrapContentInsideModal?: boolean;\n  redirectAfterLogin?: boolean;\n  token?: string;\n  onClose?: () => void;\n}\n\nfunction LedgerLoginContainer({\n  callbackRoute,\n  className = 'login-modal-content',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin,\n  onClose,\n  token\n}: LedgerLoginContainerPropsType) {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    { spinner: 'fa-spin text-primary' }\n  );\n  const { ledgerAccount } = useGetAccountInfo();\n  const [\n    onStartLogin,\n    { error, isLoading },\n    {\n      showAddressList,\n      accounts,\n      onGoToPrevPage,\n      onGoToNextPage,\n      onSelectAddress,\n      onConfirmSelectedAddress,\n      startIndex,\n      selectedAddress\n    }\n  ] = useLedgerLogin({ callbackRoute, token, redirectAfterLogin });\n\n  function getContent() {\n    if (isLoading) {\n      return (\n        <PageState\n          icon={icons.faCircleNotch}\n          iconClass={generatedClasses.spinner}\n          title={ledgerWaitingText}\n        />\n      );\n    }\n    if (ledgerAccount != null && !error) {\n      return <ConfirmAddress token={token} />;\n    }\n\n    if (showAddressList && !error) {\n      return (\n        <AddressTable\n          accounts={accounts}\n          loading={isLoading}\n          className={className}\n          shouldRenderDefaultCss={shouldRenderDefaultCss}\n          onGoToNextPage={onGoToNextPage}\n          onGoToPrevPage={onGoToPrevPage}\n          onSelectAddress={onSelectAddress}\n          startIndex={startIndex}\n          selectedAddress={selectedAddress?.address}\n          onConfirmSelectedAddress={onConfirmSelectedAddress}\n        />\n      );\n    }\n\n    return <LedgerConnect onClick={onStartLogin} error={error} />;\n  }\n  return wrapContentInsideModal ? (\n    <ModalContainer\n      title={'Login with ledger'}\n      className={className}\n      onClose={onClose}\n    >\n      {getContent()}\n    </ModalContainer>\n  ) : (\n    getContent()\n  );\n}\n\nexport default withClassNameWrapper(LedgerLoginContainer);\n","import React from 'react';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport LedgerLoginContainer from '../LoginModal';\nimport { LedgerLoginButtonPropsType } from './types';\n\nconst LedgerLoginButton: (props: LedgerLoginButtonPropsType) => JSX.Element = ({\n  token,\n  callbackRoute,\n  children,\n  loginButtonText = 'Ledger',\n  buttonClassName,\n  className = 'ledger-login',\n  redirectAfterLogin = false,\n  wrapContentInsideModal = true,\n  shouldRenderDefaultCss = true\n}) => {\n  const [showLoginModal, setShowLoginModal] = React.useState(false);\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n        buttonClassName != null ? buttonClassName : ''\n      }`,\n      loginText: 'text-left'\n    }\n  );\n\n  function handleOpenModal() {\n    setShowLoginModal(true);\n  }\n\n  function handleCloseModal() {\n    setShowLoginModal(false);\n  }\n\n  return (\n    <span className={wrapperClassName}>\n      <button onClick={handleOpenModal} className={generatedClasses.wrapper}>\n        {children || (\n          <span className={generatedClasses.loginText}>{loginButtonText}</span>\n        )}\n      </button>\n      {showLoginModal && (\n        <LedgerLoginContainer\n          className={className}\n          shouldRenderDefaultCss={shouldRenderDefaultCss}\n          callbackRoute={callbackRoute}\n          token={token}\n          wrapContentInsideModal={wrapContentInsideModal}\n          redirectAfterLogin={redirectAfterLogin}\n          onClose={handleCloseModal}\n        />\n      )}\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(LedgerLoginButton);\n","import React from 'react';\n\nimport { useGetNotification } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { NotificationTypesEnum } from 'types';\n\nimport { wrapperClassName } from 'utils';\nimport PageState from '../PageState';\n\nconst notificationTypesToIcons = {\n  [NotificationTypesEnum.warning]: icons.faExclamationTriangle\n};\nconst defaultIcon = icons.faExclamationTriangle;\n\nexport function NotificationModal() {\n  const { notification, clearNotification } = useGetNotification();\n\n  const showModal = Boolean(notification);\n  const onDone = () => {\n    clearNotification();\n  };\n\n  const icon = notification\n    ? notificationTypesToIcons[notification?.type] || defaultIcon\n    : null;\n\n  return notification ? (\n    <ReactBootstrap.Modal\n      show={showModal}\n      backdrop={true}\n      onHide={notification}\n      className={`modal-container ${wrapperClassName}`}\n      animation={false}\n      centered\n    >\n      <div className='card w-100 notification-modal'>\n        <PageState\n          icon={icon}\n          iconClass={notification.iconClassName}\n          iconBgClass='p-4 rounded-bg-circle'\n          iconSize='3x'\n          title={notification.title}\n          description={notification.description}\n          action={\n            <button className='btn btn-primary' onClick={onDone}>\n              Done\n            </button>\n          }\n        />\n      </div>\n    </ReactBootstrap.Modal>\n  ) : null;\n}\n\nexport default NotificationModal;\n","import React from 'react';\nimport classNames from 'optionalPackages/classnames';\nimport freeSolidIcons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\n\nconst SignWithExtensionModal = ({\n  handleClose,\n  error,\n  callbackRoute,\n  transactions,\n  className = 'extension-modal'\n}: SignModalPropsType) => {\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container extension',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  const description = error\n    ? error\n    : transactions && transactions.length > 1\n    ? 'Check your Elrond Wallet Extension to sign the transactions'\n    : 'Check your Elrond Wallet Extension to sign the transaction';\n\n  const close = (e: React.MouseEvent) => {\n    e.preventDefault();\n    handleClose();\n    if (\n      callbackRoute != null &&\n      !window.location.pathname.includes(callbackRoute)\n    ) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={handleClose}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <PageState\n        icon={error ? freeSolidIcons.faTimes : freeSolidIcons.faHourglass}\n        iconClass={classes.icon}\n        className={className}\n        iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n        iconSize='3x'\n        title='Confirm on Maiar DeFi Wallet'\n        description={description}\n        action={\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={close}\n            className={classes.closeBtn}\n          >\n            Close\n          </button>\n        }\n      />\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithExtensionModal;\n","import * as React from 'react';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\n\nexport const Simple = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol'>{children}</div>\n);\n\nexport const Combined = ({\n  small,\n  children\n}: {\n  small: boolean | undefined;\n  children: React.ReactNode;\n}) => (\n  <div className={`token-symbol-combined ${small ? 'small' : ''}`}>\n    {children}\n  </div>\n);\n\nexport const Wrapped = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol-wrapped'>\n    <div className='wrapped rounded-circle shadow'>\n      <div className='locked-icon'>\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faDollarSign} size='sm' />\n      </div>\n      {children}\n    </div>\n  </div>\n);\n\nexport const Pool = ({\n  first,\n  second\n}: {\n  first: React.ReactNode;\n  second: React.ReactNode;\n}) => (\n  <div className='token-symbol-pool'>\n    <div className='pool rounded-circle shadow'>\n      {first}\n      <div className='pool-icon'>{second}</div>\n    </div>\n  </div>\n);\n\nexport const Locked = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol-locked'>\n    <div className='locked rounded-circle shadow'>\n      <div className='locked-icon'>\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faLock} size='sm' />\n      </div>\n      {children}\n    </div>\n  </div>\n);\n","import * as React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getEgldLabel, wrapperClassName } from 'utils';\nimport { ReactComponent as EgldIcon } from '../../assets/icons/EGLD.svg';\nimport { Simple, Combined } from './TokenSymbol';\n\nconst getIdentifierWithoutNonce = (identifier: string) => {\n  const tokenParts = identifier.split('-');\n  return identifier.includes('-')\n    ? `${tokenParts[0]}-${tokenParts[1]}`\n    : identifier;\n};\n\ntype TokenIconProps = {\n  token: string;\n  combined?: boolean | undefined;\n  small?: boolean | undefined;\n};\ntype TokenIconType = TokenIconProps & {\n  symbol: string;\n  label: string;\n  icon: React.ReactNode;\n};\n\nconst getDetails = (token: string): TokenIconType => {\n  const egldLabel = getEgldLabel();\n  const isEgldTransfer = token === egldLabel;\n  return {\n    token,\n    symbol: token ? token.split('-')[0] : '',\n    label: token,\n    // eslint-disable-next-line react/display-name\n    icon: () =>\n      isEgldTransfer ? (\n        <EgldIcon />\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faGem} />\n      )\n  };\n};\n\nexport default class TokenDetails extends React.Component {\n  static Token = (props: TokenIconProps) => (\n    <React.Fragment>{props.token}</React.Fragment>\n  );\n  static Symbol = (props: TokenIconProps) => (\n    <React.Fragment>\n      {getDetails(getIdentifierWithoutNonce(props.token)).symbol}\n    </React.Fragment>\n  );\n  static Label = (props: TokenIconProps) => (\n    <React.Fragment>\n      {getDetails(getIdentifierWithoutNonce(props.token)).label}\n    </React.Fragment>\n  );\n  static Icon = (props: TokenIconProps) => {\n    const Component: any =\n      process.env.NODE_ENV !== 'test'\n        ? getDetails(getIdentifierWithoutNonce(props.token)).icon\n        : () => null;\n\n    return (\n      <span className={wrapperClassName}>\n        {props.combined ? (\n          <Combined small={props.small}>\n            <Component />\n          </Combined>\n        ) : (\n          <Simple>\n            <Component />\n          </Simple>\n        )}\n      </span>\n    );\n  };\n  render() {\n    return null;\n  }\n}\n","import * as React from 'react';\nimport { decodePart } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nconst allOccurences = (sourceStr: string, searchStr: string) =>\n  [...sourceStr.matchAll(new RegExp(searchStr, 'gi'))].map((a) => a.index);\n\nconst TransactionData = ({\n  data,\n  highlight,\n  isScCall\n}: {\n  data: string;\n  highlight?: string;\n  isScCall?: boolean;\n}) => {\n  let output = <React.Fragment>{data}</React.Fragment>;\n\n  const [encodedScCall, ...remainingDataFields] =\n    highlight && isScCall ? highlight.split('@') : [];\n\n  if (data && highlight && allOccurences(data, highlight).length === 1) {\n    switch (true) {\n      case data.startsWith(highlight): {\n        const [, rest] = data.split(highlight);\n        output = (\n          <React.Fragment>\n            {highlight}\n            <span className='text-muted'>{rest}</span>\n          </React.Fragment>\n        );\n        break;\n      }\n      case data.endsWith(highlight): {\n        const [rest] = data.split(highlight);\n        output = (\n          <React.Fragment>\n            <span className='text-muted'>{rest}</span>\n            {highlight}\n          </React.Fragment>\n        );\n        break;\n      }\n\n      default: {\n        const [start, end] = data.split(highlight);\n\n        output = (\n          <React.Fragment>\n            <span className='text-muted'>{start}</span>\n            <span className={'highlighted'}>{highlight}</span>\n            <span className='text-muted'>{end}</span>\n          </React.Fragment>\n        );\n        break;\n      }\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {encodedScCall && (\n        <div className='form-group mb-0 data-field mw-100'>\n          <span className='form-label text-secondary d-block'>SC Call</span>\n\n          <div\n            data-testid='confirmScCall'\n            className='textarea sc-call form-control cursor-text mt-1 text-break-all'\n          >\n            {[decodePart(encodedScCall), ...remainingDataFields].join('@')}\n          </div>\n        </div>\n      )}\n      <div className='form-group mb-0 data-field mw-100'>\n        <span className='form-label text-secondary d-block'>Data</span>\n\n        <div\n          data-testid='confirmData'\n          className='textarea form-control cursor-text mt-1 text-break-all'\n        >\n          {data ? output : 'N/A'}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(TransactionData);\n","import React from 'react';\nimport { Address } from '@elrondnetwork/erdjs/out';\nimport { useGetNetworkConfig } from 'hooks';\nimport useGetTokenDetails from 'hooks/transactions/useGetTokenDetails';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport PageState from 'UI/PageState';\nimport TokenDetails from 'UI/TokenDetails';\nimport TransactionData from 'UI/TransactionData';\nimport {\n  denominate,\n  getEgldLabel,\n  getGeneratedClasses,\n  isTokenTransfer\n} from 'utils';\n\nexport interface SignStepType {\n  onSignTransaction: () => void;\n  onPrev: () => void;\n  handleClose: () => void;\n  waitingForDevice: boolean;\n  error: string | null;\n  callbackRoute?: string;\n  currentStep: number;\n  currentTransaction: any;\n  isLastTransaction: boolean;\n  className: string;\n}\n\nconst SignStep = ({\n  onSignTransaction,\n  handleClose,\n  onPrev,\n  waitingForDevice,\n  currentTransaction,\n  error,\n  isLastTransaction,\n  currentStep,\n  className\n}: SignStepType) => {\n  const egldLabel = getEgldLabel();\n  const transactionData = currentTransaction.transaction.getData().toString();\n  const { network } = useGetNetworkConfig();\n\n  const { tokenId, amount, type, multiTxData, receiver } =\n    currentTransaction.transactionTokenInfo;\n\n  const isTokenTransaction = Boolean(\n    tokenId && isTokenTransfer({ tokenId, erdLabel: egldLabel })\n  );\n\n  const onCloseClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (isFirst) {\n      handleClose();\n    } else {\n      onPrev();\n    }\n  };\n\n  const continueWithoutSigning =\n    type && multiTxData && !transactionData.endsWith(multiTxData);\n\n  let signBtnLabel = 'Sign & Continue';\n  signBtnLabel = waitingForDevice ? 'Check your Ledger' : signBtnLabel;\n  signBtnLabel =\n    isLastTransaction && !waitingForDevice ? 'Sign & Submit' : signBtnLabel;\n  signBtnLabel = continueWithoutSigning ? 'Continue' : signBtnLabel;\n\n  const isFirst = currentStep === 0;\n\n  const { tokenDenomination } = useGetTokenDetails({\n    tokenId: currentTransaction.transactionTokenInfo.tokenId\n  });\n\n  const denominatedAmount = denominate({\n    input: isTokenTransaction\n      ? amount\n      : currentTransaction.transaction.getValue().toString(),\n    denomination: isTokenTransaction\n      ? tokenDenomination\n      : Number(network.egldDenomination),\n    decimals: Number(network.decimals),\n    showLastNonZeroDecimal: false,\n    addCommas: true\n  });\n\n  const classes = getGeneratedClasses(className, true, {\n    formGroup: 'form-group text-left',\n    formLabel: 'form-label text-secondary',\n    icon: 'text-white',\n    contentWrapper:\n      'd-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3',\n    tokenWrapper: 'mb-3 mb-md-0 d-flex flex-column align-items-start',\n    tokenLabel: 'text-secondary text-left',\n    tokenValue: 'd-flex align-items-center mt-1',\n    tokenAmountLabel: 'text-secondary text-left',\n    tokenAmountValue: 'd-flex align-items-center',\n    dataFormGroup: 'form-group text-left',\n    errorMessage:\n      'text-danger d-flex justify-content-center align-items-center',\n    buttonsWrapper: 'd-flex align-items-center justify-content-end mt-spacer',\n    cancelButton: 'btn btn-dark text-white flex-even mr-2',\n    signButton: 'btn btn-primary flex-even ml-2'\n  });\n\n  return (\n    <PageState\n      icon={error ? icons.faTimes : icons.faHourglass}\n      iconClass={classes.icon}\n      iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n      iconSize='3x'\n      className={className}\n      title='Confirm on Ledger'\n      description={\n        <React.Fragment>\n          {currentTransaction.transaction && (\n            <React.Fragment>\n              <div className={classes.formGroup} data-testid='transactionTitle'>\n                <div className={classes.formLabel}>To: </div>\n                {multiTxData\n                  ? new Address(receiver).bech32()\n                  : currentTransaction.transaction.getReceiver().toString()}\n              </div>\n\n              <div className={classes.contentWrapper}>\n                <div className={classes.tokenWrapper}>\n                  <div className={classes.tokenlabel}>Token</div>\n                  <div className={classes.tokenValue}>\n                    <TokenDetails.Icon token={tokenId || egldLabel} />\n                    <div className='mr-1'></div>\n                    <TokenDetails.Label token={tokenId || egldLabel} />\n                  </div>\n                </div>\n                <div>\n                  <div className={classes.tokenAmountLabel}>Amount</div>\n                  <div className={classes.tokenAmountValue}>\n                    <div className='mr-1'>{denominatedAmount}</div>\n                    <TokenDetails.Symbol token={tokenId || egldLabel} />\n                  </div>\n                </div>\n              </div>\n\n              <div className={classes.dataFormGroup}>\n                {currentTransaction.transaction.getData() && (\n                  <TransactionData\n                    {...{\n                      data: currentTransaction.transaction.getData().toString(),\n                      highlight: multiTxData,\n                      isScCall: !tokenId\n                    }}\n                  />\n                )}\n              </div>\n              {error && <p className={classes.errorMessage}>{error}</p>}\n            </React.Fragment>\n          )}\n        </React.Fragment>\n      }\n      action={\n        <div className={classes.buttonsWrapper}>\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={onCloseClick}\n            className={classes.cancelButton}\n          >\n            {isFirst ? 'Cancel' : 'Back'}\n          </button>\n\n          <button\n            type='button'\n            className={classes.signButton}\n            id='signBtn'\n            data-testid='signBtn'\n            onClick={onSignTransaction}\n            disabled={waitingForDevice}\n          >\n            {signBtnLabel}\n          </button>\n        </div>\n      }\n    />\n  );\n};\n\nexport default SignStep;\n","import React from 'react';\nimport { useSignTransactionsWithLedger } from 'hooks';\nimport classNames from 'optionalPackages/classnames';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport SignStep from './SignStep';\n\nconst SignWithLedgerModal = ({\n  handleClose,\n  error,\n  className = 'ledger-modal'\n}: SignModalPropsType) => {\n  const {\n    onSignTransaction,\n    onNext,\n    onPrev,\n    allTransactions,\n    waitingForDevice,\n    onAbort,\n    isLastTransaction,\n    currentStep,\n    callbackRoute,\n    currentTransaction\n  } = useSignTransactionsWithLedger({ onCancel: handleClose });\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    container: 'card container',\n    cardBody: 'card-body'\n  });\n  return (\n    <ReactBootstrap.Modal\n      show={currentTransaction != null}\n      backdrop='static'\n      onHide={handleClose}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <div className={classes.container}>\n        <div className={classes.cardBody}>\n          <SignStep\n            {...{\n              onSignTransaction,\n              onNext,\n              onPrev,\n              allTransactions,\n              waitingForDevice,\n              isLastTransaction,\n              currentStep,\n              callbackRoute,\n              currentTransaction,\n              handleClose: onAbort,\n              className,\n              error\n            }}\n          />\n        </div>\n      </div>\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithLedgerModal;\n","import React from 'react';\n\nimport classNames from 'optionalPackages/classnames';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\n\nexport const SignWithWalletConnectModal = ({\n  error,\n  handleClose,\n  callbackRoute,\n  transactions,\n  className = 'wallet-connect-modal'\n}: SignModalPropsType) => {\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n\n  const hasMultipleTransactions = transactions && transactions?.length > 1;\n  const description = error\n    ? error\n    : `Check your phone to sign the transaction${\n        hasMultipleTransactions ? 's' : ''\n      }`;\n\n  const close = (e: React.MouseEvent) => {\n    e.preventDefault();\n    handleClose();\n    if (\n      callbackRoute != null &&\n      !window.location.pathname.includes(callbackRoute)\n    ) {\n      window.location.href = callbackRoute;\n    }\n  };\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={close}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <PageState\n        icon={error ? icons.faTimes : icons.faHourglass}\n        iconClass={classes.icon}\n        className={className}\n        iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n        iconSize='3x'\n        title='Confirm on Maiar'\n        description={description}\n        action={\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={close}\n            className={classes.closeBtn}\n          >\n            Close\n          </button>\n        }\n      />\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithWalletConnectModal;\n","import React from 'react';\n\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport {\n  useGetAccountProvider,\n  useGetSignTransactionsError,\n  useSignTransactions\n} from 'hooks';\nimport { LoginMethodsEnum } from 'types';\nimport { getIsProviderEqualTo } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport SignWithExtensionModal from './SignWithExtensionModal';\nimport SignWithLedgerModal from './SignWithLedgerModal';\nimport SignWithWalletConnectModal from './SignWithWalletConnectModal';\n\ninterface SignPropsType {\n  handleClose: () => void;\n  error: string | null;\n  sessionId?: string;\n  transactions: Transaction[];\n  providerType: LoginMethodsEnum;\n  callbackRoute: string;\n  className?: string;\n}\n\ninterface CustomConfirmScreensType {\n  Ledger: (signProps: SignPropsType) => React.ReactNode;\n  Extension: (signProps: SignPropsType) => React.ReactNode;\n  WalletConnect: (signProps: SignPropsType) => React.ReactNode;\n  Extra: (signProps: SignPropsType) => React.ReactNode;\n}\n\ninterface SignTransactionsPropsType {\n  className?: string;\n  CustomConfirmScreens?: CustomConfirmScreensType;\n}\n\nfunction SignTransactionsModals({\n  className,\n  CustomConfirmScreens\n}: SignTransactionsPropsType) {\n  const {\n    callbackRoute,\n    transactions,\n    error,\n    sessionId,\n    onAbort,\n    hasTransactions\n  } = useSignTransactions();\n\n  const { providerType } = useGetAccountProvider();\n  const signTransactionsError = useGetSignTransactionsError();\n\n  const handleClose = () => {\n    onAbort(sessionId);\n  };\n\n  const signError = error || signTransactionsError;\n\n  const signProps: SignPropsType = {\n    handleClose,\n    error: signError,\n    sessionId,\n    transactions: transactions!,\n    providerType,\n    callbackRoute,\n    className\n  };\n  return signError || hasTransactions ? (\n    <React.Fragment>\n      {getIsProviderEqualTo(LoginMethodsEnum.ledger) &&\n        (CustomConfirmScreens?.Ledger?.(signProps) || (\n          <SignWithLedgerModal {...signProps} />\n        ))}\n      {getIsProviderEqualTo(LoginMethodsEnum.walletconnect) &&\n        (CustomConfirmScreens?.WalletConnect?.(signProps) || (\n          <SignWithWalletConnectModal {...signProps} />\n        ))}\n      {getIsProviderEqualTo(LoginMethodsEnum.extension) &&\n        (CustomConfirmScreens?.Extension?.(signProps) || (\n          <SignWithExtensionModal {...signProps} />\n        ))}\n      {getIsProviderEqualTo(LoginMethodsEnum.extra) &&\n        CustomConfirmScreens?.Extra?.(signProps)}\n    </React.Fragment>\n  ) : null;\n}\n\nexport default withClassNameWrapper(SignTransactionsModals);\n","enum SessionStorageKeysEnum {\n  'toasts' = 'toasts'\n}\n\nexport function setToastsIdsToStorage(ids: string[]) {\n  return sessionStorage.setItem(\n    SessionStorageKeysEnum.toasts,\n    JSON.stringify(ids)\n  );\n}\n\nexport function getToastsIdsFromStorage() {\n  const toastsIds = sessionStorage.getItem(SessionStorageKeysEnum.toasts);\n  return toastsIds != null ? JSON.parse(toastsIds) : [];\n}\n","import { Address } from '@elrondnetwork/erdjs/out';\nimport { getShardOfAddress } from 'utils';\n\ninterface IsCrossShardTransactionPropsType {\n  receiverAddress: string;\n  senderShard?: number;\n  senderAddress?: string;\n}\nexport function isCrossShardTransaction({\n  receiverAddress,\n  senderShard,\n  senderAddress\n}: IsCrossShardTransactionPropsType) {\n  try {\n    const receiver = new Address(receiverAddress);\n    const receiverShard = getShardOfAddress(receiver.pubkey());\n    if (senderShard == null && senderAddress != null) {\n      const sender = new Address(senderAddress);\n      return getShardOfAddress(sender) === receiverShard;\n    }\n    return receiverShard === senderShard;\n  } catch (err) {\n    return false;\n  }\n}\n","import React from 'react';\nimport classnames from 'optionalPackages/classnames';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst IconState = ({\n  icon,\n  iconSize = '3x',\n  className = 'icon-state',\n  shouldRenderDefaultCss = true\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: classnames('icon-state mx-auto', className, {\n        half: iconSize === '2x'\n      }),\n      icon: classnames('text-white', className)\n    }\n  );\n\n  return (\n    <span className={generatedClasses.wrapper}>\n      <ReactFontawesome.FontAwesomeIcon\n        icon={icon}\n        size={iconSize}\n        className={generatedClasses.icon}\n      />\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(IconState);\n","import React from 'react';\nimport moment from 'optionalPackages/moment';\nimport { logarithmicRest } from 'utils';\nimport storage from 'utils/session';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './type';\n\nconst Progress = ({ id, children, progress, done }: Props) => {\n  const ref = React.useRef(null);\n  const intervalRef = React.useRef<any>();\n  const removeTxFromSession = () => {\n    const toastProgress = storage.getItem('toastProgress');\n    const hasSessionStoredTx = Boolean(toastProgress[id]);\n\n    if (!hasSessionStoredTx) {\n      return;\n    }\n\n    const expires = moment().add(10, 'minutes').unix();\n\n    delete toastProgress[id];\n\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires\n    });\n  };\n\n  const saveToSession = ({ value }: { value: number }) => {\n    const toastProgress = storage.getItem('toastProgress') || {};\n    toastProgress[id] = value;\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: moment().add(10, 'minutes').unix()\n    });\n  };\n\n  const getInitialData = () => {\n    const totalSeconds = progress ? progress.endTime - progress.startTime : 0;\n    const toastProgress = storage.getItem('toastProgress');\n    const remaining = progress\n      ? ((progress.endTime - moment().unix()) * 100) / totalSeconds\n      : 0;\n\n    const currentRemaining =\n      toastProgress && id in toastProgress ? toastProgress[id] : remaining;\n    return { currentRemaining, totalSeconds };\n  };\n\n  const { totalSeconds, currentRemaining } = getInitialData();\n\n  const [percentRemaining, setPercentRemaining] =\n    React.useState<number>(currentRemaining);\n\n  React.useEffect(() => {\n    if (progress) {\n      const maxPercent = 90;\n      const perc = totalSeconds / maxPercent;\n      const int = moment.duration(perc.toFixed(2), 's').asMilliseconds();\n\n      if (done) {\n        intervalRef.current = setInterval(() => {\n          if (ref.current !== null) {\n            setPercentRemaining((existing) => {\n              const value = existing - 1;\n              if (value <= 0) {\n                clearInterval(intervalRef.current);\n                removeTxFromSession();\n                return 0;\n              } else {\n                saveToSession({ value });\n                return value;\n              }\n            });\n          }\n        }, 5);\n      } else {\n        intervalRef.current = setInterval(() => {\n          if (ref.current !== null) {\n            setPercentRemaining((existing) => {\n              const decrement =\n                existing > 100 - maxPercent ? 1 : logarithmicRest(existing);\n              const value = existing - decrement;\n              saveToSession({ value });\n              return value;\n            });\n          }\n        }, int);\n      }\n\n      return () => {\n        clearInterval(intervalRef.current);\n      };\n    }\n    return;\n  }, [progress, done]);\n  return progress ? (\n    <div className='progress position-relative' ref={ref}>\n      <div\n        className='progress-bar'\n        role='progressbar'\n        style={{ width: `${percentRemaining}%` }}\n        aria-valuenow={percentRemaining}\n        aria-valuemin={0}\n        aria-valuemax={100}\n      >\n        <div className='content-height'>{children}</div>\n      </div>\n      <div className='d-flex position-absolute w-100'>{children}</div>\n    </div>\n  ) : (\n    <React.Fragment>{children}</React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(Progress);\n","function fallbackCopyTextToClipboard(text: string) {\n  let success = false;\n\n  const textArea = document.createElement('textarea');\n  textArea.value = text;\n  textArea.style.position = 'fixed';\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n    success = true;\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n\n  return success;\n}\n\nexport default async function copyTextToClipboard(text: string) {\n  let success = false;\n\n  if (!navigator.clipboard) {\n    success = fallbackCopyTextToClipboard(text);\n  } else {\n    success = await navigator.clipboard.writeText(text).then(\n      function done() {\n        return true;\n      },\n      function error(err) {\n        console.error('Async: Could not copy text: ', err);\n        return false;\n      }\n    );\n  }\n\n  return success;\n}\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport copyTextToClipboard from './helpers/copyToClipboard';\n\ninterface CopyButtonType {\n  text: string;\n  className?: string;\n}\n\nconst CopyButton = ({ text, className = '' }: CopyButtonType) => {\n  const [copyResult, setCopyResut] = React.useState({\n    default: true,\n    success: false\n  });\n\n  const handleCopyToClipboard = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const noSpaces = text ? text.trim() : text;\n    setCopyResut({\n      default: false,\n      success: await copyTextToClipboard(noSpaces)\n    });\n\n    setTimeout(() => {\n      setCopyResut({\n        default: true,\n        success: false\n      });\n    }, 1000);\n  };\n\n  return (\n    <a\n      href='/#'\n      onClick={handleCopyToClipboard}\n      className={`side-action text-secondary ${className}`}\n    >\n      {copyResult.default || !copyResult.success ? (\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faCopy} />\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon\n          icon={icons.faCheck}\n          className='text-primary-highlight'\n        />\n      )}\n    </a>\n  );\n};\n\nexport default withClassNameWrapper(CopyButton);\n","import React from 'react';\nimport { useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\ninterface TrimType {\n  text: string;\n  dataTestId?: string;\n}\n\nconst Trim = ({ text, dataTestId = '' }: TrimType) => {\n  const [overflow, setOverflow] = React.useState(false);\n  const trimRef = React.useRef(document.createElement('span'));\n  const hiddenTextRef = React.useRef(document.createElement('span'));\n\n  const listener = useCallback(\n    debounce(() => {\n      if (trimRef.current && hiddenTextRef.current) {\n        const diff =\n          hiddenTextRef.current.offsetWidth - trimRef.current.offsetWidth;\n        setOverflow(diff > 1);\n      }\n    }, 300),\n    []\n  );\n\n  const addWindowResizeListener = () => {\n    window.addEventListener('resize', listener);\n    return () => {\n      window.removeEventListener('resize', listener);\n    };\n  };\n\n  React.useEffect(addWindowResizeListener);\n\n  React.useEffect(() => {\n    listener();\n  }, []);\n\n  return (\n    <span\n      ref={trimRef}\n      className={`trim ${overflow ? 'overflow' : ''}`}\n      data-testid={dataTestId}\n    >\n      <span ref={hiddenTextRef} className='hidden-text-ref'>\n        {text}\n      </span>\n\n      {overflow ? (\n        <React.Fragment>\n          <span className='left'>\n            <span>\n              {String(text).substring(0, Math.floor(text.length / 2))}\n            </span>\n          </span>\n          <span className='ellipsis'>...</span>\n          <span className='right'>\n            <span>{String(text).substring(Math.ceil(text.length / 2))}</span>\n          </span>\n        </React.Fragment>\n      ) : (\n        <span>{text}</span>\n      )}\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(Trim);\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport CopyButton from 'UI/CopyButton';\nimport ExplorerLink from 'UI/ExplorerLink';\nimport Trim from 'UI/Trim';\nimport { getGeneratedClasses, isServerTransactionPending } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst TxDetails = ({\n  title,\n  transactions,\n  className = 'tx-details',\n  isTimedOut = false,\n  shouldRenderDefaultCss = true\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      title: 'mb-0',\n      statusTransactions: 'mb-2 mt-1',\n      iconSuccess: 'mr-1 text-secondary',\n      iconFailed: 'mr-1 text-secondary',\n      trimContainer: 'text-nowrap trim-fs-sm mr-3',\n      iconPending: 'mr-1 text-secondary fa-spin slow-spin',\n      item: 'tx-description d-flex justify-content-start align-items-center'\n    }\n  );\n\n  const iconSuccessData = {\n    icon: icons.faCheck,\n    classNames: generatedClasses.iconSuccess\n  };\n\n  const iconFailedData = {\n    icon: icons.faTimes,\n    classNames: generatedClasses.iconSuccess\n  };\n\n  const iconPendingData = {\n    icon: icons.faSpinner,\n    classNames: generatedClasses.iconPending\n  };\n\n  const iconData = {\n    pending: iconPendingData,\n    success: iconSuccessData,\n    completed: iconSuccessData,\n    fail: iconFailedData,\n    invalid: iconFailedData,\n    timedOut: iconFailedData\n  };\n  return (\n    <React.Fragment>\n      {title && <div className={generatedClasses.title}>{title}</div>}\n      <div className={generatedClasses.statusTransactions}>\n        {\n          transactions.filter((tx) => !isServerTransactionPending(tx.status))\n            .length\n        }{' '}\n        / {transactions.length} transactions processed\n      </div>\n      {transactions.map(({ hash, status }) => {\n        const iconSrc = iconData[status];\n        return (\n          <div className={generatedClasses.item} key={hash}>\n            {!isTimedOut && iconSrc != null && (\n              <ReactFontawesome.FontAwesomeIcon\n                icon={iconSrc.icon}\n                className={iconSrc.classNames}\n              />\n            )}\n            <span\n              className={generatedClasses.trimContainer}\n              style={{ width: '10rem' }}\n            >\n              <Trim text={hash} />\n            </span>\n            <CopyButton text={hash} />\n            {!isServerTransactionPending(status) && (\n              <ExplorerLink page={`/transactions/${hash}`} className='ml-2' />\n            )}\n          </div>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(TxDetails);\n","import React, { useMemo, useRef, useState } from 'react';\n\nimport { useGetTransactionDisplayInfo } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport moment from 'optionalPackages/moment';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { shardSelector } from 'redux/selectors';\nimport { isCrossShardTransaction } from 'services/transactions/isCrossShardTransaction';\nimport { SignedTransactionType } from 'types';\nimport IconState from 'UI/IconState';\nimport Progress from 'UI/Progress';\nimport TxDetails from 'UI/TxDetails';\nimport {\n  getAddressFromDataField,\n  getGeneratedClasses,\n  getIsTransactionPending,\n  getIsTransactionTimedOut\n} from 'utils';\n\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { TransactionToastPropsType } from './types';\n\nconst averageTxDurationMs = 6000;\nconst crossShardRounds = 5;\n\nconst TransactionToast = ({\n  toastId,\n  title = '',\n  shouldRenderDefaultCss = true,\n  className = 'transaction-toast',\n  withTxNonce = false,\n  transactions,\n  status,\n  onClose\n}: TransactionToastPropsType) => {\n  const ref = useRef(null);\n  const [shouldRender, setShouldRender] = useState(true);\n  const transactionDisplayInfo = useGetTransactionDisplayInfo(toastId);\n  const accountShard = useSelector(shardSelector);\n\n  const {\n    errorMessage = 'Transaction failed',\n    timedOutMessage = 'Transaction timed out',\n    successMessage = 'Transaction successful',\n    processingMessage = 'Processing transaction'\n  } = transactionDisplayInfo;\n\n  const isSameShard = useMemo(\n    () =>\n      transactions!.reduce(\n        (\n          prevTxIsSameShard: boolean,\n          { receiver, data }: SignedTransactionType\n        ) => {\n          const receiverAddress = getAddressFromDataField({\n            receiver,\n            data\n          });\n          if (receiverAddress == null) {\n            return prevTxIsSameShard;\n          }\n          return (\n            prevTxIsSameShard &&\n            isCrossShardTransaction({\n              receiverAddress,\n              senderShard: accountShard\n            })\n          );\n        },\n        true\n      ),\n    [transactions, accountShard]\n  );\n\n  const shardAdjustedDuration = isSameShard\n    ? averageTxDurationMs\n    : crossShardRounds * averageTxDurationMs;\n\n  const transactionDuration =\n    transactionDisplayInfo?.transactionDuration || shardAdjustedDuration;\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      toastFooter: 'mb-0 text-break',\n      details: 'media-body flex-grow-1',\n      toastContainer: 'w-100 media p-2',\n      wrapper: 'toast-visible clickable',\n      toastHeader: 'd-flex justify-content-between mb-1',\n      iconContainer: 'align-self-center ml-2 mr-2 pr-1',\n      title: 'm-0 font-weight-normal text-nowrap text-truncate',\n      closeButton: 'close d-flex side-action align-items-center mx-2 outline-0'\n    }\n  );\n\n  const [startTime, endTime] = useMemo(() => {\n    const startTime = moment().unix();\n    const endTime = moment()\n      .add(Number(transactionDuration), 'milliseconds')\n      .unix();\n    return [startTime, endTime];\n  }, []);\n\n  const progress = { startTime, endTime };\n\n  const successToastData = {\n    id: toastId,\n    icon: icons.faCheck,\n    expires: 30000,\n    hasCloseButton: true,\n    title: successMessage,\n    iconClassName: 'bg-success'\n  };\n\n  const pendingToastData = {\n    id: toastId,\n    expires: false,\n    icon: icons.faHourglass,\n    hasCloseButton: false,\n    title: processingMessage,\n    iconClassName: 'bg-warning'\n  };\n\n  const failToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: errorMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-danger'\n  };\n\n  const timedOutToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: timedOutMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-warning'\n  };\n\n  const isPending = getIsTransactionPending(status);\n  const isTimedOut = getIsTransactionTimedOut(status);\n\n  const toatsOptionsData = {\n    signed: pendingToastData,\n    sent: pendingToastData,\n    pending: pendingToastData,\n    success: successToastData,\n    completed: successToastData,\n    cancelled: failToastData,\n    fail: failToastData,\n    timedOut: timedOutToastData\n  };\n\n  const toastDataState = toatsOptionsData[status!];\n\n  const handleDeleteToast = () => {\n    setShouldRender(false);\n    onClose?.(toastId);\n  };\n\n  if (!shouldRender || transactions == null) {\n    return null;\n  }\n\n  return (\n    <ReactBootstrap.Toast\n      ref={ref}\n      className={generatedClasses.wrapper}\n      key={toastId}\n    >\n      <Progress\n        key={toastId}\n        id={toastId}\n        progress={progress}\n        done={!isPending || isTimedOut}\n      >\n        <div className={generatedClasses.toastContainer}>\n          <div className={generatedClasses.iconContainer}>\n            <IconState\n              iconSize='2x'\n              icon={toastDataState.icon}\n              className={toastDataState.iconClassName}\n            />\n            {withTxNonce &&\n              transactions.map((tx: any) => (\n                <p key={tx.nonce.valueOf()}>{tx.nonce.valueOf()}</p>\n              ))}\n          </div>\n          <div className={generatedClasses.details} style={{ minWidth: 0 }}>\n            <div className={generatedClasses.toastHeader}>\n              <h5 className={generatedClasses.title}>{toastDataState.title}</h5>\n              {!isPending && (\n                <button\n                  type='button'\n                  className={generatedClasses.closeButton}\n                  onClick={handleDeleteToast}\n                >\n                  <ReactFontawesome.FontAwesomeIcon\n                    icon={icons.faTimes}\n                    size='xs'\n                  />\n                </button>\n              )}\n            </div>\n            <div className={generatedClasses.toastFooter}>\n              <TxDetails\n                transactions={transactions}\n                title={title}\n                isTimedOut={isTimedOut}\n              />\n            </div>\n          </div>\n        </div>\n      </Progress>\n    </ReactBootstrap.Toast>\n  );\n};\n\nexport default withClassNameWrapper(TransactionToast);\n","import React, { useEffect, useState } from 'react';\nimport { useGetSignedTransactions } from 'hooks';\nimport { useGetPendingTransactions } from 'services';\nimport {\n  getToastsIdsFromStorage,\n  setToastsIdsToStorage\n} from 'storage/session';\nimport { SignedTransactionsBodyType } from 'types';\nimport TransactionToast from 'UI/TransactionToast';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nimport { TransactionsToastListPropsType } from './types';\n\nfunction TransactionsToastList({\n  shouldRenderDefaultCss = true,\n  withTxNonce = false,\n  className = 'transactions-toast-list',\n  pendingTransactions,\n  signedTransactions\n}: TransactionsToastListPropsType) {\n  const [toastsIds, setToastsIds] = useState<any>([]);\n\n  const pendingTransactionsFromStore =\n    useGetPendingTransactions().pendingTransactions;\n\n  const signedTransactionsFromStore = useGetSignedTransactions();\n\n  const pendingTransactionsToRender =\n    pendingTransactions || pendingTransactionsFromStore;\n\n  const signedTransactionsToRender =\n    signedTransactions || signedTransactionsFromStore;\n\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper:\n        'toast-messages d-flex flex-column align-items-center justify-content-sm-end',\n      toast: ''\n    }\n  );\n\n  const mappedToastsList = toastsIds?.map((toastId: string) => {\n    const currentTx: SignedTransactionsBodyType =\n      signedTransactionsToRender[toastId];\n    if (\n      currentTx == null ||\n      currentTx?.transactions == null ||\n      currentTx?.status == null\n    ) {\n      return null;\n    }\n\n    const { transactions, status } = currentTx;\n    return (\n      <TransactionToast\n        className={className}\n        key={toastId}\n        transactions={transactions}\n        status={status}\n        toastId={toastId}\n        withTxNonce={withTxNonce}\n      />\n    );\n  });\n\n  const mapPendingSignedTransactions = () => {\n    const newToasts = [...toastsIds];\n\n    for (const sessionId in pendingTransactionsToRender) {\n      const hasToast = toastsIds.includes(sessionId);\n\n      if (!hasToast) {\n        newToasts.push(sessionId);\n      }\n    }\n\n    setToastsIds(newToasts);\n  };\n\n  const fetchSessionStorageToasts = () => {\n    const sessionStorageToastsIds = getToastsIdsFromStorage();\n\n    if (sessionStorageToastsIds) {\n      const newToasts = [...toastsIds, ...sessionStorageToastsIds];\n      setToastsIds(newToasts);\n    }\n  };\n\n  const saveSessionStorageToasts = () => {\n    const shouldSaveLocalToasts = Boolean(toastsIds.length);\n    if (!shouldSaveLocalToasts) {\n      return;\n    }\n\n    setToastsIdsToStorage(toastsIds);\n  };\n\n  useEffect(() => {\n    fetchSessionStorageToasts();\n    return () => {\n      saveSessionStorageToasts();\n    };\n  }, []);\n\n  useEffect(() => {\n    mapPendingSignedTransactions();\n  }, [pendingTransactionsToRender]);\n\n  return <div className={generatedClasses.wrapper}>{mappedToastsList}</div>;\n}\n\nexport default withClassNameWrapper(TransactionsToastList);\n","let platform: any = {};\ntry {\n  platform = require('platform');\n} catch (err) {}\n\nexport default platform;\n","let qrcode: any = {};\ntry {\n  qrcode = require('qrcode');\n} catch (err) {}\n\nexport default qrcode;\n","import React, { useEffect, useState } from 'react';\n\nimport platform from 'optionalPackages/platform';\nimport QRCode from 'optionalPackages/qrcode';\nimport { useWalletConnectLogin } from 'services';\nimport ModalContainer from 'UI/ModalContainer';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { ReactComponent as Lighting } from '../WalletConnectLoginButton/lightning.svg';\nimport { LoginModalPropsType } from './types';\n\nfunction WalletConnectLoginContainer({\n  callbackRoute,\n  loginButtonText,\n  title = 'Maiar Login',\n  logoutRoute = '/unlock',\n  className = 'wallect-connect-login-modal',\n  lead = 'Scan the QR code using Maiar',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin,\n  token,\n  onClose\n}: LoginModalPropsType) {\n  const [\n    initLoginWithWalletConnect,\n    { error },\n    { uriDeepLink, walletConnectUri }\n  ] = useWalletConnectLogin({\n    logoutRoute,\n    callbackRoute,\n    token,\n    redirectAfterLogin,\n    shouldLoginUser: true\n  });\n  const [qrCodeSvg, setQrCodeSvg] = useState<string>('');\n  const isMobileDevice =\n    platform?.os?.family === 'iOS' || platform?.os?.family === 'Android';\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: 'btn btn-primary px-sm-4 m-1 mx-sm-3',\n      loginText: 'text-left',\n      container: 'm-auto login-container',\n      card: 'card my-3 text-center',\n      cardBody: 'card-body p-4 mx-lg-4',\n      qrCodeSvgContainer: 'mx-auto mb-3',\n      title: 'mb-3',\n      leadText: 'lead mb-0',\n      mobileLoginButton: 'btn btn-primary px-4 mt-4',\n      errorMessage:\n        'text-danger d-flex justify-content-center align-items-center'\n    }\n  );\n\n  const generateQRCode = async () => {\n    if (!walletConnectUri) {\n      return;\n    }\n\n    const svg = await QRCode.toString(walletConnectUri, {\n      type: 'svg'\n    });\n\n    setQrCodeSvg(svg);\n  };\n\n  useEffect(() => {\n    generateQRCode();\n  }, [walletConnectUri]);\n\n  useEffect(() => {\n    initLoginWithWalletConnect();\n  }, []);\n\n  const content = (\n    <div className={generatedClasses.container}>\n      <div className={generatedClasses.root}>\n        <div className={generatedClasses.card}>\n          <div className={generatedClasses.cardBody}>\n            <div\n              className={generatedClasses.qrCodeSvgContainer}\n              dangerouslySetInnerHTML={{\n                __html: qrCodeSvg\n              }}\n              style={{\n                width: '15rem',\n                height: '15rem'\n              }}\n            />\n            <h4 className={generatedClasses.title}>{title}</h4>\n            {isMobileDevice ? (\n              <React.Fragment>\n                <p className={generatedClasses.leadText}>{loginButtonText}</p>\n                <a\n                  id='accessWalletBtn'\n                  data-testid='accessWalletBtn'\n                  className={generatedClasses.mobileLoginButton}\n                  href={uriDeepLink || undefined}\n                  rel='noopener noreferrer nofollow'\n                  target='_blank'\n                >\n                  <Lighting\n                    className={generatedClasses.cardBody}\n                    style={{\n                      width: '0.7rem',\n                      height: '0.7rem'\n                    }}\n                  />\n                  {title}\n                </a>\n              </React.Fragment>\n            ) : (\n              <p className={generatedClasses.leadText}>{lead}</p>\n            )}\n            <div>\n              {error && (\n                <p className={generatedClasses.errorMessage}>{error}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return wrapContentInsideModal ? (\n    <ModalContainer\n      title={'Login with Maiar'}\n      className={className}\n      onClose={onClose}\n    >\n      {content}\n    </ModalContainer>\n  ) : (\n    content\n  );\n}\n\nexport default withClassNameWrapper(WalletConnectLoginContainer);\n","import React, { Fragment, useState } from 'react';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport WalletConnectLoginContainer from '../WalletConnectLoginContainer';\nimport { WalletConnectLoginButtonPropsType } from './types';\n\nconst WalletConnectLoginButton = ({\n  children,\n  callbackRoute,\n  loginButtonText = 'Maiar App',\n  title = 'Maiar Login',\n  logoutRoute = '/unlock',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin = false,\n  buttonClassName,\n  className = 'wallect-connect-login',\n  lead = 'Scan the QR code using Maiar',\n  token\n}: WalletConnectLoginButtonPropsType) => {\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n        buttonClassName != null ? buttonClassName : ''\n      }`,\n      loginText: 'text-left'\n    }\n  );\n\n  const handleOpenModal = () => {\n    setShowLoginModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowLoginModal(false);\n  };\n\n  return (\n    <Fragment>\n      <button onClick={handleOpenModal} className={generatedClasses.wrapper}>\n        {children || (\n          <span className={generatedClasses.loginText}>{loginButtonText}</span>\n        )}\n      </button>\n      {showLoginModal && (\n        <WalletConnectLoginContainer\n          callbackRoute={callbackRoute}\n          loginButtonText={loginButtonText}\n          title={title}\n          token={token}\n          className={className}\n          logoutRoute={logoutRoute}\n          lead={lead}\n          wrapContentInsideModal={wrapContentInsideModal}\n          redirectAfterLogin={redirectAfterLogin}\n          onClose={handleCloseModal}\n        />\n      )}\n    </Fragment>\n  );\n};\n\nexport default withClassNameWrapper(WalletConnectLoginButton);\n","import React from 'react';\nimport { useWebWalletLogin } from 'services';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { WebWalletLoginButtonPropsType } from './types';\n\nconst WebWalletLoginButton: (\n  props: WebWalletLoginButtonPropsType\n) => JSX.Element = ({\n  children,\n  token,\n  className = 'web-wallet-login',\n  callbackRoute,\n  buttonClassName,\n  loginButtonText = 'Elrond Web Wallet',\n  shouldRenderDefaultCss = true\n}) => {\n  const [onInitiateLogin] = useWebWalletLogin({\n    callbackRoute,\n    token\n  });\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n      buttonClassName != null ? buttonClassName : ''\n    }`,\n    loginText: 'text-left'\n  });\n\n  const handleLogin = () => {\n    onInitiateLogin();\n  };\n\n  return (\n    <button onClick={handleLogin} className={classes.wrapper}>\n      {children || <span className={classes.loginText}>{loginButtonText}</span>}\n    </button>\n  );\n};\n\nexport default withClassNameWrapper(WebWalletLoginButton);\n","import React from 'react';\nimport { useGetLoginInfo } from 'hooks';\nimport ExtensionLoginButton from 'UI/extension/LoginButton';\n\nimport LedgerLoginButton from 'UI/ledger/LoginButton';\nimport WalletConnectLoginButton from 'UI/walletConnect/WalletConnectLoginButton';\nimport WebWalletLoginButton from 'UI/webWallet/LoginButton';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst UnlockPage = ({\n  loginRoute,\n  title = 'Login',\n  className = 'unlock-page',\n  shouldRenderDefaultCss = true,\n  LedgerLoginButtonText = 'Ledger',\n  description = 'Pick a login method',\n  WalletConnectLoginButtonText = 'Maiar',\n  ExtensionLoginButtonText = 'Extension',\n  WebWalletLoginButtonText = 'Web wallet'\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `home d-flex flex-fill align-items-center ${wrapperClassName}`,\n      title: 'mb-4',\n      description: 'mb-4',\n      cardContainer: 'm-auto',\n      card: 'card my-4 text-center',\n      cardBody: 'card-body py-4 px-2 px-sm-2 mx-lg-4'\n    }\n  );\n  const { isLoggedIn } = useGetLoginInfo();\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      window.location.href = loginRoute;\n    }\n  }, [isLoggedIn]);\n\n  return (\n    <div className={generatedClasses.wrapper}>\n      <div className={generatedClasses.cardContainer}>\n        <div className={generatedClasses.card}>\n          <div className={generatedClasses.cardBody}>\n            <h4 className={generatedClasses.title}>{title}</h4>\n            <p className={generatedClasses.description}>{description}</p>\n            <ExtensionLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={ExtensionLoginButtonText}\n            />\n            <WebWalletLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={WebWalletLoginButtonText}\n            />\n            <LedgerLoginButton\n              loginButtonText={LedgerLoginButtonText}\n              callbackRoute={loginRoute}\n            />\n            <WalletConnectLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={WalletConnectLoginButtonText}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withClassNameWrapper(UnlockPage);\n"]},"metadata":{},"sourceType":"module"}